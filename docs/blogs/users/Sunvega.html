<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-blogs/users/Sunvega" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">From MySQL to a Native Distributed Architecture: Sunvega‘s Roadmap of Full Migration to OceanBase Database | OceanBase</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://oceanbase.github.io/docs/blogs/users/Sunvega"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="From MySQL to a Native Distributed Architecture: Sunvega‘s Roadmap of Full Migration to OceanBase Database | OceanBase"><meta data-rh="true" name="description" content="Sunvega Information Technology Co., Ltd. (&quot;Sunvega&quot; or &quot;we&quot; for short), a company that has been steadily growing for 11 years, specializes in the development and application of cloud modeling, cloud rendering, and AI-powered 3D vectorization. Sunvega is dedicated to providing the manufacturing industry with next-generation cloud-based, AI-powered, and integrated design/display/processing solutions, helping enterprises on their road to successful digital transformation and system upgrades. Over the past decade, we have earned widespread recognition for our technical excellence and service quality, establishing us as a leader in our niche market."><meta data-rh="true" property="og:description" content="Sunvega Information Technology Co., Ltd. (&quot;Sunvega&quot; or &quot;we&quot; for short), a company that has been steadily growing for 11 years, specializes in the development and application of cloud modeling, cloud rendering, and AI-powered 3D vectorization. Sunvega is dedicated to providing the manufacturing industry with next-generation cloud-based, AI-powered, and integrated design/display/processing solutions, helping enterprises on their road to successful digital transformation and system upgrades. Over the past decade, we have earned widespread recognition for our technical excellence and service quality, establishing us as a leader in our niche market."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://oceanbase.github.io/docs/blogs/users/Sunvega"><link data-rh="true" rel="alternate" href="https://oceanbase.github.io/docs/blogs/users/Sunvega" hreflang="en"><link data-rh="true" rel="alternate" href="https://oceanbase.github.io/docs/blogs/users/Sunvega" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6JQM9QDU5V-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H4XM2M50RX"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-H4XM2M50RX",{})</script><link rel="stylesheet" href="/assets/css/styles.7e3a93fe.css">
<script src="/assets/js/runtime~main.bf54e5d6.js" defer="defer"></script>
<script src="/assets/js/main.8fc986a8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="OceanBase Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="OceanBase Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OceanBase</b></a><a class="navbar__item navbar__link" href="/docs/blogs/arch/all-in-one">Blogs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Product Docs</a><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">User Manual</a><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Developer Manual</a></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><span><li><a class="dropdown__link" href="/docs/sig/overview/list">Special Interest Group(SIG)</a></li></span><span><li><a class="dropdown__link" href="/docs/honor/overview">Community Honors</a></li></span><span><li><a href="http://github.com/oceanbase/oceanbase/discussions" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub Discussion<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://discord.gg/74cF8vbNEs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://ask.oceanbase.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forum (in Chinese)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://stackoverflow.com/questions/tagged/oceanbase" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stack Overflow<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Data + AI</a><ul class="dropdown__menu"><span><li><a href="https://oceanbase-devhub.github.io" target="_blank" rel="noopener noreferrer" class="dropdown__link">AI Workshops<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://oceanbase-devhub.github.io/ai-workshop-2024" target="_blank" rel="noopener noreferrer" class="dropdown__link">RAG Bot<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://oceanbase-devhub.github.io/dify/dify@oceanbase-workshop" target="_blank" rel="noopener noreferrer" class="dropdown__link">Dify (MySQL Compatible)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://oceanbase-devhub.github.io/DB-GPT/docker/compose_examples/ob_dbgpt_tutorial" target="_blank" rel="noopener noreferrer" class="dropdown__link">DB-GPT<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><a href="https://en.oceanbase.com/softwarecenter" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/oceanbase" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/blogs/arch/all-in-one">Architectural Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/blogs/feat/io-isolation">Features Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/blogs/tech/Materialized-Views">Technical Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/blogs/users/2DFire">Corporate Cases</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/2DFire">OceanBase Database: 2DFire‘s New Choice in the Post-sharding Era</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/AXA">How Did AXA SPDB Select a Database Service to Meet Both OLTP and OLAP Requirements?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Beike-Dict-service">Beike: Practice of Cost Reduction and Efficiency Improvement Based on the Real-time Dictionary Service of OceanBase Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Beike-Flink-OB">Performance of Beike’s Real-time Dimension Table Service Improved by 3-4 Times Based on a Flink + OceanBase Solution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/CR-Vanguard">CR Vanguard Upgrades Its Core System Database and Improves System Performance By 70%</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/DANA">DANA Achieved Three Key Zero-Impact Goals with OceanBase Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/E-mind">From MySQL to OceanBase: how does E-mind manage the analysis of humongous data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/E-surfing-Pay">Multitenancy Helps E-surfing Pay Improve Performance Fivefold at a Lower Cost</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Eccang">Eccang × OceanBase: Building a Full-Ecosystem SaaS Platform for New Retail in Cross-Boarder Ecommerce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Hybrid-Storage-Deploy">Breaking Resource Limits: OceanBase Database Hybrid Storage Deployment and Real-world Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/KYE">Handling over 10 million daily API calls with an ultra-low query latency: A real-time analytical solution of KYE based on Flink and OceanBase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Kwai">400TB Single Cluster: OceanBase Powers Kwai`s Core Business</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/PalmPay">PalmPay Cuts Costs by 80% with OceanBase Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/SRCUB">SRCUB‘s Practice: An Upgrade to a Multi-Active Distributed Architecture with Stable Running of 49 Systems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Sunshine-Insurance">Sunshine Insurance‘s Practices of Deploying Core Business Systems on OceanBase Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Sunshine">Sunshine Insurance`s Business System Has Run on OceanBase Database Stably for over 700 Days</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/blogs/users/Sunvega">From MySQL to a Native Distributed Architecture: Sunvega‘s Roadmap of Full Migration to OceanBase Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/TAL">TAL‘s Multitenancy Practice: Solving Resource Isolation and Fragmentation in the Next-gen Data Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Yonyou">Yonyou Replaces MySQL with OceanBase Database to Reduce O&amp;M Costs and Achieve High Availability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Yunji">Slashing Costs by 87.5%: Yunji`s Cost-cutting Adventure with OceanBase Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Zhongyuan-Bank">Zhongyuan Bank‘s Practice: 70+ Tests Performed to Verify OceanBase Database, 30+ Systems Upgraded to New Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/Zuoyebang">How Zuoyebang Leverages OceanBase Database for Business Success</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/boss-zhipin">BOSS Zhipin —— How to save 70% storage cost through OceanBase with an archive database of 1 billion rows per day?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/dmall">DMALL —— a summary of database selection experience in SaaS scenarios</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/sichuan-hwadee">Sichuan Hwadee —— The practice of lightweight data warehouse construction of health big data based on OceanBase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/kuayue-express">KUAYUE EXPRESS —— In the real-time warehouse scenario, utilizing OceanBase to make up for the shortcomings of MySQL and StarRocks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/momo">Momo —— Exploration and practice of persistent cache based on OceanBase KV storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/trading-system">Practice of Applying OceanBase Database in a Futures Company‘s Production Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/blogs/users/two-trading-one-cluster">Handling Two Trading Scenarios with One OceanBase Cluster</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/blogs/showcases/architectural-evolution">Highlights</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/blogs/others/flink-and-ob">Others</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Corporate Cases</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">From MySQL to a Native Distributed Architecture: Sunvega‘s Roadmap of Full Migration to OceanBase Database</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>From MySQL to a Native Distributed Architecture: Sunvega‘s Roadmap of Full Migration to OceanBase Database</h1></header><p>Sunvega Information Technology Co., Ltd. (&quot;Sunvega&quot; or &quot;we&quot; for short), a company that has been steadily growing for 11 years, specializes in the development and application of cloud modeling, cloud rendering, and AI-powered 3D vectorization. Sunvega is dedicated to providing the manufacturing industry with next-generation cloud-based, AI-powered, and integrated design/display/processing solutions, helping enterprises on their road to successful digital transformation and system upgrades. Over the past decade, we have earned widespread recognition for our technical excellence and service quality, establishing us as a leader in our niche market.</p>
<p>We focus on solving the industrial challenges of frontend and backend integration, using cloud-based software to drive industry upgrades. On the frontend, users can easily design their interior spaces on our web pages. On the backend, we make sure that their designs are seamlessly connected to manufacturers, enabling data to flow directly to the production line. This allows for smooth material cutting and final product delivery to customers for installation. With our industrial software, users can effortlessly turn their designs into reality.</p>
<p><img decoding="async" loading="lazy" alt="1735022875" src="/assets/images/feb0e4e8-41c0-4890-8a3f-434f9a3fb535-05727cc526ef100c28018d28f9ee33fa.png" width="1258" height="724" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="background-a-database-architecture-based-on-mysql-sharding">Background: A Database Architecture Based on MySQL Sharding<a href="#background-a-database-architecture-based-on-mysql-sharding" class="hash-link" aria-label="Direct link to Background: A Database Architecture Based on MySQL Sharding" title="Direct link to Background: A Database Architecture Based on MySQL Sharding">​</a></h2>
<p>For a modern enterprise like Sunvega, built on cutting-edge technology and digital capabilities, the importance of databases to our business cannot be overstated.</p>
<p>Before adopting OceanBase Database, we deployed our database in a conventional architecture. Initially, we deployed a relational database. However, as the data volume grew rapidly, that database struggled to meet our performance expectations. A few years ago, we adopted a MySQL sharding strategy to cope with the increasing business volume.</p>
<p><img decoding="async" loading="lazy" alt="1735022947" src="/assets/images/18304212-bd17-4e81-ac68-937888f191a3-9f444c12cbe9b2b51af8e1b87a9bd460.png" width="1466" height="1136" class="img_ev3q"></p>
<p>From the architecture diagram, you can see that we deployed a monitoring module and an O&amp;M platform to maintain system stability. The core parts sitting in the middle provide key features of the system. Incoming application requests are first distributed by a load balancer to various middleware for processing, and then routed to MySQL databases and an aggregation database, where data write and read operations are handled separately.</p>
<p><img decoding="async" loading="lazy" alt="1735022988" src="/assets/images/38e8505f-4bd9-445a-aef6-0e4803f91689-6f966da82f50b20706f3896758e4dd3f.png" width="1678" height="844" class="img_ev3q"></p>
<p>In this architecture, application requests are routed to sharded MySQL databases by the middleware ProxySQL, a common practice when dealing with large tables. However, such sharded MySQL databases could not process real-time requests forwarded by HAProxy with expected performance in a distributed environment, so we deployed an aggregation database of a well-known Chinese vendor to handle read operations.</p>
<p>In short, this architecture handled write and read requests separately. Read requests that involved global operations, had high requirements for real-time performance, and could not be handled directly by the big data backend were forwarded by HAProxy to the aggregation database for fast processing.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="business-challenges-why-sunvega-switched-from-mysql-sharding-to-a-native-distributed-database-solution">Business Challenges: Why Sunvega Switched from MySQL Sharding to a Native Distributed Database Solution<a href="#business-challenges-why-sunvega-switched-from-mysql-sharding-to-a-native-distributed-database-solution" class="hash-link" aria-label="Direct link to Business Challenges: Why Sunvega Switched from MySQL Sharding to a Native Distributed Database Solution" title="Direct link to Business Challenges: Why Sunvega Switched from MySQL Sharding to a Native Distributed Database Solution">​</a></h2>
<p>While the MySQL sharding strategy helped relieve the increasing database workload in the short term, it posed challenges in terms of performance, O&amp;M, and costs.</p>
<p>Performance issues: As the data volume grew, MySQL databases hit significant performance bottlenecks in handling large tables. Complex queries also led to inefficiency.</p>
<p>O&amp;M drawbacks: The architecture was complex. It consisted of sharded databases, with multiple standby databases for each primary database, making schema changes particularly difficult. For example, altering a table schema could require changes across hundreds of tables, a time-consuming and risky process.</p>
<p>Additionally, the large number of instances and nodes required more third-party middleware for read-write splitting and data synchronization, increasing potential failure points. Data synchronization, in particular, could be stuck if schema change operations were performed on a large table, resulting in prolonged data read latency that might affect the service stability.</p>
<p>Cost concerns: The sharding strategy significantly increased the number of upstream servers. Besides, more servers are required to deploy middleware components and high availability features, driving up overall costs.</p>
<p>These challenges compelled an alternative database solution. To address the growing data volume and increasingly complex business requirements, a native distributed database became the preferred choice.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-sunvega-chose-oceanbase-database">Why Sunvega Chose OceanBase Database<a href="#why-sunvega-chose-oceanbase-database" class="hash-link" aria-label="Direct link to Why Sunvega Chose OceanBase Database" title="Direct link to Why Sunvega Chose OceanBase Database">​</a></h2>
<p>We adhered to the following principles in database selection:</p>
<ul>
<li>
<p>Technical excellence: The database must provide strong technical capabilities.</p>
</li>
<li>
<p>Long-term viability: We wanted a solution that would meet our needs for the foreseeable future, avoiding repeated selection and investment.</p>
</li>
<li>
<p>Smooth migration: Compatibility with MySQL was crucial to minimize development efforts and ensure a seamless migration.</p>
</li>
</ul>
<p>Then, we conducted comprehensive tests on several popular distributed databases in typical scenarios. Based on their actual performance, we decided to upgrade our database system to OceanBase Database. Now, let&#x27;s learn more about the test results:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="test-1-ddl-operations">Test 1: DDL operations<a href="#test-1-ddl-operations" class="hash-link" aria-label="Direct link to Test 1: DDL operations" title="Direct link to Test 1: DDL operations">​</a></h4>
<p>First, we tested operations like adding columns, deleting columns, and adding indexes on large tables.</p>
<p><img decoding="async" loading="lazy" alt="1735024562" src="/assets/images/a4e40bc5-1974-44fa-9c6e-819c4bacf9a8-0cd8d05d509e1c00e12518b3fd1bd306.png" width="1352" height="372" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="1735024834" src="/assets/images/c3411f0b-a1a6-445d-ba5b-451da2c77f01-8531c329ca6a21afdc2e060962c5ee69.png" width="577" height="308" class="img_ev3q"></p>
<ul>
<li>
<p>Adding columns: After comparison, we found that both MySQL and our previous domestic distributed database (let&#x27;s call it database A) showed significant performance improvements in adding columns, without requiring complex operations such as creating temporary tables like a few years ago. All tested databases could now complete this task in seconds.</p>
</li>
<li>
<p>Deleting columns: This operation is rare in our business scenarios. We didn&#x27;t take it as a major focus in the assessment.</p>
</li>
<li>
<p>Adding indexes: This operation is performed more frequently than adding columns, especially when new business features are launched. We placed great importance on its performance. In our business practice, we noticed that OceanBase Database performed index operations twice as fast as MySQL 8.0 and over 15 times faster than database A. The results not only met our expectations but surprised us in some aspects.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="test-2-data-compression">Test 2: Data compression<a href="#test-2-data-compression" class="hash-link" aria-label="Direct link to Test 2: Data compression" title="Direct link to Test 2: Data compression">​</a></h4>
<p>Data compression is one of the standout features of OceanBase Database. In the test, the storage usage of OceanBase Database was less than one-third that of MySQL and one-fifth that of database A. The figure below shows the measured storage usage, providing strong evidence that OceanBase Database is quite cost-saving.</p>
<p><img decoding="async" loading="lazy" alt="1735023169" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAisAAAGRCAIAAAArdWTxAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAKzWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNS0wMi0yNFQxNDo0NzozMSswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjUtMDItMjRUMTY6NDU6MzYrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjUtMDItMjRUMTY6NDU6MzYrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDhiZGEzMmItY2EyZi1jNjQ3LWI3NTItMzI2MWFiYzQ2MTlkIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NzRmYTczYTktZWM4OC1lZjQwLWIxNDAtZjNmNmVhZjM0MDQzIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZGYzNzczOWYtMzU1ZS01MjRkLTk2NTYtY2FjMDQyMTlkMjBjIj4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJEYXRhIFZvbHVtZSAoVEIpIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJEYXRhIFZvbHVtZSAoVEIpIi8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iRGF0YWJhc2UgQSIgcGhvdG9zaG9wOkxheWVyVGV4dD0iRGF0YWJhc2UgQSIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZGYzNzczOWYtMzU1ZS01MjRkLTk2NTYtY2FjMDQyMTlkMjBjIiBzdEV2dDp3aGVuPSIyMDI1LTAyLTI0VDE0OjQ3OjMxKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBpbWFnZS9wbmcgdG8gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZWE2OWFkZTQtZGYwMC00OTQ4LTgzNzQtZmU2MGM1OGZhNzAyIiBzdEV2dDp3aGVuPSIyMDI1LTAyLTI0VDE2OjQ0OjE3KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM1MTAyODlmLTQ1NDYtOWQ0Yy04OWQ2LWQ5MDgxODkyM2I3NSIgc3RFdnQ6d2hlbj0iMjAyNS0wMi0yNFQxNjo0NTozNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImRlcml2ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImNvbnZlcnRlZCBmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowOGJkYTMyYi1jYTJmLWM2NDctYjc1Mi0zMjYxYWJjNDYxOWQiIHN0RXZ0OndoZW49IjIwMjUtMDItMjRUMTY6NDU6MzYrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzUxMDI4OWYtNDU0Ni05ZDRjLTg5ZDYtZDkwODE4OTIzYjc1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmRmMzc3MzlmLTM1NWUtNTI0ZC05NjU2LWNhYzA0MjE5ZDIwYyIgc3RSZWY6b3Jp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" width="555" height="401" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="test-3-qps-performance">Test 3: QPS performance<a href="#test-3-qps-performance" class="hash-link" aria-label="Direct link to Test 3: QPS performance" title="Direct link to Test 3: QPS performance">​</a></h4>
<p>We tested their QPS performance with our actual online traffic data. Database A consisted of four servers (each with 96 CPU cores, 192 GB of memory, and 1.5 TB of storage space), while OceanBase Database consisted of two servers (each with 62 CPU cores, 400 GB of memory, and 1.5 TB of storage space). The test results are shown in the figure below.</p>
<p><img decoding="async" loading="lazy" alt="1735023202" src="/assets/images/77b38ebb-7b72-4a88-a22b-26c1a2f7cd68-f66d9597c95a5916dd49288e8a31f9b3.png" width="1057" height="693" class="img_ev3q"></p>
<p>You may have noticed that we configured slightly more memory resources for OceanBase Database. This is because fewer CPU cores were configured for it. The test results also indicated that OceanBase Database required half the hardware resources of database A. As shown in the preceding figure, as the concurrency increased from 80 to 600, OceanBase Database outperformed database A in both performance and efficiency.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="test-4-linear-scalability">Test 4: Linear scalability<a href="#test-4-linear-scalability" class="hash-link" aria-label="Direct link to Test 4: Linear scalability" title="Direct link to Test 4: Linear scalability">​</a></h4>
<p>To better observe the linear scalability of OceanBase Database, we also tested its performance under our actual business traffic with different tenant resource specifications, ranging from 8 CPU cores and 35 GB of memory (8C35G) to 62C400G.</p>
<p><img decoding="async" loading="lazy" alt="1735023227" src="/assets/images/66484067-59dd-4bbf-b8bb-335b89356443-f00239e5e4c20d41fb3964e16955b8c2.png" width="1312" height="695" class="img_ev3q"></p>
<p>The results showed that as tenant resources increased, the performance of OceanBase Database improved steadily. The performance increment from 48C300G to 62C400G was less noticeable because the stress testing client had reached its performance limit and couldn’t provide higher traffic. Our goal was to find a product that could meet our business needs and adapt to different requirements as our business grew.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="test-5-traffic-replay">Test 5: Traffic replay<a href="#test-5-traffic-replay" class="hash-link" aria-label="Direct link to Test 5: Traffic replay" title="Direct link to Test 5: Traffic replay">​</a></h4>
<p>We were more concerned with the performance of OceanBase Database in real business scenarios rather than its theoretical limits in TPC-C benchmarks. We selected a real business interface and replayed its daily traffic with different multiples to test the maximum QPS supported by OceanBase Database and verify whether it could handle our current online traffic. In the test, OceanBase Database could handle our peak QPS when the concurrency was set to 40, and its performance improved significantly as the concurrency increased. Its performance was three times the peak of our previous database when the concurrency was set to 400. When the concurrency was set to 600 or greater, the performance plateaued because the stress testing client had reached its limits. Since the peak performance had far exceeded our expectations, we didn’t scale up the client for further tests.</p>
<p><img decoding="async" loading="lazy" alt="1735025442" src="/assets/images/e4c11b39-32c1-4941-879b-82613a96a710-945e4d32a3808fa037e82df918fe3b22.png" width="1804" height="862" class="img_ev3q"></p>
<p>Given the test results, we concluded that OceanBase Database could handle our business traffic.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="full-migration-to-oceanbase-database">Full Migration to OceanBase Database<a href="#full-migration-to-oceanbase-database" class="hash-link" aria-label="Direct link to Full Migration to OceanBase Database" title="Direct link to Full Migration to OceanBase Database">​</a></h2>
<p>In fact, we started testing OceanBase Database in October 2022.</p>
<p><img decoding="async" loading="lazy" alt="1735023289" src="/assets/images/13fe8d2e-61f0-4140-9bc0-5bb6e4b9deab-aa2f19e7e11a892cbde9a90f46d7d8cd.png" width="1250" height="518" class="img_ev3q"></p>
<p>At the time, OceanBase Database just became open-source not long ago, and we thought it was worth a shot. Then, we spent a year or so testing it extensively, just to be assured of its stability and reliability.</p>
<p>In September 2023, we deployed OceanBase Database for a pilot project, and built confidence in its performance after months of stable operation. We then gradually migrated more databases to OceanBase Database. By the beginning of 2024, we had migrated all core business systems to OceanBase Database.</p>
<p>Here are some hiccups during our migration process. OceanBase Database provides various tools to meet user needs, such as system assessment, data synchronization, and data collection. However, we needed some unique tools for real-time traffic replay and continuous optimization during the migration process.</p>
<p>During testing, we needed an application to provide all data during a period at a time, but also replay traffic in real-time. Facing this challenge, we decided to automate the process using an in-house traffic capture tool. It could capture and analyze the traffic, extract key information in real time, and then forward the traffic to the new database.</p>
<p>Given the differences between the new and old databases, we had to optimize SQL statements while doing traffic replay. We must also test SQL performance and prepare indexes in advance to ensure migration performance. After rounds of preparation, we began switching our production traffic. The following screenshot shows the real process back then. Since this pilot project involved only read traffic, we were able to switch it in batches to ensure a successful result.</p>
<p><img decoding="async" loading="lazy" alt="1735024054" src="/assets/images/1c737052-b28a-4945-aed9-2ebd82d3f458-d4614d902346b9ee47165866a11a277c.png" width="1082" height="592" class="img_ev3q"></p>
<p>We started with 10% and observed the performance for a day, and then increased it to 30% the next day, followed by 50% and 75%. After about a week, we switched 100% of the traffic to OceanBase Database.</p>
<p>To test the application response time, we also embedded a tracking checkpoint into the application. You can see from the following screenshot that the response time decreased gradually. This indicated that, after switching to OceanBase Database, application performance improved significantly with faster response.</p>
<p><img decoding="async" loading="lazy" alt="1735024054" src="/assets/images/170ab469-809b-4ce0-af3f-6440408af8d7-795ccaf4b132969edf4c8dd7568961d7.png" width="2535" height="1130" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-we-migrated-our-full-stack-to-oceanbase-database">Why We Migrated Our Full Stack to OceanBase Database<a href="#why-we-migrated-our-full-stack-to-oceanbase-database" class="hash-link" aria-label="Direct link to Why We Migrated Our Full Stack to OceanBase Database" title="Direct link to Why We Migrated Our Full Stack to OceanBase Database">​</a></h2>
<p>OceanBase Database has brought us transformative benefits.</p>
<p>As we removed most middleware and integrated the monitoring module into OceanBase Database, we now have a streamlined architecture that is easier to maintain with reduced failure points.</p>
<p><img decoding="async" loading="lazy" alt="1735023414" src="/assets/images/fc9035d6-e988-427c-a9bf-f4492ea504b0-2b9a9a77aac34af07b95d11533941901.png" width="1240" height="584" class="img_ev3q"></p>
<p>In addition to high performance and auto-scaling, OceanBase Database also provides native failover capabilities. In our test, we manually shut down a node to verify automatic failover. The results met our high-availability requirements.</p>
<p>Furthermore, the overall cost of OceanBase Database is about 30% less than that of the previous architecture. This is attributed to its powerful distributed data processing capabilities.</p>
<p><img decoding="async" loading="lazy" alt="1735023443" src="/assets/images/6a718667-16b3-4c60-81b5-da8e922900b6-9fe03508ee15edd1f7ec00e478ba5301.png" width="830" height="438" class="img_ev3q"></p>
<p>Having noticed frequent cloud service failures lately, we have put forward the multi-cloud strategy, which aims to spread risk and ensure business continuity and stability.</p>
<p>Specifically, we need to deploy resources also on Cloud B instead of relying solely on Cloud A. This way, we can immediately switch to Cloud B, if our services on Cloud A fail.</p>
<p><img decoding="async" loading="lazy" alt="1735023483" src="/assets/images/405a5033-a365-498e-aba8-ffbfb7364241-fb62379cb0af7c86ed2cfc0b8ae0e506.png" width="1256" height="326" class="img_ev3q"></p>
<p>This strategy can hardly be applied on our previous sharded architecture, which consisted of numerous middleware, components, and servers. On the contrary, the architecture based on OceanBase Database is greatly streamlined, making it much easier to achieve our goals. OceanBase Migration Service (OMS), a powerful and user-friendly data migration tool, further simplifies the implementation of the strategy. We have already begun building this multi-cloud architecture, which is expected to work within the next six to twelve months.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<p>During the migration, we encountered some minor issues and bugs, most of which have been fixed. I&#x27;d like to talk about our solutions for your reference.</p>
<p>Issue 1: Columns involved in the <code>ORDER BY</code> clause are pre-validated in MySQL and OceanBase Database.</p>
<p><img decoding="async" loading="lazy" src="https://obcommunityprod.oss-cn-shanghai.aliyuncs.com/prod/blog/2024-12/2c9a659e-4ad6-4db8-8b3f-be24542882e7.png" alt="1735023543" class="img_ev3q"></p>
<p>This issue was a bug due to incompatibility with database A. If the <code>ORDER BY</code> clause was executed in database A, and it involved a column with equal values existing in two tables, database A simply extracted and sorted data without validating which table the column belonged to. In MySQL of a later version or OceanBase Database, however, the system validates the column before SQL execution. The good news is that this issue rarely occurs.</p>
<p>Considering that heterogeneous architectures or products can never be fully compatible, I strongly recommend performing traffic replay to identify compatibility issues, which may occur not only when switching to a database of a different vendor, but also during version upgrades of the same database, such as from MySQL 5.7 to 8.0.</p>
<p>Issue 2: During database migration or cross-database operations, if two columns from two databases are declared of the same type and have same values, calling the same function in the application to process the values might yield different results in the two databases.</p>
<p><img decoding="async" loading="lazy" alt="1735023581" src="/assets/images/51767573-bed9-4137-8bf6-062298b4682f-156249d6228fbdc6db544f546daa9f13.png" width="830" height="182" class="img_ev3q"></p>
<p>For example, a database calls the <code>field.isBinary()</code> function to check whether the retrieved value is binary data, and then executes different logic depending on the result. A MySQL database considers TINYINT(1) as the BIT type, so the <code>field.isBinary()</code> function returns <code>false</code> for TINYINT(1). OceanBase Database considers TINYINT(1) as a binary type, so the <code>field.isBinary()</code> function returns <code>true</code> for TINYINT(1). In other words, the same input to the same function may result in different return values in different databases.</p>
<p>Issue 3: OceanBase Database uses too many IN operators, and is likely to trigger full table scans. To address this, execution plans need to be bound.</p>
<p>We recommend you perform continuous traffic replay, because the same SQL statement may return different values in different databases, which is inevitable. By replaying traffic, we can identify and address performance issues in business logic.</p>
<p>In a MySQL database, for example, you may encounter complex SQL queries involving complex logic. These queries may affect tens of thousands of rows due to inappropriate logic design, which is usually avoided in well-managed companies. However, undertrained developers may write such code, leading to differences in SQL execution plans and index selection. During traffic replay, it’s essential to intervene early, binding execution plans and selecting indexes to ensure the efficiency and accuracy of SQL queries.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/user-case">User Case</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/blogs/users/Sunvega.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/blogs/users/Sunshine"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Sunshine Insurance`s Business System Has Run on OceanBase Database Stably for over 700 Days</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/blogs/users/TAL"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">TAL‘s Multitenancy Practice: Solving Resource Isolation and Fragmentation in the Next-gen Data Architecture</div></a></nav><div>Loading...</div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background-a-database-architecture-based-on-mysql-sharding" class="table-of-contents__link toc-highlight">Background: A Database Architecture Based on MySQL Sharding</a></li><li><a href="#business-challenges-why-sunvega-switched-from-mysql-sharding-to-a-native-distributed-database-solution" class="table-of-contents__link toc-highlight">Business Challenges: Why Sunvega Switched from MySQL Sharding to a Native Distributed Database Solution</a></li><li><a href="#why-sunvega-chose-oceanbase-database" class="table-of-contents__link toc-highlight">Why Sunvega Chose OceanBase Database</a></li><li><a href="#full-migration-to-oceanbase-database" class="table-of-contents__link toc-highlight">Full Migration to OceanBase Database</a></li><li><a href="#why-we-migrated-our-full-stack-to-oceanbase-database" class="table-of-contents__link toc-highlight">Why We Migrated Our Full Stack to OceanBase Database</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="http://github.com/oceanbase/oceanbase/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussion<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/oceanbase/shared_invite/zt-1e25oz3ol-lJ6YNqPHaKwY_mhhioyEuw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/oceanbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ask.oceanbase.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum (in Chinese)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">SIG</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/sig/AI/sig_intro">AI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/cloud-native/sig_intro">cloud-native</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/compilation/sig_intro">compilation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/develop-tools/sig_intro">develop-tools</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/miniob/sig_intro">MiniOB</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/obdiag/sig_intro">obdiag</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/operation/sig_intro">operation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://en.oceanbase.com/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About OceanBase<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/blogs/arch/all-in-one">Blogs</a></li><li class="footer__item"><a href="https://github.com/oceanbase/oceanbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 OceanBase, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>