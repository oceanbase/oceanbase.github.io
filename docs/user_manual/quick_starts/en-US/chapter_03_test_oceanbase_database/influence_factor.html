<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/influence_factor" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Factors affecting the performance of OceanBase Database | OceanBase</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://oceanbase.github.io/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/influence_factor"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Factors affecting the performance of OceanBase Database | OceanBase"><meta data-rh="true" name="description" content="The performance of a database is subject to a variety of factors. From the perspective of software, the code, algorithm, and system architecture directly affect the database performance. As a hybrid transactional and analytical processing (HTAP) database with high performance, OceanBase Database has undergone constant improvement in terms of performance and resource utilization during version iterations."><meta data-rh="true" property="og:description" content="The performance of a database is subject to a variety of factors. From the perspective of software, the code, algorithm, and system architecture directly affect the database performance. As a hybrid transactional and analytical processing (HTAP) database with high performance, OceanBase Database has undergone constant improvement in terms of performance and resource utilization during version iterations."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://oceanbase.github.io/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/influence_factor"><link data-rh="true" rel="alternate" href="https://oceanbase.github.io/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/influence_factor" hreflang="en"><link data-rh="true" rel="alternate" href="https://oceanbase.github.io/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/influence_factor" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6JQM9QDU5V-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H4XM2M50RX"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-H4XM2M50RX",{})</script><link rel="stylesheet" href="/assets/css/styles.7e3a93fe.css">
<script src="/assets/js/runtime~main.55d8728f.js" defer="defer"></script>
<script src="/assets/js/main.a87ec69d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="OceanBase Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="OceanBase Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OceanBase</b></a><a class="navbar__item navbar__link" href="/docs/blogs/arch/all-in-one">Blogs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Product Docs</a><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">User Manual</a><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Developer Manual</a></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><span><li><a class="dropdown__link" href="/docs/sig/overview/list">Special Interest Group(SIG)</a></li></span><span><li><a class="dropdown__link" href="/docs/honor/overview">Community Honors</a></li></span><span><li><a href="http://github.com/oceanbase/oceanbase/discussions" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub Discussion<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://join.slack.com/t/oceanbase/shared_invite/zt-1e25oz3ol-lJ6YNqPHaKwY_mhhioyEuw" target="_blank" rel="noopener noreferrer" class="dropdown__link">Slack<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://ask.oceanbase.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forum (in Chinese)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://stackoverflow.com/questions/tagged/oceanbase" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stack Overflow<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Data + AI</a><ul class="dropdown__menu"><span><li><a href="https://oceanbase-devhub.github.io" target="_blank" rel="noopener noreferrer" class="dropdown__link">AI Workshops<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://oceanbase-devhub.github.io/ai-workshop-2024" target="_blank" rel="noopener noreferrer" class="dropdown__link">RAG Bot<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://oceanbase-devhub.github.io/dify/dify@oceanbase-workshop" target="_blank" rel="noopener noreferrer" class="dropdown__link">Dify (MySQL Compatible)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://oceanbase-devhub.github.io/DB-GPT/docker/compose_examples/ob_dbgpt_tutorial" target="_blank" rel="noopener noreferrer" class="dropdown__link">DB-GPT<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><a href="https://en.oceanbase.com/softwarecenter" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/oceanbase" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts/en-US/chapter_01_overview_of_the_oceanbase_database/introduction">Overview of the Oceanbase database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts/en-US/chapter_02_deploy_oceanbase_database/introduction">Deploy Oceanbase database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/introduction">Test Oceanbase database</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/overview_of_test">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/influence_factor">Factors affecting the performance of OceanBase Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/sysbench_test">Run the Sysbench benchmark</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/tpcc_test">Run the TPC-C benchmark</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/tpch_test">Run the TPC-H benchmark</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/jmeter_test">Use JMeter to test OceanBase Database in simulated business scenarios</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/common_testing_points">Other common test items</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts/en-US/chapter_04_migration_and_synchronization_oceanbase/introduction">Migrate and synchronize data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts/en-US/chapter_05_operation_and_maintenance/introduction">Operation and maintenance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts/en-US/chapter_06_using_ob_for_business_development/introduction">Using Oceanbase for business development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts/en-US/chapter_07_diagnosis_and_tuning/introduction">Diagnosis_and_tuning</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Test Oceanbase database</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Factors affecting the performance of OceanBase Database</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>3.2 Factors affecting the performance of OceanBase Database</h1></header>
<p>The performance of a database is subject to a variety of factors. From the perspective of software, the code, algorithm, and system architecture directly affect the database performance. As a hybrid transactional and analytical processing (HTAP) database with high performance, OceanBase Database has undergone constant improvement in terms of performance and resource utilization during version iterations.</p>
<p>Operating system parameters also affect the database performance. The operating system serves as a bridge between the software and the hardware of the database. Proper parameter configurations enable the operating system to manage resources and execute tasks in a more efficient manner. This involves refined control on core components such as the memory management, process scheduling, and I/O components.</p>
<p>After software and hardware resources are properly configured, you can take measures, such as runtime data resource allocation, database parameter tuning, and O&amp;M, to make full use of existing system resources to maximize the database performance without compromising system stability.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="operating-system-parameters">Operating system parameters<a href="#operating-system-parameters" class="hash-link" aria-label="Direct link to Operating system parameters" title="Direct link to Operating system parameters">​</a></h2>
<p>You can configure network, memory, and I/O parameters properly to optimize the resource utilization and improve the performance.</p>
<table><thead><tr><th>Category</th><th>Parameter</th><th>Description</th><th>Recommended value/range</th></tr></thead><tr><td rowspan="13">Network parameters</td><td>net.core.somaxconn</td><td>The maximum length of the socket listening queue. Set this parameter to a large value if you frequently establish connections.</td><td><code>2048</code>. The default value is <code>128</code>.</td></tr><tr><td>net.core.netdev_max_backlog</td><td>The length of the buffer queue processed by the protocol stack. A small value may lead to packet loss.</td><td><code>10000</code></td></tr><tr><td>net.core.rmem_default</td><td>The default size of the receive buffer queue.</td><td><code>16777216</code></td></tr><tr><td>net.core.wmem_default</td><td>The default size of the send buffer queue.</td><td><code>16777216</code></td></tr><tr><td>net.core.rmem_max</td><td>The maximum size of the receive buffer queue.</td><td><code>16777216</code></td></tr><tr><td>net.core.wmem_max</td><td>The maximum size of the send buffer queue.</td><td><code>16777216</code></td></tr><tr><td>net.ipv4.ip_local_port_range</td><td>The TCP/UDP port range for the local client. The local client uses a port within this range to initiate a connection with a remote client.</td><td>[3500, 65535]</td></tr><tr><td>net.ipv4.tcp_rmem</td><td>The receive buffer size of the socket. You need to specify three values from left to right: minimum size, default size, and maximum size.</td><td><code>4096</code> (minimum size), <code>87380</code> (default size), and <code>16777216</code> (maximum size).</td></tr><tr><td>net.ipv4.tcp_wmem</td><td>The send buffer size of the socket. You need to specify three values from left to right: minimum size, default size, and maximum size.</td><td><code>4096</code> (minimum size), <code>65536</code> (default size), and <code>16777216</code> (maximum size).</td></tr><tr><td>net.ipv4.tcp_max_syn_backlog</td><td>The number of connections in the SYN_RECVD state.</td><td><code>16384</code></td></tr><tr><td>net.ipv4.tcp_fin_timeout</td><td>The duration of the FIN-WAIT-2 state after the socket is proactively disconnected.</td><td><code>15</code></td></tr><tr><td>net.ipv4.tcp_tw_reuse</td><td>Specifies whether to allow to reuse a socket in the TIME WAIT state.</td><td><code>1</code>, which means a socket in the TIME WAIT state can be reused.</td></tr><tr><td>net.ipv4.tcp_slow_start_after_idle</td><td>Specifies whether to allow to perform a slow start when a TCP connection resumes from the idle state. Prohibiting slow start will reduce the network latency in some cases.</td><td><code>0</code>, which means that slow start is prohibited.</td></tr><tr><td rowspan="2">Memory parameters</td><td>vm.swappiness</td><td>Specifies whether to preferentially use the physical memory.</td><td><code>0</code></td></tr><tr><td>vm.max_map_count</td><td>The number of virtual memory areas that a process can have.</td><td><code>655360</code></td></tr><tr><td>AIO parameters</td><td>fs.aio-max-nr</td><td>The number of asynchronous I/O (AIO) requests.</td><td><code>1048576</code></td></tr></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resource-allocation">Resource allocation<a href="#resource-allocation" class="hash-link" aria-label="Direct link to Resource allocation" title="Direct link to Resource allocation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disk-partitioning">Disk partitioning<a href="#disk-partitioning" class="hash-link" aria-label="Direct link to Disk partitioning" title="Direct link to Disk partitioning">​</a></h3>
<p>An OBServer node depends on syslogs, transaction logs (clogs), and data files when it is running. Storing the log files on the same disk may incur risks due to hardware resource contention.</p>
<ul>
<li>
<p>When the disk space occupied by clogs exceeds the value of <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001105665" target="_blank" rel="noopener noreferrer">log_disk_utilization_threshold</a>, which is 80% by default, clog files will be recycled. When the disk space occupied by clogs exceeds the value of <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001105673" target="_blank" rel="noopener noreferrer">log_disk_utilization_limit_threshold</a>, which is 95% by default, data write will be stopped on the OBServer node.</p>
</li>
<li>
<p>Operations, such as minor compactions and major compactions, that consume extra I/O resources may contend with business read/write requests for I/O resources, leading to business jitters.</p>
</li>
<li>
<p>The resource contention slows down data synchronization in OceanBase Change Data Capture (CDC).</p>
</li>
</ul>
<p>You can take the following measures to address the risks:</p>
<ul>
<li>
<p>When resources on the OBServer node are sufficient, we recommend that you mount three solid-state drives (SSDs) for storage. If the OBServer node does not have three disks or uses Redundant Array of Independent Disks (RAID) for storage, you need to partition the disks or the logical volumes of the disk array.</p>
</li>
<li>
<p>You can enable log throttling to limit the disk I/O bandwidth available for syslogs. Here is an example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> system </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> syslog_io_bandwidth_limit</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;10M&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>You can enable syslog recycling and set the maximum number of syslog files. Here is an example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> system </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> enable_syslog_recycle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> system </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> max_syslog_file_count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="primary-zone">Primary zone<a href="#primary-zone" class="hash-link" aria-label="Direct link to Primary zone" title="Direct link to Primary zone">​</a></h3>
<p>In OceanBase Database, a leader is responsible for the read and write requests in strong-consistency scenarios. Therefore, the distribution of partition leaders determines the distribution of business traffic on OBServer nodes.</p>
<p>The distribution of leaders is controlled by the primary zone, which describes the distribution preferences of leaders. Leaders carry the strong-consistency read/write business traffic. In other words, the primary zone determines the distribution of traffic in OceanBase Database.</p>
<p>For an OceanBase cluster deployed across multiple nodes, you can set the primary zone to <code>RANDOM</code> to scatter leaders of different partitions on nodes in different zones, so as to maximize the resource utilization of each node in the cluster.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="partitioned-tables">Partitioned tables<a href="#partitioned-tables" class="hash-link" aria-label="Direct link to Partitioned tables" title="Direct link to Partitioned tables">​</a></h3>
<p>In OceanBase Database, partitioning allows you to decompose a table into multiple smaller and more manageable parts called partitions based on specific rules. A partitioned table horizontally splits a large table into multiple independent partitions.</p>
<p>Partitioning brings the following benefits:</p>
<ul>
<li>
<p>Higher availability</p>
<p>The unavailability of a partition does not necessarily mean that the entire table is unavailable. The query optimizer automatically removes unreferenced partitions from the query plan. Therefore, queries are not affected when the partitions are unavailable.</p>
</li>
<li>
<p>Easier management of database objects</p>
<p>A partitioned object has pieces that can be managed collectively or separately. You can use DDL statements to operate partitions rather than the whole table or index. Therefore, you can decompose resource-intensive tasks such as the recreation of an index or table. For example, you can move only one partition at a time. If an error occurs, you need to move only the partition again rather than move the table again. In addition, you can execute a <code>TRUNCATE</code> statement on a partition to avoid unnecessary deletion of a large amount data.</p>
</li>
<li>
<p>Reduced contention for shared resources in online transaction processing (OLTP) systems</p>
<p>In OLTP scenarios, partitioning can reduce contention for shared resources. For example, a DML operation is performed on many partitions rather than one table.</p>
</li>
<li>
<p>Enhanced query performance in data warehouses</p>
<p>In analytical processing (AP) scenarios, partitioning can speed up the processing of ad hoc queries. Partitioning keys can implement filtering. For example, if sales data is partitioned by sales time and you want to query the sales data of a quarter, you need to query only one or several partitions rather than the entire table.</p>
</li>
<li>
<p>Better load balancing results</p>
<p>OceanBase Database stores data and implements load balancing by partition. Different partitions can be stored on different OBServer nodes in an OceanBase cluster. Therefore, different partitions of a partitioned table can be distributed on different OBServer nodes so that the data of a table can be evenly distributed across the entire OceanBase cluster.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-groups">Table groups<a href="#table-groups" class="hash-link" aria-label="Direct link to Table groups" title="Direct link to Table groups">​</a></h3>
<p>A table group is a logical concept. It represents a collection of tables. By default, data is randomly distributed to tables. In a distributed scenario, you can define a table group to control the physical closeness among a group of tables, thereby reducing the overhead and improving the performance.</p>
<p>In OceanBase Database V3.x, a table group is a partitioned one and tables joining a table group must have the same partitioning type as the table group. This imposes limitations on tables to be added to a table group. In OceanBase Database V4.2.0 and later, after you define the <code>SHARDING</code> attribute, you can flexibly add tables with different partitioning types to a table group.</p>
<p>Table groups with the <code>SHARDING</code> attribute can be classified based on the attribute values.</p>
<ul>
<li>
<p>Table groups with the <code>SHARDING</code> attribute set to <code>NONE</code>: All partitions of all tables in such a table group are aggregated on the same server and the tables can have different partitioning types.</p>
</li>
<li>
<p>Table groups with <code>SHARDING</code> not set to <code>NONE</code>: The data of each table in such a table group is distributed to multiple servers. To ensure consistent table data distribution, all tables in the table group must have the same partition definition, including the partitioning type, partition count, and partition value. The system schedules or aligns partitions with the same partition attribute to the same server to implement partition-wise join.</p>
</li>
</ul>
<p>For more information about table groups, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001105763" target="_blank" rel="noopener noreferrer">Reference &gt; Database object management &gt; MySQL mode &gt; Create and manage table groups</a> in OceanBase Database Documentation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="local-and-global-indexes">Local and global indexes<a href="#local-and-global-indexes" class="hash-link" aria-label="Direct link to Local and global indexes" title="Direct link to Local and global indexes">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="local-indexes">Local indexes<a href="#local-indexes" class="hash-link" aria-label="Direct link to Local indexes" title="Direct link to Local indexes">​</a></h4>
<p>Local indexes of a partitioned table are similar to those of a non-partitioned table. The data structure of indexes is also in a one-to-one correspondence with the data structure of the primary table. However, the primary table has been partitioned, so each partition of the primary table has its own separate index data structure. In the index data structure, each key only maps to the primary table in its partition, instead of that in other partitions. Therefore, this type of index is called the local index.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="global-indexes">Global indexes<a href="#global-indexes" class="hash-link" aria-label="Direct link to Global indexes" title="Direct link to Global indexes">​</a></h4>
<p>Compared with the local index of a partitioned table, the global index of a partitioned table does not maintain the one-to-one relationship with the partitions of the primary table. Instead, it takes the data of all primary table partitions as a whole. In addition, one key of the global index may map to data in multiple primary table partitions if the index key has duplicate values. Furthermore, for a global index, you can define an independent data distribution mode, which can be the non-partitioned mode or partitioned mode. In partitioned mode, the partition structure of global indexes can be the same as or be different from that of the primary table. The partition mode of a global index is completely independent of that of the primary table, so a global index looks more like a separate table. Therefore, a global index is also called an index table.</p>
<p>We recommend that you use global indexes in the following scenarios:</p>
<ul>
<li>
<p>In addition to the primary key, combinations of other columns must meet the global uniqueness requirement. This business requirement can only be met by using globally unique indexes.</p>
</li>
<li>
<p>Business queries cannot obtain the conditional predicate of the partitioning key, and the business table does not involve high-concurrency parallel write-in. To avoid scanning all partitions, you can create a global index based on the query conditions. When necessary, you can partition the global index based on a new partitioning key.</p>
</li>
</ul>
<p>Global indexes make it possible to ensure the global uniqueness of data and implement data re-partitioning and also meet the high requirements of some applications to query data from different dimensions. However, each data write operation may become a cross-IDC distributed transaction, which affects the writing performance in high-concurrency writing scenarios. If a business query can obtain the conditional predicate of the partitioning key, we still recommend that you create local indexes in OceanBase Database to exclude unqualified partitions by using the partition pruning feature of the database optimizer. This design considers both the query and writing performance to optimize the overall system performance.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-parameter-tuning">Database parameter tuning<a href="#database-parameter-tuning" class="hash-link" aria-label="Direct link to Database parameter tuning" title="Direct link to Database parameter tuning">​</a></h2>
<p>OceanBase Database V4.x is extensively optimized to improve user experience, ease of use, and performance. You can achieve desired database performance by tuning basic parameters. You can also tune parameters based on the runtime environment and business scenarios to further improve the database performance.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oltp-scenarios">OLTP scenarios<a href="#oltp-scenarios" class="hash-link" aria-label="Direct link to OLTP scenarios" title="Direct link to OLTP scenarios">​</a></h3>
<p>To configure OceanBase Database parameters, run the <code>obclient -h&lt;host_ip&gt; -P&lt;host_port&gt; -uroot@sys -A -p</code> command to connect to the sys tenant, and then execute the following statements:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Disable SQL audit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALTER system SET enable_sql_audit=false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Disable information collection for performance events</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALTER system SET enable_perf_event=false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set the syslog level to ERROR to reduce generated logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALTER system SET syslog_level=&#x27;ERROR&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Disable trace log recording</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alter system set enable_record_trace_log=false;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To configure OceanBase Database Proxy (ODP) parameters, run the <code>obclient -h&lt;host_ip&gt; -P&lt;host_port&gt; -uroot@sys -A -p</code> command to connect to the sys tenant, and then execute the following statements:</p>
<blockquote>
<p><strong>Note</strong></p>
<p>To modify ODP parameters, you must log on to the sys tenant of the OceanBase cluster by using the IP address and port of ODP.</p>
</blockquote>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Increase the maximum runtime memory of ODP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALTER proxyconfig SET proxy_mem_limited=&#x27;4G&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Disable the compression protocol of ODP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALTER proxyconfig set enable_compression_protocol=false;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="olap-scenarios">OLAP scenarios<a href="#olap-scenarios" class="hash-link" aria-label="Direct link to OLAP scenarios" title="Direct link to OLAP scenarios">​</a></h3>
<p>To configure OceanBase Database parameters, connect to a user tenant and execute the following statements:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Set the percentage of the SQL workspace memory to the total memory of the tenant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SET GLOBAL ob_sql_work_area_percentage = 80;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set the maximum execution time of an SQL statement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SET GLOBAL ob_query_timeout = 36000000000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set the timeout period of transactions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SET GLOBAL ob_trx_timeout = 36000000000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set the maximum size of network packets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SET GLOBAL max_allowed_packet = 67108864;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set the number of PX threads that can be requested by the tenant on each node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SET GLOBAL parallel_servers_target = 624;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="major-compactions-and-statistics-collection">Major compactions and statistics collection<a href="#major-compactions-and-statistics-collection" class="hash-link" aria-label="Direct link to Major compactions and statistics collection" title="Direct link to Major compactions and statistics collection">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="major-compactions">Major compactions<a href="#major-compactions" class="hash-link" aria-label="Direct link to Major compactions" title="Direct link to Major compactions">​</a></h3>
<p>A major compaction compacts all dynamic and static data, which is a time-consuming operation. Specifically, a major compaction compacts SSTables and MEMTables of the current major version with the full static data of an earlier version to generate a new set of full data. During a major compaction, OceanBase Database compresses the data twice: semantics-based encoding within the database and general compression by using the specified compression algorithm. In general compression, the encoded data is compressed by using an algorithm such as LZ4. Compression saves storage space and greatly improves query performance. Compression has a slight impact on data write performance in OceanBase Database, which is built based on the log-structured merge-tree (LSM-tree) architecture.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="statistics-collection">Statistics collection<a href="#statistics-collection" class="hash-link" aria-label="Direct link to Statistics collection" title="Direct link to Statistics collection">​</a></h3>
<p>In a database, the optimizer tries to generate the optimal execution plan for each SQL query, most commonly, based on real-time and effective statistics and accurate row estimates. Statistics here refer to optimizer statistics, which are a set of data that describes the tables and columns in a database, and are the key for the cost model to select the optimal execution plan. The optimizer cost model selects an execution plan and optimizes plan selection based on the statistics on the tables, columns, predicates, and other objects involved in a query. Accurate and effective statistics can help the optimizer select the optimal execution plan.</p>
<p>In OceanBase Database, the optimizer stores statistics as common data in internal tables and maintains a local cache of statistics to speed up access to statistics. In OceanBase Database of a version earlier than V4.0, statistics are collected during daily major compactions. However, statistics collected in this way are not always accurate because only incremental data is compacted in daily major compactions. In addition, the issue of data skew cannot be resolved because histogram information cannot be collected during daily major compactions. In OceanBase Database V4.0, statistics collection is decoupled from daily major compactions. In other words, statistics are not collected during daily major compactions and execution plans are not affected by daily major compactions.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/02_influence_factor.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/overview_of_test"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/user_manual/quick_starts/en-US/chapter_03_test_oceanbase_database/sysbench_test"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Run the Sysbench benchmark</div></a></nav><div>Loading...</div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#operating-system-parameters" class="table-of-contents__link toc-highlight">Operating system parameters</a></li><li><a href="#resource-allocation" class="table-of-contents__link toc-highlight">Resource allocation</a><ul><li><a href="#disk-partitioning" class="table-of-contents__link toc-highlight">Disk partitioning</a></li><li><a href="#primary-zone" class="table-of-contents__link toc-highlight">Primary zone</a></li><li><a href="#partitioned-tables" class="table-of-contents__link toc-highlight">Partitioned tables</a></li><li><a href="#table-groups" class="table-of-contents__link toc-highlight">Table groups</a></li><li><a href="#local-and-global-indexes" class="table-of-contents__link toc-highlight">Local and global indexes</a></li></ul></li><li><a href="#database-parameter-tuning" class="table-of-contents__link toc-highlight">Database parameter tuning</a><ul><li><a href="#oltp-scenarios" class="table-of-contents__link toc-highlight">OLTP scenarios</a></li><li><a href="#olap-scenarios" class="table-of-contents__link toc-highlight">OLAP scenarios</a></li></ul></li><li><a href="#major-compactions-and-statistics-collection" class="table-of-contents__link toc-highlight">Major compactions and statistics collection</a><ul><li><a href="#major-compactions" class="table-of-contents__link toc-highlight">Major compactions</a></li><li><a href="#statistics-collection" class="table-of-contents__link toc-highlight">Statistics collection</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="http://github.com/oceanbase/oceanbase/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussion<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/oceanbase/shared_invite/zt-1e25oz3ol-lJ6YNqPHaKwY_mhhioyEuw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/oceanbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ask.oceanbase.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum (in Chinese)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">SIG</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/sig/AI/sig_intro">AI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/cloud-native/sig_intro">cloud-native</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/compilation/sig_intro">compilation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/develop-tools/sig_intro">develop-tools</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/miniob/sig_intro">MiniOB</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/obdiag/sig_intro">obdiag</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/operation/sig_intro">operation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://en.oceanbase.com/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About OceanBase<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/blogs/arch/all-in-one">Blogs</a></li><li class="footer__item"><a href="https://github.com/oceanbase/oceanbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 OceanBase, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>