<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/create-tenant" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Create a MySQL user tenant | OceanBase</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://oceanbase.github.io/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/create-tenant"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Create a MySQL user tenant | OceanBase"><meta data-rh="true" name="description" content="We recommend that you create a user tenant by referring to this topic for testing or business purposes. It is prohibited to use the sys tenant for such purposes."><meta data-rh="true" property="og:description" content="We recommend that you create a user tenant by referring to this topic for testing or business purposes. It is prohibited to use the sys tenant for such purposes."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://oceanbase.github.io/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/create-tenant"><link data-rh="true" rel="alternate" href="https://oceanbase.github.io/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/create-tenant" hreflang="en"><link data-rh="true" rel="alternate" href="https://oceanbase.github.io/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/create-tenant" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6JQM9QDU5V-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.7e3a93fe.css">
<script src="/assets/js/runtime~main.19fea326.js" defer="defer"></script>
<script src="/assets/js/main.bbe5de1d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="OceanBase Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="OceanBase Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OceanBase</b></a><a class="navbar__item navbar__link" href="/docs/blogs/arch/all-in-one">Blogs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Product Docs</a><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">User Manual</a><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Developer Manual</a></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><span><li><a class="dropdown__link" href="/docs/sig/overview/list">Special Interest Group(SIG)</a></li></span><span><li><a href="http://github.com/oceanbase/oceanbase/discussions" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub Discussion<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://join.slack.com/t/oceanbase/shared_invite/zt-1e25oz3ol-lJ6YNqPHaKwY_mhhioyEuw" target="_blank" rel="noopener noreferrer" class="dropdown__link">Slack<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://ask.oceanbase.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forum (in Chinese)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://stackoverflow.com/questions/tagged/oceanbase" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stack Overflow<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Data + AI</a><ul class="dropdown__menu"><span><li><a href="https://oceanbase-devhub.github.io" target="_blank" rel="noopener noreferrer" class="dropdown__link">Devhub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><div style="padding: 0.25rem 0.5rem; font-size: 14px; color: #4e7ff1;">AI Workshops</div></li></span><span><li><a href="https://oceanbase-devhub.github.io/ai-workshop-2024" target="_blank" rel="noopener noreferrer" class="dropdown__link">RAG Bot<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://oceanbase-devhub.github.io/dify/dify@oceanbase-workshop" target="_blank" rel="noopener noreferrer" class="dropdown__link">Dify (MySQL Compatible)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://oceanbase-devhub.github.io/DB-GPT/docker/compose_examples/ob_dbgpt_tutorial" target="_blank" rel="noopener noreferrer" class="dropdown__link">DB-GPT<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><a href="https://en.oceanbase.com/softwarecenter" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/oceanbase" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_01_overview_of_the_oceanbase_database/introduction">Overview of the Oceanbase database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/introduction">Deploy Oceanbase database</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/preparation_before_deployment">Preparations before deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deployment_components">Ecosystem components for deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deploy_personal_environment">Deploy OceanBase Database in an experience environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deploy-production-environment">Deploy OceanBase Database in a production environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/view-resources">View the resource usage of an OceanBase cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/create-tenant">Create a MySQL user tenant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/connecting-tenants">Connect to a tenant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/set-parameters">Set parameters and variables</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_03_test_oceanbase_database/introduction">Test Oceanbase database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_04_migration_and_synchronization_oceanbase/introduction">Migrate and synchronize data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_05_operation_and_maintenance/introduction">Operation and maintenance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_06_using_ob_for_business_development/introduction">Using Oceanbase for business development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_07_diagnosis_and_tuning/introduction">Diagnosis_and_tuning</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deploy Oceanbase database</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Create a MySQL user tenant</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>2.6 Create a MySQL user tenant</h1></header>
<p>We recommend that you create a user tenant by referring to this topic for testing or business purposes. It is prohibited to use the sys tenant for such purposes.</p>
<blockquote>
<p><strong>Notice</strong></p>
<p>OceanBase Database Community Edition supports creating only MySQL tenants.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-tenant-by-using-ocp">Create a tenant by using OCP<a href="#create-a-tenant-by-using-ocp" class="hash-link" aria-label="Direct link to Create a tenant by using OCP" title="Direct link to Create a tenant by using OCP">​</a></h2>
<blockquote>
<p><strong>Note</strong></p>
<p>This section briefly describes how to create a tenant by using OceanBase Cloud Platform (OCP). For more information, see <a href="https://en.oceanbase.com/docs/common-ocp-10000000001483666" target="_blank" rel="noopener noreferrer">Create a tenant</a>.</p>
</blockquote>
<ol>
<li>
<p>Configure tenant information as shown in the following figure.</p>
<p>If no unit config is suitable, you can create one. After you create a unit config in OCP, it is not immediately recorded in the internal view <code>DBA_OB_UNIT_CONFIGS</code> of OceanBase Database, but rather in the <code>meta_database.ob_unit_spec</code> table of OCP. The unit config is actually created only when you create a tenant.</p>
<p><img decoding="async" loading="lazy" alt="Configure the tenant" src="/assets/images/001-dbfe6ee2df02a349802cf3046f6aa389.png" width="2876" height="1294" class="img_ev3q"></p>
</li>
<li>
<p>Configure the IP address allowlist and variables of the tenant.</p>
<p><img decoding="async" loading="lazy" alt="Configure the tenant" src="/assets/images/002-44b1e1599ea6f71beee0a8f1f015e95d.png" width="1500" height="666" class="img_ev3q"></p>
</li>
<li>
<p>View the tenant creation task.</p>
<p>To learn about the task execution process, you can download the logs.</p>
<p><img decoding="async" loading="lazy" alt="View logs" src="/assets/images/003-15f4138b3267cb578989192ea0f6addd.png" width="2878" height="1376" class="img_ev3q"></p>
<p>You can learn from the logs that OCP will respectively name each unit and resource pool during tenant creation, which is not the case when you create a tenant in OceanBase Deployer (OBD). This practice brings the following benefits:</p>
<ul>
<li>
<p>Units are not reused. Adjusting the unit config of one tenant will not affect other tenants.</p>
</li>
<li>
<p>Resource pools are not reused. After an OBServer node is deleted, you do not need to split resource pools for tenants on the node.</p>
</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-tenant-by-using-an-obd-command">Create a tenant by using an OBD command<a href="#create-a-tenant-by-using-an-obd-command" class="hash-link" aria-label="Direct link to Create a tenant by using an OBD command" title="Direct link to Create a tenant by using an OBD command">​</a></h2>
<p>If the cluster where a tenant is to be created is managed by OBD, you can use an OBD command to create the tenant. If the cluster where a tenant is to be created is not managed by OBD, the cluster version is OceanBase Database Community Edition V4.2.1 BP4 or later, and OBShell has been started, you can first run a takeover command and then run the following OBD command to create the tenant. For more information about the takeover, see <a href="https://en.oceanbase.com/docs/community-obd-en-10000000001181553" target="_blank" rel="noopener noreferrer">OceanBase Deployer Documentation Center</a>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster tenant create obtest -n test2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--max-cpu=2 --memory-size=2G --log-disk-size=3G --max-iops=10000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--unit-num=1 --charset=utf8 -s &#x27;ob_tcp_invited_nodes=&quot;%&quot;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For more information about the <code>obd cluster tenant create</code> command, see the <strong>obd cluster tenant create</strong> section in <a href="https://en.oceanbase.com/docs/community-obd-en-10000000001181575" target="_blank" rel="noopener noreferrer">Cluster commands</a>.</p>
<ul>
<li>
<p>In this command, <code>obtest</code> is a sample cluster name (<code>deploy name</code>). You can run the <code>obd cluster list</code> command and replace <code>obtest</code> with a value in the <code>Name</code> column of the output.</p>
</li>
<li>
<p><code>test2</code> is a sample tenant name.</p>
</li>
<li>
<p>The resource unit and resource pool used by a tenant created by using the OBD command are respectively named <code>${tenant_name}_unit</code> and <code>${tenant_name}_pool</code>.</p>
</li>
</ul>
<p>The output is as follows:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Get local repositories and plugins ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Open ssh connection ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Connect to observer 10.10.10.1:2881 ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Create tenant test2 ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Trace ID: 4af55084-cf17-11ee-b825-00163e04608d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If you want to view detailed obd logs, please run: obd display-trace 4af55084-cf17-11ee-b825-00163e04608d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can copy and run the <code>obd display</code> command in the output to view the logs that record the detailed creation process.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">obd display-trace 4af55084-cf17-11ee-b825-00163e04608d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output is as follows:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.385] [DEBUG] - cmd: [&#x27;obtest&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.385] [DEBUG] - opts: {&#x27;tenant_name&#x27;: &#x27;test2&#x27;, &#x27;max_cpu&#x27;: 2.0, &#x27;min_cpu&#x27;: None, &#x27;max_memory&#x27;: None, &#x27;min_memory&#x27;: None, &#x27;memory_size&#x27;: &#x27;2G&#x27;, &#x27;max_disk_size&#x27;: None, &#x27;log_disk_size&#x27;: &#x27;3G&#x27;, &#x27;max_iops&#x27;: 10000, &#x27;min_iops&#x27;: None, &#x27;iops_weight&#x27;: None, &#x27;max_session_num&#x27;: None, &#x27;unit_num&#x27;: 1, &#x27;zone_list&#x27;: None, &#x27;mode&#x27;: &#x27;mysql&#x27;, &#x27;charset&#x27;: &#x27;utf8&#x27;, &#x27;collate&#x27;: None, &#x27;replica_num&#x27;: None, &#x27;logonly_replica_num&#x27;: None, &#x27;tablegroup&#x27;: None, &#x27;primary_zone&#x27;: &#x27;RANDOM&#x27;, &#x27;locality&#x27;: None, &#x27;variables&#x27;: &#x27;ob_tcp_invited_nodes=&quot;%&quot;&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.385] [DEBUG] - mkdir /home/admin/.obd/lock/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.385] [DEBUG] - unknown lock mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.386] [DEBUG] - try to get share lock /home/admin/.obd/lock/global</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.386] [DEBUG] - share lock `/home/admin/.obd/lock/global`, count 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.386] [DEBUG] - Get Deploy by name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.386] [DEBUG] - mkdir /home/admin/.obd/cluster/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.386] [DEBUG] - mkdir /home/admin/.obd/config_parser/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.386] [DEBUG] - try to get exclusive lock /home/admin/.obd/lock/deploy_obtest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.386] [DEBUG] - exclusive lock `/home/admin/.obd/lock/deploy_obtest`, count 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.390] [DEBUG] - Deploy status judge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.390] [DEBUG] - Get deploy config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.407] [INFO] Get local repositories and plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.407] [DEBUG] - mkdir /home/admin/.obd/repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.407] [DEBUG] - Get local repository oceanbase-ce-4.2.2.0-aa3053da7370a6685a2ef457cd202d50e5ab75d3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.407] [DEBUG] - try to get share lock /home/admin/.obd/lock/mirror_and_repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.408] [DEBUG] - share lock `/home/admin/.obd/lock/mirror_and_repo`, count 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.409] [DEBUG] - Get local repository obproxy-ce-4.2.1.0-0aed4b782120e4248b749f67be3d2cc82cdcb70d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.409] [DEBUG] - share lock `/home/admin/.obd/lock/mirror_and_repo`, count 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.410] [DEBUG] - Searching param plugin for components ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.410] [DEBUG] - Search param plugin for oceanbase-ce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.410] [DEBUG] - mkdir /home/admin/.obd/plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.411] [DEBUG] - Found for oceanbase-ce-param-4.2.2.0 for oceanbase-ce-4.2.2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.411] [DEBUG] - Applying oceanbase-ce-param-4.2.2.0 for oceanbase-ce-4.2.2.0-100000192024011915.el7-aa3053da7370a6685a2ef457cd202d50e5ab75d3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.762] [DEBUG] - Search param plugin for obproxy-ce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.763] [DEBUG] - Found for obproxy-ce-param-3.1.0 for obproxy-ce-4.2.1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.763] [DEBUG] - Applying obproxy-ce-param-3.1.0 for obproxy-ce-4.2.1.0-11.el7-0aed4b782120e4248b749f67be3d2cc82cdcb70d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.846] [DEBUG] - Searching connect plugin for components ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.846] [DEBUG] - Searching connect plugin for oceanbase-ce-4.2.2.0-100000192024011915.el7-aa3053da7370a6685a2ef457cd202d50e5ab75d3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.846] [DEBUG] - Found for oceanbase-ce-py_script_connect-4.2.2.0 for oceanbase-ce-4.2.2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.846] [DEBUG] - Searching connect plugin for obproxy-ce-4.2.1.0-11.el7-0aed4b782120e4248b749f67be3d2cc82cdcb70d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.846] [DEBUG] - Found for obproxy-ce-py_script_connect-3.1.0 for obproxy-ce-4.2.1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.846] [DEBUG] - Searching create_tenant plugin for components ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.847] [DEBUG] - Searching create_tenant plugin for oceanbase-ce-4.2.2.0-100000192024011915.el7-aa3053da7370a6685a2ef457cd202d50e5ab75d3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.847] [DEBUG] - Found for oceanbase-ce-py_script_create_tenant-4.2.0.0 for oceanbase-ce-4.2.2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.847] [DEBUG] - Searching create_tenant plugin for obproxy-ce-4.2.1.0-11.el7-0aed4b782120e4248b749f67be3d2cc82cdcb70d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.847] [DEBUG] - No such create_tenant plugin for obproxy-ce-4.2.1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.960] [INFO] Open ssh connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:04.960] [DEBUG] - host: 10.10.10.1, port: 22, user: admin, password: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.019] [DEBUG] - host: 10.10.10.2, port: 22, user: admin, password: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.076] [DEBUG] - host: 10.10.10.3, port: 22, user: admin, password: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.132] [DEBUG] - host: 10.10.10.2, port: 22, user: admin, password: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.221] [DEBUG] - Call oceanbase-ce-py_script_connect-4.2.2.0 for oceanbase-ce-4.2.2.0-100000192024011915.el7-aa3053da7370a6685a2ef457cd202d50e5ab75d3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.221] [DEBUG] - import connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.281] [DEBUG] - add connect ref count to 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.282] [DEBUG] -- connect obshell (10.10.10.1:2886)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.282] [DEBUG] -- connect obshell (10.10.10.2:2886)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.282] [DEBUG] -- connect obshell (10.10.10.3:2886)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.282] [INFO] Connect to observer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.283] [DEBUG] -- connect 10.10.10.1 -P12881 -uroot -pRoot2023@@Root2023</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.284] [DEBUG] -- execute sql: select 1. args: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.414] [DEBUG] - sub connect ref count to 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.414] [DEBUG] - export connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.414] [DEBUG] - Call oceanbase-ce-py_script_create_tenant-4.2.0.0 for oceanbase-ce-4.2.2.0-100000192024011915.el7-aa3053da7370a6685a2ef457cd202d50e5ab75d3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.414] [DEBUG] - import create_tenant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.417] [DEBUG] - add create_tenant ref count to 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.418] [DEBUG] -- execute sql: select * from oceanbase.DBA_OB_UNIT_CONFIGS where name like &quot;test2_unit%&quot; order by unit_config_id desc limit 1. args: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.420] [DEBUG] -- execute sql: select * from oceanbase.DBA_OB_TENANTS where TENANT_NAME = %s. args: (&#x27;test2&#x27;,)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.439] [INFO] Create tenant test2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.440] [DEBUG] -- execute sql: select zone, count(*) num from oceanbase. __all_server where status = &#x27;active&#x27; group by zone. args: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.441] [DEBUG] -- execute sql: select count(*) num from oceanbase. __all_server where status = &#x27;active&#x27; and start_service_time &gt; 0. args: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.442] [DEBUG] -- execute sql: SELECT * FROM oceanbase.GV$OB_SERVERS where zone in (&#x27;zone1&#x27;,&#x27;zone2&#x27;,&#x27;zone3&#x27;). args: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.447] [DEBUG] -- execute sql: create resource unit test2_unit max_cpu 2.0, memory_size 2147483648, min_cpu 2.0, max_iops 10000, log_disk_size 3221225472. args: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.453] [DEBUG] -- execute sql: create resource pool test2_pool unit=&#x27;test2_unit&#x27;, unit_num=1, zone_list=(&#x27;zone1&#x27;,&#x27;zone2&#x27;,&#x27;zone3&#x27;). args: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:05.472] [DEBUG] -- execute sql: create tenant test2 replica_num=3,zone_list=(&#x27;zone1&#x27;,&#x27;zone2&#x27;,&#x27;zone3&#x27;),primary_zone=&#x27;RANDOM&#x27;,resource_pool_list=(&#x27;test2_pool&#x27;), charset = &#x27;utf8&#x27;set ob_tcp_invited_nodes=&quot;%&quot;, ob_compatibility_mode = &#x27;mysql&#x27;. args: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.645] [DEBUG] - sub create_tenant ref count to 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.645] [DEBUG] - export create_tenant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.645] [INFO] Trace ID: 4af55084-cf17-11ee-b825-00163e04608d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.645] [INFO] If you want to view detailed obd logs, please run: obd display-trace 4af55084-cf17-11ee-b825-00163e04608d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.645] [DEBUG] - share lock /home/admin/.obd/lock/mirror_and_repo release, count 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.645] [DEBUG] - share lock /home/admin/.obd/lock/mirror_and_repo release, count 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.645] [DEBUG] - unlock /home/admin/.obd/lock/mirror_and_repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.645] [DEBUG] - exclusive lock /home/admin/.obd/lock/deploy_obtest release, count 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.645] [DEBUG] - unlock /home/admin/.obd/lock/deploy_obtest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.646] [DEBUG] - share lock /home/admin/.obd/lock/global release, count 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-02-19 19:09:38.646] [DEBUG] - unlock /home/admin/.obd/lock/global</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After the tenant is created, you can view it by running the following OBD command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster tenant show obtest -t test2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output is as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Get local repositories and plugins ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Get deployment connections ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Connect to observer 10.10.10.1:2881 ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Select tenant ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|                                                                          tenant base info                                                                         |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------+-------------+--------------------+--------------+---------+---------+-------------+----------+----------+---------------+-------------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| tenant_name | tenant_type | compatibility_mode | primary_zone | max_cpu | min_cpu | memory_size | max_iops | min_iops | log_disk_size | iops_weight | tenant_role |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------+-------------+--------------------+--------------+---------+---------+-------------+----------+----------+---------------+-------------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| test2       | USER        | MYSQL              | RANDOM       | 2.0     | 2.0     | 2.0G        | 10000    | 10000    | 3.0G          | 0           | PRIMARY     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------------+-------------+--------------------+--------------+---------+---------+-------------+----------+----------+---------------+-------------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Trace ID: 00f5e506-cf18-11ee-a74f-00163e04608d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If you want to view detailed obd logs, please run: obd display-trace 00f5e506-cf18-11ee-a74f-00163e04608d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-tenant-by-using-sql-statements">Create a tenant by using SQL statements<a href="#create-a-tenant-by-using-sql-statements" class="hash-link" aria-label="Direct link to Create a tenant by using SQL statements" title="Direct link to Create a tenant by using SQL statements">​</a></h2>
<blockquote>
<p><strong>Note</strong></p>
<p>Log on as the root user to the sys tenant and execute the following statements.</p>
</blockquote>
<p>The tenant creation procedure comprises three steps.</p>
<ol>
<li>
<p>Create a unit config: This step is optional. If an appropriate unit config exists, you can skip this step and reuse the existing one.</p>
</li>
<li>
<p>Create a resource pool: You can either create a separate resource pool for each zone, allowing them to use independent unit configs, or create a single resource pool for all zones, so they share the same unit config.</p>
</li>
<li>
<p>Create a tenant: When you create a tenant, you must associate the tenant with the resource pool created in step 2.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="optional-step-1-create-a-unit-config">(Optional) Step 1: Create a unit config<a href="#optional-step-1-create-a-unit-config" class="hash-link" aria-label="Direct link to (Optional) Step 1: Create a unit config" title="Direct link to (Optional) Step 1: Create a unit config">​</a></h3>
<p>A unit config describes the specifications of each resource unit in a resource pool, such as the available CPU cores, memory, log disk size, and IOPS. After you create a unit config, resources are not actually allocated.</p>
<ol>
<li>
<p>Create a unit config.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> resource unit u0 min_cpu</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">max_cpu</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">memory_size</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;2g&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> log_disk_size</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;6g&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">max_iops</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10000</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>View the details of the unit config.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> oceanbase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DBA_OB_UNIT_CONFIGS</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output is as follows. For more information about the <code>DBA_OB_UNIT_CONFIGS</code> view, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001104379" target="_blank" rel="noopener noreferrer">oceanbase.DBA_OB_UNIT_CONFIGS</a>.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">+----------------+-----------------+----------------------------+----------------------------+---------+---------+-------------+---------------+---------------------+---------------------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| UNIT_CONFIG_ID | NAME            | CREATE_TIME                | MODIFY_TIME                | MAX_CPU | MIN_CPU | MEMORY_SIZE | LOG_DISK_SIZE | MAX_IOPS            | MIN_IOPS            | IOPS_WEIGHT |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+----------------+-----------------+----------------------------+----------------------------+---------+---------+-------------+---------------+---------------------+---------------------+-------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|              1 | sys_unit_config | 2024-02-19 15:33:47.524052 | 2024-02-19 15:33:47.524052 |       2 |       2 |  1073741824 |    3221225472 | 9223372036854775807 | 9223372036854775807 |           2 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|           1001 | u0              | 2024-02-19 15:50:23.848604 | 2024-02-19 15:50:23.848604 |       2 |       2 |  2147483648 |    6442450944 |               10000 |               10000 |           0 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+----------------+-----------------+----------------------------+----------------------------+---------+---------+-------------+---------------+---------------------+---------------------+-------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-create-a-resource-pool">Step 2: Create a resource pool<a href="#step-2-create-a-resource-pool" class="hash-link" aria-label="Direct link to Step 2: Create a resource pool" title="Direct link to Step 2: Create a resource pool">​</a></h3>
<p>When you create a resource pool, resource units are created. Resources are allocated to the resource units based on the unit config. If the resources reserved on a node are insufficient, the creation will fail. You can query the <code>GV$OB_SERVERS</code> view for the resource allocation information about all nodes. After a resource pool is created, you can query the <code>DBA_OB_RESOURCE_POOLS</code> and <code>DBA_OB_UNITS</code> views for the resource pool and its resource units.</p>
<blockquote>
<p><strong>Notice</strong></p>
<p>A resource pool cannot be reused. After a tenant is created, the specified resource pool will be allocated to the tenant.</p>
</blockquote>
<ol>
<li>
<p>Create a resource pool.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> resource pool p1 unit</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;u0&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> zone_list</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;zone1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;zone2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;zone3&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">unit_num</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Log on as the root user to the sys tenant of the OceanBase cluster and view the details of the resource pool.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> t4</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tenant_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">t4</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tenant_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name resource_pool_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unit_count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">name</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> unit_config_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">max_cpu</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">min_cpu</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">memory_size</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> mem_size_gb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log_disk_size</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> log_disk_size_gb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">max_iops</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">min_iops</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unit_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zone</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> concat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">svr_ip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;:&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">t3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">svr_port</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> observer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> oceanbase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dba_ob_resource_pools t1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">join</span><span class="token plain"> oceanbase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dba_ob_unit_configs t2 </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unit_config_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unit_config_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">join</span><span class="token plain"> oceanbase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dba_ob_units t3 </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">resource_pool_id</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token identifier">resource_pool_id</span><span class="token identifier punctuation" style="color:#393A34">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">left</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">join</span><span class="token plain"> oceanbase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dba_ob_tenants t4 </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tenant_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">t4</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tenant_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">order</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> t4</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tenant_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">t3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zone</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output is as follows:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+-------------+--------------------+------------+------------------+---------+---------+-------------+------------------+---------------------+---------------------+---------+-------+-----------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| tenant_id | tenant_name | resource_pool_name | unit_count | unit_config_name | max_cpu | min_cpu | mem_size_gb | log_disk_size_gb | max_iops            | min_iops            | unit_id | zone  | observer        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+-------------+--------------------+------------+------------------+---------+---------+-------------+------------------+---------------------+---------------------+---------+-------+-----------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|      NULL | NULL        | p1                 |          1 | u0               |       2 |       2 |        2.00 |             6.00 |               10000 |               10000 |    1007 | zone1 | 10.10.10.1:2882 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|      NULL | NULL        | p1                 |          1 | u0               |       2 |       2 |        2.00 |             6.00 |               10000 |               10000 |    1008 | zone2 | 10.10.10.2:2882 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|      NULL | NULL        | p1                 |          1 | u0               |       2 |       2 |        2.00 |             6.00 |               10000 |               10000 |    1009 | zone3 | 10.10.10.3:2882 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|         1 | sys         | sys_pool           |          1 | sys_unit_config  |       2 |       2 |        1.00 |             3.00 | 9223372036854775807 | 9223372036854775807 |       1 | zone1 | 10.10.10.1:2882 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|         1 | sys         | sys_pool           |          1 | sys_unit_config  |       2 |       2 |        1.00 |             3.00 | 9223372036854775807 | 9223372036854775807 |       2 | zone2 | 10.10.10.2:2882 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|         1 | sys         | sys_pool           |          1 | sys_unit_config  |       2 |       2 |        1.00 |             3.00 | 9223372036854775807 | 9223372036854775807 |       3 | zone3 | 10.10.10.3:2882 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-----------+-------------+--------------------+------------+------------------+---------+---------+-------------+------------------+---------------------+---------------------+---------+-------+-----------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p><strong>Note</strong></p>
<p>The newly created resource pool <code>p1</code> is not associated with any tenant. Therefore, the <code>tenant_id</code> and <code>tenant_name</code> values in the output are both <code>NULL</code>, meaning that the resource pool cannot be used by the business system.</p>
</blockquote>
<p>The following table describes the columns in the <code>DBA_OB_RESOURCE_POOLS</code> view. For more information about the columns, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001104220" target="_blank" rel="noopener noreferrer">oceanbase.DBA_OB_RESOURCE_POOLS</a>.</p>
<table><thead><tr><th>Column</th><th>Type</th><th>Nullable</th><th>Description</th></tr></thead><tbody><tr><td>NAME</td><td>varchar(128)</td><td>NO</td><td>The name of the resource pool.</td></tr><tr><td>UNIT_COUNT</td><td>bigint(20)</td><td>NO</td><td>The number of resource units in the resource pool.</td></tr></tbody></table>
<p>The following table describes the columns in the <code>DBA_OB_UNIT_CONFIGS</code> view. For more information about the columns, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001104379" target="_blank" rel="noopener noreferrer">oceanbase.DBA_OB_UNIT_CONFIGS</a>.</p>
<table><thead><tr><th>Column</th><th>Type</th><th>Nullable</th><th>Description</th></tr></thead><tbody><tr><td>UNIT_CONFIG_ID</td><td>bigint(20)</td><td>NO</td><td>The ID of the unit config.</td></tr><tr><td>NAME</td><td>varchar(128)</td><td>NO</td><td>The name of the unit config.</td></tr><tr><td>MAX_CPU</td><td>double</td><td>NO</td><td>The maximum number of CPU cores.</td></tr><tr><td>MIN_CPU</td><td>double</td><td>NO</td><td>The minimum number of CPU cores.</td></tr><tr><td>MEMORY_SIZE</td><td>bigint(20)</td><td>NO</td><td>The memory size, in bytes.</td></tr><tr><td>LOG_DISK_SIZE</td><td>bigint(20)</td><td>NO</td><td>The log disk size, in bytes.</td></tr><tr><td>MAX_IOPS</td><td>bigint(20)</td><td>NO</td><td>The maximum disk IOPS.</td></tr><tr><td>MIN_IOPS</td><td>bigint(20)</td><td>NO</td><td>The minimum disk IOPS.</td></tr></tbody></table>
<p>The following table describes the columns in the <code>DBA_OB_UNITS</code> view. For more information about the columns, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001104347" target="_blank" rel="noopener noreferrer">oceanbase.DBA_OB_UNITS</a>.</p>
<table><thead><tr><th>Column</th><th>Type</th><th>Nullable</th><th>Description</th></tr></thead><tbody><tr><td>UNIT_ID</td><td>bigint(20)</td><td>NO</td><td>The ID of the resource unit.</td></tr><tr><td>RESOURCE_POOL_ID</td><td>bigint(20)</td><td>NO</td><td>The ID of the resource pool to which the resource unit belongs.</td></tr><tr><td>ZONE</td><td>varchar(128)</td><td>NO</td><td>The name of the zone.</td></tr><tr><td>SVR_IP</td><td>varchar(46)</td><td>NO</td><td>The IP address of the OBServer node to which the resource unit belongs.</td></tr><tr><td>SVR_PORT</td><td>bigint(20)</td><td>NO</td><td>The port number of the OBServer node to which the resource unit belongs.</td></tr></tbody></table>
<p>The following table describes the columns in the <code>DBA_OB_TENANTS</code> view. For more information about the columns, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001104223" target="_blank" rel="noopener noreferrer">oceanbase.DBA_OB_TENANTS</a>.</p>
<table><thead><tr><th>Column</th><th>Type</th><th>Nullable</th><th>Description</th></tr></thead><tbody><tr><td>TENANT_ID</td><td>bigint(20)</td><td>NO</td><td>The ID of the tenant. Valid values: <ul><li><code>1</code>: the sys tenant.</li><li>Other values: a user tenant or meta tenant.</li></ul></td></tr><tr><td>TENANT_NAME</td><td>varchar(128)</td><td>NO</td><td>The name of the tenant.</td></tr></tbody></table>
</li>
<li>
<p>View the remaining available resources of the cluster.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> ZONE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">SVR_IP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">SVR_PORT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CPU_CAPACITY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">CPU_ASSIGNED_MAX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">CPU_CAPACITY</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">CPU_ASSIGNED_MAX </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> CPU_FREE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MEMORY_LIMIT</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> MEMORY_TOTAL_GB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MEMORY_LIMIT</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">MEM_CAPACITY</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> SYSTEM_MEMORY_GB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MEM_ASSIGNED</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> MEM_ASSIGNED_GB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MEM_CAPACITY</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">MEM_ASSIGNED</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> MEMORY_FREE_GB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LOG_DISK_CAPACITY</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> LOG_DISK_CAPACITY_GB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LOG_DISK_ASSIGNED</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> LOG_DISK_ASSIGNED_GB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LOG_DISK_CAPACITY</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">LOG_DISK_ASSIGNED</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> LOG_DISK_FREE_GB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DATA_DISK_CAPACITY</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> DATA_DISK_GB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DATA_DISK_IN_USE</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> DATA_DISK_USED_GB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DATA_DISK_CAPACITY</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">DATA_DISK_IN_USE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> DATA_DISK_FREE_GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> oceanbase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GV$OB_SERVERS</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output is as follows. After a resource pool is created, the available resources of the cluster become less. For more information about the <code>GV$OB_SERVERS</code> view, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001104534" target="_blank" rel="noopener noreferrer">GV$OB_SERVERS</a>.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">+-------+---------------+----------+--------------+------------------+----------+-----------------+------------------+-----------------+----------------+----------------------+----------------------+------------------+--------------+-------------------+-------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| ZONE  | SVR_IP        | SVR_PORT | CPU_CAPACITY | CPU_ASSIGNED_MAX | CPU_FREE | MEMORY_TOTAL_GB | SYSTEM_MEMORY_GB | MEM_ASSIGNED_GB | MEMORY_FREE_GB | LOG_DISK_CAPACITY_GB | LOG_DISK_ASSIGNED_GB | LOG_DISK_FREE_GB | DATA_DISK_GB | DATA_DISK_USED_GB | DATA_DISK_FREE_GB |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+---------------+----------+--------------+------------------+----------+-----------------+------------------+-----------------+----------------+----------------------+----------------------+------------------+--------------+-------------------+-------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| zone2 | 10.10.10.2    |     2882 |           16 |                2 |       14 |           12.00 |             5.00 |            1.00 |           6.00 |                50.00 |                 3.00 |            47.00 |        50.00 |              0.05 |             49.95 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| zone1 | 10.10.10.1    |     2882 |           16 |                2 |       14 |           12.00 |             5.00 |            1.00 |           6.00 |                50.00 |                 3.00 |            47.00 |        50.00 |              0.05 |             49.95 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| zone3 | 10.10.10.3    |     2882 |           16 |                2 |       14 |           12.00 |             5.00 |            1.00 |           6.00 |                50.00 |                 3.00 |            47.00 |        50.00 |              0.05 |             49.95 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+---------------+----------+--------------+------------------+----------+-----------------+------------------+-----------------+----------------+----------------------+----------------------+------------------+--------------+-------------------+-------------------+</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-create-a-tenant">Step 3: Create a tenant<a href="#step-3-create-a-tenant" class="hash-link" aria-label="Direct link to Step 3: Create a tenant" title="Direct link to Step 3: Create a tenant">​</a></h3>
<p>When you create a tenant, you can specify the <code>RESOURCE_POOL_LIST</code> parameter to allocate a resource pool to the tenant. You can either allocate a separate resource pool to each zone, allowing them to use independent unit configs, or allocate a single resource pool for all zones, so they share the same unit config. Besides <code>RESOURCE_POOL_LIST</code>, which is a required parameter, you can also set other important attributes and system variables such as the primary zone, locality, and connection allowlist.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> TENANT </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> test1 </span><span class="token keyword" style="color:#00009f">CHARSET</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;utf8mb4&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ZONE_LIST</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;zone1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;zone2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;zone3&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> PRIMARY_ZONE</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;RANDOM&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RESOURCE_POOL_LIST</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;p1&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> ob_tcp_invited_nodes</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;%&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After tenant creation, you can query the <code>DBA_OB_TENANTS</code> view for all tenants.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> oceanbase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DBA_OB_TENANTS \G</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output is as follows. For more information about the <code>DBA_OB_TENANTS</code> view, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001104223" target="_blank" rel="noopener noreferrer">oceanbase.DBA_OB_TENANTS</a>.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*************************** 1. row ***************************</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 TENANT_ID: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               TENANT_NAME: sys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               TENANT_TYPE: SYS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               CREATE_TIME: 2024-02-19 15:33:47.549569</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               MODIFY_TIME: 2024-02-19 15:33:47.549569</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              PRIMARY_ZONE: RANDOM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  LOCALITY: FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         PREVIOUS_LOCALITY: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        COMPATIBILITY_MODE: MYSQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    STATUS: NORMAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             IN_RECYCLEBIN: NO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    LOCKED: NO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               TENANT_ROLE: PRIMARY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         SWITCHOVER_STATUS: NORMAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          SWITCHOVER_EPOCH: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  SYNC_SCN: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            REPLAYABLE_SCN: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              READABLE_SCN: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RECOVERY_UNTIL_SCN: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  LOG_MODE: NOARCHIVELOG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARBITRATION_SERVICE_STATUS: DISABLED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  UNIT_NUM: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                COMPATIBLE: 4.2.1.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 MAX_LS_ID: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*************************** 2. row ***************************</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 TENANT_ID: 1005</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               TENANT_NAME: META$1006</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               TENANT_TYPE: META</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               CREATE_TIME: 2024-02-19 19:03:03.358119</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               MODIFY_TIME: 2024-02-19 19:03:23.572876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              PRIMARY_ZONE: RANDOM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  LOCALITY: FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         PREVIOUS_LOCALITY: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        COMPATIBILITY_MODE: MYSQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    STATUS: NORMAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             IN_RECYCLEBIN: NO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    LOCKED: NO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               TENANT_ROLE: PRIMARY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         SWITCHOVER_STATUS: NORMAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          SWITCHOVER_EPOCH: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  SYNC_SCN: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            REPLAYABLE_SCN: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              READABLE_SCN: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RECOVERY_UNTIL_SCN: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  LOG_MODE: NOARCHIVELOG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARBITRATION_SERVICE_STATUS: DISABLED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  UNIT_NUM: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                COMPATIBLE: 4.2.1.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 MAX_LS_ID: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*************************** 3. row ***************************</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 TENANT_ID: 1006</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               TENANT_NAME: test1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               TENANT_TYPE: USER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               CREATE_TIME: 2024-02-19 19:03:03.360234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               MODIFY_TIME: 2024-02-19 19:03:23.624946</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              PRIMARY_ZONE: RANDOM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  LOCALITY: FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         PREVIOUS_LOCALITY: NULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        COMPATIBILITY_MODE: MYSQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    STATUS: NORMAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             IN_RECYCLEBIN: NO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    LOCKED: NO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               TENANT_ROLE: PRIMARY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         SWITCHOVER_STATUS: NORMAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          SWITCHOVER_EPOCH: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  SYNC_SCN: 1708340630218168002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            REPLAYABLE_SCN: 1708340630218168002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              READABLE_SCN: 1708340630218168001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RECOVERY_UNTIL_SCN: 4611686018427387903</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  LOG_MODE: NOARCHIVELOG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ARBITRATION_SERVICE_STATUS: DISABLED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  UNIT_NUM: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                COMPATIBLE: 4.2.1.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 MAX_LS_ID: 1003</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 rows in set (0.06 sec)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>By default, the password of the administrator (<code>root</code>) of a newly created tenant is empty. We recommend that you set a password for the <code>root</code> user after tenant creation.</p>
<ol>
<li>
<p>Generate a random string.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[admin@test001 ~]$ strings /dev/urandom |tr -dc A-Za-z0-9 | head -c8; echo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output is as follows:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">b******t</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Log on to OceanBase Database and set the random string as the password of the <code>root</code> user.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MySQL [oceanbase]&gt; ALTER USER root IDENTIFIED BY &#x27;b******t&#x27; ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Query OK, 0 rows affected (0.118 sec)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For more information about the <code>ALTER USER</code> statement, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001106252" target="_blank" rel="noopener noreferrer">ALTER USER</a>.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-tenant-by-using-ob-operator">Create a tenant by using ob-operator<a href="#create-a-tenant-by-using-ob-operator" class="hash-link" aria-label="Direct link to Create a tenant by using ob-operator" title="Direct link to Create a tenant by using ob-operator">​</a></h2>
<blockquote>
<p><strong>Note</strong></p>
<p>This section briefly describes how to create a tenant by using ob-operator. For more information, see <a href="https://oceanbase.github.io/ob-operator/docs/manual/ob-operator-user-guide/tenant-management-of-ob-operator/create-tenant" target="_blank" rel="noopener noreferrer">Create a tenant</a>.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3>
<p>Before you create a tenant, make sure the following conditions are met:</p>
<ul>
<li>
<p>The version of ob-operator is V2.1.0 or later.</p>
</li>
<li>
<p>You have deployed an OceanBase cluster, which is running normally.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="procedure">Procedure<a href="#procedure" class="hash-link" aria-label="Direct link to Procedure" title="Direct link to Procedure">​</a></h3>
<ol>
<li>
<p>Create a configuration file.</p>
<p>For the content of the configuration file, see <a href="https://github.com/oceanbase/ob-operator/blob/2.2.2_release/example/tenant/tenant.yaml" target="_blank" rel="noopener noreferrer">tenant.yaml</a> in GitHub. For the detailed descriptions of the parameters in the configuration file, see <a href="https://oceanbase.github.io/ob-operator/docs/manual/ob-operator-user-guide/tenant-management-of-ob-operator/create-tenant#example" target="_blank" rel="noopener noreferrer">Example</a>.</p>
</li>
<li>
<p>Create a tenant.</p>
<p>Run the following command to create a tenant. This command creates an OBTenant resource for the tenant in the current Kubernetes cluster. In this example, the configuration file is named <code>tenant.yaml</code>. Make sure to replace it with the actual file name.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f tenant.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Check whether the tenant is successfully created.</p>
<p>Run the following command to check whether the OBTenant resource of the newly created tenant is available in the Kubernetes cluster:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl describe obtenants.oceanbase.oceanbase.com -n oceanbase t1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output is as follows. The Status.status value of the OBTenant resource is <code>running</code>. Related configurations are displayed in the <code>Status</code> section.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Name:         t1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Namespace:    oceanbase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Labels:       &lt;none&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Annotations:  &lt;none&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">API Version:  oceanbase.oceanbase.com/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Kind:         OBTenant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Creation Timestamp:  2023-11-13T07:28:31Z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Finalizers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    finalizers.oceanbase.com.deleteobtenant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Generation:        2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Resource Version:  940236</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UID:               34036a49-26bf-47cf-8201-444b3850aaa2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Charset:             utf8mb4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Connect White List:  %</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Credentials:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Root:        t1-ro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Standby Ro:  t1-ro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Force Delete:  true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Obcluster:     obcluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Pools:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Priority:  1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Resource:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Iops Weight:    2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Log Disk Size:  12Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Max CPU:        1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Max Iops:       1024</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Memory Size:    5Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Min CPU:        1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Min Iops:       1024</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Type:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Is Active:  true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Name:       Full</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Replica:    1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zone:         zone1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...    # Some output information is omitted here.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Credentials:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Root:        t1-ro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Standby Ro:  t1-ro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Resource Pool:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Priority:  1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Type:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Is Active:  true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Name:       FULL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Replica:    1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Unit Config:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Iops Weight:    2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Log Disk Size:  12884901888</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Max CPU:        1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Max Iops:       1024</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Memory Size:    5368709120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Min CPU:        1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Min Iops:       1024</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Unit Num:         1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Units:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Migrate:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Server IP:    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Server Port:  0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Server IP:      10.10.10.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Server Port:    2882</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Status:         ACTIVE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Unit Id:        1006</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zone List:        zone1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ... # Some output information is omitted here.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Status:             running</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Tenant Record Info:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Charset:             utf8mb4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Connect White List:  %</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Locality:            FULL{1}@zone1, FULL{1}@zone2, FULL{1}@zone3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Pool List:           pool_t1_zone1,pool_t1_zone2,pool_t1_zone3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Primary Zone:        zone3;zone1,zone2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Tenant ID:           1006</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Unit Num:            1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zone List:           zone1,zone2,zone3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Tenant Role:           PRIMARY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Events:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Type    Reason  Age                    From                 Message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ----    ------  ----                   ----                 -------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Normal          2m58s                  obtenant-controller  start creating</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Normal          115s                   obtenant-controller  create OBTenant successfully</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/06_create-tenant.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/view-resources"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">View the resource usage of an OceanBase cluster</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/connecting-tenants"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connect to a tenant</div></a></nav><div>Loading...</div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-a-tenant-by-using-ocp" class="table-of-contents__link toc-highlight">Create a tenant by using OCP</a></li><li><a href="#create-a-tenant-by-using-an-obd-command" class="table-of-contents__link toc-highlight">Create a tenant by using an OBD command</a></li><li><a href="#create-a-tenant-by-using-sql-statements" class="table-of-contents__link toc-highlight">Create a tenant by using SQL statements</a><ul><li><a href="#optional-step-1-create-a-unit-config" class="table-of-contents__link toc-highlight">(Optional) Step 1: Create a unit config</a></li><li><a href="#step-2-create-a-resource-pool" class="table-of-contents__link toc-highlight">Step 2: Create a resource pool</a></li><li><a href="#step-3-create-a-tenant" class="table-of-contents__link toc-highlight">Step 3: Create a tenant</a></li></ul></li><li><a href="#create-a-tenant-by-using-ob-operator" class="table-of-contents__link toc-highlight">Create a tenant by using ob-operator</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#procedure" class="table-of-contents__link toc-highlight">Procedure</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="http://github.com/oceanbase/oceanbase/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussion<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/oceanbase/shared_invite/zt-1e25oz3ol-lJ6YNqPHaKwY_mhhioyEuw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/oceanbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ask.oceanbase.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum (in Chinese)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">SIG</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/sig/AI/sig_intro">AI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/cloud-native/sig_intro">cloud-native</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/compilation/sig_intro">compilation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/develop-tools/sig_intro">develop-tools</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/miniob/sig_intro">MiniOB</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/obdiag/sig_intro">obdiag</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/operation/sig_intro">operation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://en.oceanbase.com/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About OceanBase<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/blogs/arch/all-in-one">Blogs</a></li><li class="footer__item"><a href="https://github.com/oceanbase/oceanbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 OceanBase, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>