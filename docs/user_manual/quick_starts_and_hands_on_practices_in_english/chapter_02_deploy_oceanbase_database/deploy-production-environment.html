<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deploy-production-environment" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Deploy OceanBase Database in a production environment | OceanBase</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://oceanbase.github.io/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deploy-production-environment"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploy OceanBase Database in a production environment | OceanBase"><meta data-rh="true" name="description" content="High availability deployment solutions"><meta data-rh="true" property="og:description" content="High availability deployment solutions"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://oceanbase.github.io/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deploy-production-environment"><link data-rh="true" rel="alternate" href="https://oceanbase.github.io/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deploy-production-environment" hreflang="en"><link data-rh="true" rel="alternate" href="https://oceanbase.github.io/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deploy-production-environment" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6JQM9QDU5V-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.7e3a93fe.css">
<script src="/assets/js/runtime~main.fbe61914.js" defer="defer"></script>
<script src="/assets/js/main.7c82b3e0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="OceanBase Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="OceanBase Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OceanBase</b></a><a class="navbar__item navbar__link" href="/docs/blogs/arch/all-in-one">Blogs</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Product Docs</a><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">User Manual</a><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Developer Manual</a></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Special Interest Group(SIG)</a><span><li><a href="http://github.com/oceanbase/oceanbase/discussions" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub Discussion<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://join.slack.com/t/oceanbase/shared_invite/zt-1e25oz3ol-lJ6YNqPHaKwY_mhhioyEuw" target="_blank" rel="noopener noreferrer" class="dropdown__link">Slack<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://ask.oceanbase.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forum (in Chinese)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://stackoverflow.com/questions/tagged/oceanbase" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stack Overflow<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><a href="https://en.oceanbase.com/softwarecenter" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/oceanbase" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_01_overview_of_the_oceanbase_database/introduction">Overview of the Oceanbase database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/introduction">Deploy Oceanbase database</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/preparation_before_deployment">Preparations before deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deployment_components">Ecosystem components for deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deploy_personal_environment">Deploy OceanBase Database in an experience environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deploy-production-environment">Deploy OceanBase Database in a production environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/view-resources">View the resource usage of an OceanBase cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/create-tenant">Create a MySQL user tenant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/connecting-tenants">Connect to a tenant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/set-parameters">Set parameters and variables</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_03_test_oceanbase_database/introduction">Test Oceanbase database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_04_migration_and_synchronization_oceanbase/introduction">Migrate and synchronize data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_05_operation_and_maintenance/introduction">Operation and maintenance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_06_using_ob_for_business_development/introduction">Using Oceanbase for business development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_07_diagnosis_and_tuning/introduction">Diagnosis_and_tuning</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deploy Oceanbase database</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deploy OceanBase Database in a production environment</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>2.4 Deploy OceanBase Database in a production environment</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-availability-deployment-solutions">High availability deployment solutions<a href="#high-availability-deployment-solutions" class="hash-link" aria-label="Direct link to High availability deployment solutions" title="Direct link to High availability deployment solutions">​</a></h2>
<p>OceanBase Database Community Edition uses a shared-nothing architecture with multiple replicas to ensure zero single point of failure (SPOF) and system continuity. It supports high availability and disaster recovery at the node, Internet data center (IDC), and region levels. You can deploy OceanBase Database Community Edition in a single IDC, two IDCs in the same region, three IDCs across two regions, or five IDCs across three regions.</p>
<p>At present, OceanBase Database provides seven high availability deployment solutions, the following four of which are supported by the Community Edition. For more information about the high availability solutions, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001103376" target="_blank" rel="noopener noreferrer">HA deployment solutions for OceanBase clusters</a>.</p>
<ul>
<li>
<p>Three replicas in three IDCs in the same region</p>
</li>
<li>
<p>Five replicas in five IDCs across three regions</p>
</li>
<li>
<p>Primary/Standby deployment of two IDCs in the same region</p>
</li>
<li>
<p>Primary/Standby deployment of three IDCs across two regions</p>
</li>
</ul>
<p>In OceanBase Database V4.1.0 and later, the Physical Standby Database solution is provided in the form of primary/standby tenants. Clusters are no longer assigned the primary or standby role and are only containers of primary and standby tenants. For more information, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001103965" target="_blank" rel="noopener noreferrer">Overview</a>.</p>
<blockquote>
<p><strong>Notice</strong></p>
<p>OceanBase Database Community Edition does not support the arbitration service. Therefore, you cannot use high availability deployment solutions related to the arbitration service.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="plan-the-deployment-of-an-oceanbase-cluster">Plan the deployment of an OceanBase cluster<a href="#plan-the-deployment-of-an-oceanbase-cluster" class="hash-link" aria-label="Direct link to Plan the deployment of an OceanBase cluster" title="Direct link to Plan the deployment of an OceanBase cluster">​</a></h2>
<p>For the requirements for deployment in a production environment, see &#x27;2.1 Preparations before deployment&#x27;. This section describes how to plan the deployment of an OceanBase cluster.</p>
<p>OceanBase Database runs as a cluster. In a production environment, an OceanBase cluster contains at least three servers (nodes). In other words, the business data in the cluster is available in three replicas, so the cluster is also referred to as a three-replica cluster.</p>
<p>In a production environment, an <code>observer</code> process runs on each server, with each server representing a node. By default, the <code>observer</code> process on each node listens on ports <code>2881</code> and <code>2882</code>. The data directory and transaction log directory are deployed on separate disks for each node. The minimum memory required to start the <code>observer</code> process is 6 GB per node. However, in a production environment, at least 16 GB of memory is required, with 32 GB recommended for optimal performance.</p>
<blockquote>
<p><strong>Notice</strong></p>
<p>In this context, the minimum memory refers to the remaining memory shown in the <code>free</code> column of the <code>free -g</code> command output, not the total server memory listed in the <code>total</code> column.</p>
</blockquote>
<p>After you deploy OceanBase Database, you need to deploy OceanBase Database Proxy (ODP), also known as OBProxy. ODP is also a single-process software solution and a reverse proxy used to access OceanBase Database. You can directly access OBServer nodes. However, we recommend that you access the OceanBase cluster through ODP.</p>
<p>You can deploy ODP on the application server, an independent server, or an OBServer node. You can deploy multiple ODPs. We recommend that you deploy at least two ODPs in a production environment.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-an-oceanbase-cluster-by-using-ocp">Deploy an OceanBase cluster by using OCP<a href="#deploy-an-oceanbase-cluster-by-using-ocp" class="hash-link" aria-label="Direct link to Deploy an OceanBase cluster by using OCP" title="Direct link to Deploy an OceanBase cluster by using OCP">​</a></h2>
<p>The following table describes the architecture of a common OceanBase cluster deployed by using OceanBase Cloud Platform (OCP).</p>
<table><thead><tr><th>Four-node environment</th><th>Deployed components</th><th>Description</th></tr></thead><tbody><tr><td>Node A</td><td>OCP and MetaDB</td><td>Serves as the node shared by OCP and MetaDB. We recommend that you do not mix MetaDB with the business cluster.</td></tr><tr><td>Node B</td><td>OceanBase Database, ODP, and OCP-Agent</td><td>Serves as an OBServer node, an ODP service node, and an OCP-Agent service node.</td></tr><tr><td>Node C</td><td>OceanBase Database, ODP, and OCP-Agent</td><td>Serves as an OBServer node, an ODP service node, and an OCP-Agent service node.</td></tr><tr><td>Node D</td><td>OceanBase Database, ODP, and OCP-Agent</td><td>Serves as an OBServer node, an ODP service node, and an OCP-Agent service node.</td></tr></tbody></table>
<p>Why is OCP recommended for deploying and managing an OceanBase cluster?</p>
<ul>
<li>
<p>Enterprise-grade cluster management</p>
<p>OCP is an enterprise-grade management platform designed for OceanBase Database. It provides comprehensive cluster management features, such as installation, O&amp;M, performance monitoring, configuration, upgrade, deletion, and full-lifecycle host and tenant management. It can help you improve the O&amp;M efficiency and reduce the IT costs.</p>
</li>
<li>
<p>Tenant and resource management</p>
<p>OCP provides comprehensive management features for OceanBase Database tenants, including creation, topology display, performance monitoring, session management, and parameter management. It also enables resource management for OceanBase Database, covering hosts, networks, and software packages, to ensure efficient resource utilization and optimization.</p>
</li>
<li>
<p>Monitoring and alerting</p>
<p>OCP implements a multidimensional monitoring and alerting mechanism, which comprises the real-time monitoring and custom alerting strategies for clusters, tenants, and hosts to help detect and handle potential issues in a timely manner.</p>
</li>
<li>
<p>Automatic O&amp;M</p>
<p>You can use OCP to install, upgrade, scale out, and uninstall OceanBase clusters with a few clicks. This simplifies the O&amp;M process and reduces human errors.</p>
</li>
<li>
<p>Enhanced security</p>
<p>OCP provides user management and role management features for fine-grained control of database access permissions. It also supports the management of personal settings, passwords, and alert subscription.</p>
</li>
<li>
<p>GUI and user experience</p>
<p>OCP is built based on an object-oriented architecture to provide clear feature modules and smooth operation paths. It visually displays the topologies of clusters and tenants, along with resource usage information, enabling O&amp;M personnel to efficiently manage database clusters in an intuitive manner.</p>
</li>
<li>
<p>Cluster takeover</p>
<p>OCP can take over clusters deployed by using OceanBase Deployer (OBD), OBShell, or OCP.</p>
</li>
</ul>
<p>In summary, OCP can significantly improve the cluster management and O&amp;M efficiency for OceanBase Database, ensuring system stability and security to better support business growth.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-ocp">Install OCP<a href="#install-ocp" class="hash-link" aria-label="Direct link to Install OCP" title="Direct link to Install OCP">​</a></h3>
<p>Before installing OCP, you need to understand the following key points:</p>
<ul>
<li>
<p>What is MetaDB?</p>
<p>MetaDB is a database dedicated to the storage of OCP metadata and monitoring data. At present, only OceanBase Database can serve as the MetaDB. You can deploy OceanBase Database to be serve as the MetaDB in standalone or cluster mode. You can deploy it on the same server as OCP or separately.</p>
<blockquote>
<p><strong>Notice</strong></p>
<p>We recommend that you do not use MetaDB as a business database in a production environment.</p>
</blockquote>
</li>
<li>
<p>What are MetaDB meta tenants?</p>
<p>MetaDB meta tenants include the <code>ocp_meta</code> tenant for metadata management and the <code>ocp_monitor</code> tenant for monitoring data management. You can define the tenant names.</p>
<blockquote>
<p><strong>Notice</strong></p>
<p>It is prohibited to use two different users in the same tenant to replace the <code>ocp_meta</code> tenant and <code>ocp_monitor</code> tenant. In other words, the <code>ocp_meta</code> tenant and <code>ocp_monitor</code> tenant must be two different tenants.</p>
</blockquote>
</li>
<li>
<p>How to implement OCP high availability?</p>
<p>To implement OCP high availability, you need to implement high availability for both the OCP service and the MetaDB. Specifically, you must deploy the OCP service on at least two nodes and the MetaDB on at least three nodes. Generally, you can use three servers to deploy a three-node OCP cluster and a three-node MetaDB cluster to implement OCP high availability.</p>
</li>
<li>
<p>What are the resource requirements for an OCP server?</p>
<p>Assume that no more than 10 OBServer nodes are managed in OCP. If the MetaDB and OCP are deployed on the same server, the physical server requires 17 CPU cores and 60 GB of memory. For more information about the resource requirements, see <a href="https://en.oceanbase.com/docs/common-ocp-10000000001484440" target="_blank" rel="noopener noreferrer">Host planning</a>.</p>
<table><thead><tr><th>Module</th><th>CPU</th><th>Memory</th></tr></thead><tbody><tr><td>OCP-Server</td><td>4 cores</td><td>8 GB</td></tr><tr><td>sys tenant of MetaDB</td><td>5 cores</td><td>28 GB</td></tr><tr><td><code>ocp_meta</code> tenant of MetaDB</td><td>4 cores</td><td>8 GB</td></tr><tr><td><code>ocp_monitor</code> tenant of MetaDB</td><td>4 cores</td><td>16 GB</td></tr></tbody></table>
<blockquote>
<p><strong>Notice</strong></p>
<p>For other resource requirements for MetaDB deployment, see the deployment requirements of OceanBase Database.</p>
</blockquote>
</li>
</ul>
<p>We recommend that you deploy OCP of the latest version on the GUI. For the deployment process, see <a href="https://en.oceanbase.com/docs/common-ocp-10000000001483897" target="_blank" rel="noopener noreferrer">Installation process</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-an-oceanbase-cluster-by-using-ocp-1">Deploy an OceanBase cluster by using OCP<a href="#deploy-an-oceanbase-cluster-by-using-ocp-1" class="hash-link" aria-label="Direct link to Deploy an OceanBase cluster by using OCP" title="Direct link to Deploy an OceanBase cluster by using OCP">​</a></h3>
<p>Before deploying an OceanBase cluster by using OCP, you need to understand the following key points:</p>
<ul>
<li>
<p>Which software packages need to be uploaded for the deployment?</p>
<p>Log on to the OCP console, choose <strong>System Management</strong> &gt; <strong>Packages</strong>, and check whether the installation packages listed in the following table are present. The absence of any of these installation packages will cause the cluster deployment process to fail.</p>
<table><thead><tr><th>Component</th><th>Package name</th><th>Description</th></tr></thead><tbody><tr><td>OCP-Agent</td><td><ul><li>ocp-agent-ce-*.x86_64.rpm</li><li>ocp-agent-ce-*.aarch64.rpm</li></ul></td><td>The package for deploying OCP-Agent, which is automatically uploaded after OCP is deployed.</td></tr><tr><td>OceanBase</td><td><ul><li>oceanbase-ce-*.rpm</li><li>oceanbase-ce-libs-*.rpm</li><li>oceanbase-ce-utils-*.rpm</li></ul></td><td>The packages for deploying the following components respectively: <ul><li>OceanBase Database</li><li>OceanBase libraries</li><li>OceanBase utilities</li></ul></td></tr><tr><td>ODP</td><td>obproxy-ce-*.rpm</td><td>The package for deploying ODP.</td></tr></tbody></table>
</li>
<li>
<p>What are the considerations for adding a host?</p>
<ul>
<li>
<p>Disable the firewall and SELinux on the host node.</p>
</li>
<li>
<p>Use a static IP address for the host node.</p>
</li>
<li>
<p>Synchronize the clock source of the host node with that of the OCP node.</p>
</li>
<li>
<p>Create the credential user for the host node in advance.</p>
</li>
<li>
<p>Make sure that the deployment (credential) user of the host node has <code>sudo</code> permissions.</p>
</li>
<li>
<p>Make sure that the deployment (credential) user of the host node and OCP node has the permission to run the <code>clockdiff</code> command. If this user does not have the required permission, you can run the <code>setcap cap_net_raw+ep /usr/sbin/clockdiff</code> command as the <code>root</code> user to grant the permission.</p>
</li>
</ul>
</li>
<li>
<p>What are the considerations for creating a cluster?</p>
<p>To customize system parameters, such as the number of system log files to retain and the size of preallocated disk space, see the <strong>Common resource parameters of OceanBase Database and their calculation methods</strong> section in &#x27;2.1 Preparations before deployment&#x27;.</p>
</li>
<li>
<p>What are the considerations after deployment?</p>
<ul>
<li>
<p>Create a user tenant for business. The default tenant <code>sys</code> has a few resources and is used only for cluster management.</p>
</li>
<li>
<p>Deploy an ODP cluster. We recommend that you deploy an ODP cluster that comprises at least two nodes. If the business volume is large, we recommend that you deploy the ODP cluster on dedicated servers.</p>
</li>
</ul>
</li>
</ul>
<p>For more information about how to deploy an OceanBase cluster, create a user tenant, and deploy an ODP cluster, see topics under <a href="https://en.oceanbase.com/docs/common-ocp-10000000001483664" target="_blank" rel="noopener noreferrer">Quick Start</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-an-oceanbase-cluster-by-using-obd">Deploy an OceanBase cluster by using OBD<a href="#deploy-an-oceanbase-cluster-by-using-obd" class="hash-link" aria-label="Direct link to Deploy an OceanBase cluster by using OBD" title="Direct link to Deploy an OceanBase cluster by using OBD">​</a></h2>
<p>OBD supports the deployment and management of multiple ecosystem components of OceanBase Database, and will incorporate more ecosystem components in later versions. Apart from GUI-based deployment to simplify automatic deployment, OBD provides general O&amp;M capabilities such as package manager, stress test software, and cluster management.</p>
<p>The following table describes the architecture of a common OceanBase cluster deployed by using OBD.</p>
<table><thead><tr><th>Four-node environment</th><th>Deployed components</th><th>Description</th></tr></thead><tbody><tr><td>Node A</td><td>OBD and OCP Express</td><td>Serves as the central control node for OBD deployment management, O&amp;M, and monitoring services. OCP Express does not have an independent MetaDB. An OCP Express meta tenant will be created in the business cluster.</td></tr><tr><td>Node B</td><td>OceanBase Database, ODP, and OBAgent</td><td>Serves as an OBServer node, an ODP service node, and an OBAgent service node.</td></tr><tr><td>Node C</td><td>OceanBase Database, ODP, and OBAgent</td><td>Serves as an OBServer node, an ODP service node, and an OBAgent service node.</td></tr><tr><td>Node D</td><td>OceanBase Database, ODP, and OBAgent</td><td>Serves as an OBServer node, an ODP service node, and an OBAgent service node.</td></tr></tbody></table>
<blockquote>
<p><strong>Note</strong></p>
<p>The central control node of OBD does not have high requirements for the server configurations. We recommend that you configure at least four CPU cores and 8 GB of memory for it.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-obd">Install OBD<a href="#install-obd" class="hash-link" aria-label="Direct link to Install OBD" title="Direct link to Install OBD">​</a></h3>
<p>Apart from running a script to use the all-in-one package for quick OBD deployment, you can also use an RPM package for local deployment or configure a YUM repository for online deployment.</p>
<p>For more information, see <a href="https://en.oceanbase.com/docs/community-obd-en-10000000001181584" target="_blank" rel="noopener noreferrer">Install and configure OBD</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-an-oceanbase-cluster-by-using-obd-1">Deploy an OceanBase cluster by using OBD<a href="#deploy-an-oceanbase-cluster-by-using-obd-1" class="hash-link" aria-label="Direct link to Deploy an OceanBase cluster by using OBD" title="Direct link to Deploy an OceanBase cluster by using OBD">​</a></h3>
<p>Before deploying an OceanBase cluster by using OBD, you need to understand the following key points:</p>
<ul>
<li>
<p>When do you need to choose OCP Express?</p>
<p>OCP Express is the lightweight edition of OCP and applies to development environments, test environments, and small- and medium-scale production environments, such as a standalone or three-node OceanBase cluster. At present, OCP Express does not support the core cluster O&amp;M and management features, such as deployment, upgrade, scaling, backup and restore, and monitoring and alerting.</p>
</li>
<li>
<p>What are the considerations for deploying a cluster by using OBD?</p>
<ul>
<li>
<p>OBD remotely performs installation and deployment by using the Secure Shell (SSH) protocol. The OCP Express service relies on <code>java-1.8.0-openjdk</code>. Therefore, you must use SSH to verify whether the Java environment is available.</p>
</li>
<li>
<p>If the node where OBD resides cannot connect to the Internet, download the desired installation packages in advance, run the <code>obd mirror clone *.rpm</code> command to add the packages to the local repository of OBD, and run the <code>obd mirror disable remote</code> command to disable all remote repositories.</p>
</li>
</ul>
</li>
</ul>
<p>For the deployment procedure, visit the following links based on the deployment method:</p>
<ul>
<li>
<p>GUI-based deployment: See <a href="https://en.oceanbase.com/docs/community-obd-en-10000000001181583" target="_blank" rel="noopener noreferrer">Deploy an OceanBase cluster on the GUI</a>.</p>
</li>
<li>
<p>CLI-based deployment: See <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001104023" target="_blank" rel="noopener noreferrer">Deploy OceanBase Database in a production environment by using the CLI</a>.</p>
</li>
</ul>
<blockquote>
<p><strong>Note</strong></p>
<p>If an error is returned when you deploy a cluster by using OBD, you can find the solution by referring to <a href="https://en.oceanbase.com/docs/community-obd-en-10000000001181558" target="_blank" rel="noopener noreferrer">Error codes</a>.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-obd-commands">Common OBD commands<a href="#common-obd-commands" class="hash-link" aria-label="Direct link to Common OBD commands" title="Direct link to Common OBD commands">​</a></h3>
<p>OBD provides a wide range of commands, including the quick deployment command, cluster commands, mirror and repository commands, testing commands, tool commands, and obdiag commands. Here are some common OBD commands:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># View the repository list.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd mirror list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Disable remote repositories.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd mirror disable remote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Enable remote repositories.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd mirror enable remote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># View the list of deployed services.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># View the details of a deployed service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster display &lt;deploy name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Specify the configuration file for installing a service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster deploy &lt;deploy name&gt; -c &lt;deploy file&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Destroy a deployed service. This operation is highly risky and will clear all data of the service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster destroy &lt;deploy name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Edit or view the deployment configuration file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster edit-config &lt;deploy name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Start, stop, or restart a service.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster start/stop/restart &lt;deploy name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Start, stop, or restart a service module. You can run the obd cluster edit-config command to view the module name.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster start/stop/restart &lt;deploy name&gt; -c &lt;component name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Start, stop, or restart the specified nodes of a service module. You can run the obd cluster edit-config command to view the module name and node IP addresses.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster start/stop/restart &lt;deploy name&gt; -c &lt;component name&gt; -s IP1,IP2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Reload the configurations of a service. After you run the obd cluster edit-config command to modify the configurations, the CLI will prompt you to run this command to reload them.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster reload &lt;deploy name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create a standalone OceanBase cluster with the minimum specifications of two CPU cores and 6 GB of memory.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Deploy a service with the specified service name and ports in a demon environment.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd demo -c oceanbase-ce --oceanbase-ce.mysql_port=3881 --oceanbase-ce.rpc_port=3882</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create a user tenant to make full use of the remaining resources.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd cluster tenant create &lt;deploy name&gt; -n &lt;tenant name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run a performance test. At present, you can run the mysqltest test, Sysbench benchmark, TPC-H benchmark, and TPC-C benchmark.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd test mysqltest/sysbench/tpch/tpcc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Use obdiag to inspect an OceanBase cluster.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd obdiag check --cases=&lt;deploy name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Collect the diagnostic information of the specified OceanBase cluster.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd obdiag gather all &lt;deploy name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Analyze the system logs in the specified period of the specified OceanBase cluster.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd obdiag analyze log &lt;deploy name&gt; --from 2024-02-06 18:00:00 --to 2024-02-06 18:10:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Analyze the trace logs of the specified OceanBase cluster for end-to-end diagnostics.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd obdiag analyze flt_trace &lt;deploy name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Perform root cause analysis in the following scenarios: ODP disconnection, holding of a cluster major compaction, and lock conflict.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obd obdiag rca --scene=disconnection/major_hold/lock_conflict</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For more information about OBD commands, see topics under <a href="https://en.oceanbase.com/docs/community-obd-en-10000000001181577" target="_blank" rel="noopener noreferrer">OBD Command</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-an-oceanbase-cluster-by-using-ob-operator">Deploy an OceanBase cluster by using ob-operator<a href="#deploy-an-oceanbase-cluster-by-using-ob-operator" class="hash-link" aria-label="Direct link to Deploy an OceanBase cluster by using ob-operator" title="Direct link to Deploy an OceanBase cluster by using ob-operator">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-for-deployment-in-a-production-environment">Prerequisites for deployment in a production environment<a href="#prerequisites-for-deployment-in-a-production-environment" class="hash-link" aria-label="Direct link to Prerequisites for deployment in a production environment" title="Direct link to Prerequisites for deployment in a production environment">​</a></h3>
<p>Make sure that the following conditions are met:</p>
<ul>
<li>
<p>You have an available Kubernetes cluster with at least nine CPUs, 33 GB of memory, and 360 GB storage space.</p>
</li>
<li>
<p>You have installed cert-manager in the Kubernetes cluster. For more information about how to install cert-manager, see <a href="https://cert-manager.io/docs/installation/" target="_blank" rel="noopener noreferrer">Installation</a>.</p>
</li>
<li>
<p>Your Kubernetes cluster has at least one available storage class. If no storage class is available, you can install local-path-provisioner and make sure that the specified destination has sufficient storage space. It will provide the <code>local-path</code> storage class and use the local storage on cluster nodes. For more information about how to install local-path-provisioner, see <a href="https://github.com/rancher/local-path-provisioner" target="_blank" rel="noopener noreferrer">Installation</a>.</p>
</li>
<li>
<p>You have deployed ob-operator. For the deployment procedure, see <a href="https://oceanbase.github.io/ob-operator/docs/manual/deploy-ob-operator" target="_blank" rel="noopener noreferrer">Deploy</a>.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-requirements">Deployment requirements<a href="#deployment-requirements" class="hash-link" aria-label="Direct link to Deployment requirements" title="Direct link to Deployment requirements">​</a></h3>
<p>The following table describes the requirements for deployment by using ob-operator.</p>
<table><thead><tr><th>Service</th><th>Requirement</th><th>Description</th></tr></thead><tbody><tr><td>ob-operator</td><td>ob-operator V2.x is required.</td><td>We recommend that you use ob-operator of the latest version for more complete features.</td></tr><tr><td>OceanBase Database</td><td><ul><li>The OceanBase Database version must be V4.0.0 or later. A Long-Term Support (LTS) version, such as V4.2.1, is recommended. </li><li>We recommend that you deploy a three-node cluster and configure physical server resources as recommended. </li></ul></td><td>If OceanBase Database requires 16 CPU cores and 32 GB of memory, the minimum resource configurations for the container are 16 CPU cores and 36 GB of memory. By default, 90% of the memory is allocated to OceanBase Database.</td></tr><tr><td>Kubernetes</td><td>ob-operator has been adapted to the Calico network plug-in. To ensure that each node in a normal cluster has a unique pod IP address, use Calico as the network plug-in of Kubernetes.</td><td>ob-operator supports pod affinity settings. We recommend that you use nodeSelector to distribute the OBServer nodes to different hosts.</td></tr></tbody></table>
<p>For information about how to deploy OceanBase Database by using ob-operator, see <a href="https://oceanbase.github.io/ob-operator/docs/manual/ob-operator-user-guide/cluster-management-of-ob-operator/create-cluster" target="_blank" rel="noopener noreferrer">Create a cluster</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/04_deploy-production-environment.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/deploy_personal_environment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deploy OceanBase Database in an experience environment</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/user_manual/quick_starts_and_hands_on_practices_in_english/chapter_02_deploy_oceanbase_database/view-resources"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">View the resource usage of an OceanBase cluster</div></a></nav><div>Loading...</div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#high-availability-deployment-solutions" class="table-of-contents__link toc-highlight">High availability deployment solutions</a></li><li><a href="#plan-the-deployment-of-an-oceanbase-cluster" class="table-of-contents__link toc-highlight">Plan the deployment of an OceanBase cluster</a></li><li><a href="#deploy-an-oceanbase-cluster-by-using-ocp" class="table-of-contents__link toc-highlight">Deploy an OceanBase cluster by using OCP</a><ul><li><a href="#install-ocp" class="table-of-contents__link toc-highlight">Install OCP</a></li><li><a href="#deploy-an-oceanbase-cluster-by-using-ocp-1" class="table-of-contents__link toc-highlight">Deploy an OceanBase cluster by using OCP</a></li></ul></li><li><a href="#deploy-an-oceanbase-cluster-by-using-obd" class="table-of-contents__link toc-highlight">Deploy an OceanBase cluster by using OBD</a><ul><li><a href="#install-obd" class="table-of-contents__link toc-highlight">Install OBD</a></li><li><a href="#deploy-an-oceanbase-cluster-by-using-obd-1" class="table-of-contents__link toc-highlight">Deploy an OceanBase cluster by using OBD</a></li><li><a href="#common-obd-commands" class="table-of-contents__link toc-highlight">Common OBD commands</a></li></ul></li><li><a href="#deploy-an-oceanbase-cluster-by-using-ob-operator" class="table-of-contents__link toc-highlight">Deploy an OceanBase cluster by using ob-operator</a><ul><li><a href="#prerequisites-for-deployment-in-a-production-environment" class="table-of-contents__link toc-highlight">Prerequisites for deployment in a production environment</a></li><li><a href="#deployment-requirements" class="table-of-contents__link toc-highlight">Deployment requirements</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="http://github.com/oceanbase/oceanbase/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussion<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/oceanbase/shared_invite/zt-1e25oz3ol-lJ6YNqPHaKwY_mhhioyEuw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/oceanbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ask.oceanbase.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum (in Chinese)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">SIG</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/sig/AI/sig_intro">AI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/cloud-native/sig_intro">cloud-native</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/compilation/sig_intro">compilation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/develop-tools/sig_intro">develop-tools</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/miniob/sig_intro">MiniOB</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/obdiag/sig_intro">obdiag</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/operation/sig_intro">operation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://en.oceanbase.com/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About OceanBase<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/blogs/arch/all-in-one">Blogs</a></li><li class="footer__item"><a href="https://github.com/oceanbase/oceanbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 OceanBase, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>