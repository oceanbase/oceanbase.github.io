<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Hello OceanBase! The first lesson for becoming an OceanBase contributor | OceanBase</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://oceanbase.github.io/blog/hello-oceanbase"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Hello OceanBase! The first lesson for becoming an OceanBase contributor | OceanBase"><meta data-rh="true" name="description" content="About the author: Xia Ke, a contributor of OceanBase Community, has engaged in the design and development of financial core systems for years. He is now working on the investigation of China-made databases in a subsidiary of a stock exchange, and has recently obtained OceanBase Certified Associate (OBCA) and PingCAP Certified TiDB Associate (PCTA) certificates."><meta data-rh="true" property="og:description" content="About the author: Xia Ke, a contributor of OceanBase Community, has engaged in the design and development of financial core systems for years. He is now working on the investigation of China-made databases in a subsidiary of a stock exchange, and has recently obtained OceanBase Certified Associate (OBCA) and PingCAP Certified TiDB Associate (PCTA) certificates."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-06-03T13:23:07.000Z"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://oceanbase.github.io/blog/hello-oceanbase"><link data-rh="true" rel="alternate" href="https://oceanbase.github.io/blog/hello-oceanbase" hreflang="en"><link data-rh="true" rel="alternate" href="https://oceanbase.github.io/blog/hello-oceanbase" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6JQM9QDU5V-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://oceanbase.github.io/blog/hello-oceanbase","mainEntityOfPage":"https://oceanbase.github.io/blog/hello-oceanbase","url":"https://oceanbase.github.io/blog/hello-oceanbase","headline":"Hello OceanBase! The first lesson for becoming an OceanBase contributor","name":"Hello OceanBase! The first lesson for becoming an OceanBase contributor","description":"About the author: Xia Ke, a contributor of OceanBase Community, has engaged in the design and development of financial core systems for years. He is now working on the investigation of China-made databases in a subsidiary of a stock exchange, and has recently obtained OceanBase Certified Associate (OBCA) and PingCAP Certified TiDB Associate (PCTA) certificates.","datePublished":"2024-06-03T13:23:07.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://oceanbase.github.io/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OceanBase RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OceanBase Atom Feed"><link rel="stylesheet" href="/assets/css/styles.8d7d8da1.css">
<script src="/assets/js/runtime~main.20424a41.js" defer="defer"></script>
<script src="/assets/js/main.1d445965.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="OceanBase Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="OceanBase Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OceanBase</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blogs</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/blog/hello-oceanbase">Docs</a><ul class="dropdown__menu"><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Product Docs</a><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">User Manual</a><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Developer Manual</a></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/blog/hello-oceanbase">Community</a><ul class="dropdown__menu"><a class="sub-dropdown dropdown__link dropdown--hoverable" style="cursor:pointer">Special Interest Group(SIG)</a><span><li><a href="http://github.com/oceanbase/oceanbase/discussions" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub Discussion<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://join.slack.com/t/oceanbase/shared_invite/zt-1e25oz3ol-lJ6YNqPHaKwY_mhhioyEuw" target="_blank" rel="noopener noreferrer" class="dropdown__link">Slack<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://ask.oceanbase.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forum (in Chinese)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span><span><li><a href="https://stackoverflow.com/questions/tagged/oceanbase" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stack Overflow<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></span></ul><ul class="dropdown__menu" style="left:160px;display:none"></ul></div><a href="https://en.oceanbase.com/softwarecenter" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Downloads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/oceanbase" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/architectural-evolution">The architectural evolution of OceanBase Database</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/compression-ratio">Data Compression Technology Explained Balance between Costs &amp; Performance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/flink-cdc">Flink CDC + OceanBase integration solution for full and incremental synchronization</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/integrated-architecture">Integrated Architecture of OceanBase Database</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/integrated-sql-engine">Integrated SQL Engine in OceanBase Database</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/vectorized-engine">Implementing a Vectorized Engine in a Distributed Database</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/boss-zhipin">BOSS Zhipin —— How to save 70% storage cost through OceanBase with an archive database of 1 billion rows per day?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/dmall">DMALL —— a summary of database selection experience in SaaS scenarios</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/sichuan-hwadee">Sichuan Hwadee —— The practice of lightweight data warehouse construction of health big data based on OceanBase</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/kuayue-express">KUAYUE EXPRESS —— In the real-time warehouse scenario, utilizing OceanBase to make up for the shortcomings of MySQL and StarRocks</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/momo">Momo —— Exploration and practice of persistent cache based on OceanBase KV storage</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/all-in-one">Work with developers to create an all-in-one database</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/io-isolation">OceanBase provides users with sufficiently flexible and simple I/O resource isolation experiences.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/miniaturization">OceanBase 4.0 interpretation: Reduce the threshold of distributed database use, talk about our thinking on small specifications</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ob-430">OceanBase 4.3 - Milestone release for real-time AP analysis</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/resource-isolation">Why is resource isolation important for HTAP?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/flink-and-ob">Flink CDC + OceanBase integration solution for full and incremental synchronization</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/hello-oceanbase">Hello OceanBase! The first lesson for becoming an OceanBase contributor</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/obcloud">How OB Cloud Achieves Cost Reduction and Efficiency Improvement in Replacing MySQL Scenarios ？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/adaptive-sql-execution-engine">Adaptive Techniques in the OceanBase SQL Execution Engine</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/distributed-push-down">OceanBase Distributed Pushdown Technology</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/high-concurrency">OceanBase Technical Insights for High-Concurrency Scenarios</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/refine-performance">How We Approach Improving Distributed Query Performance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tp-to-ap">From OLTP to OLAP: Exploration and practice of the OceanBase SQL engine</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">Hello OceanBase! The first lesson for becoming an OceanBase contributor</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-06-03T13:23:07.000Z">June 3, 2024</time> · <!-- -->8 min read</div></header><div id="__blog-post-container" class="markdown"><blockquote>
<p>About the author: Xia Ke, a contributor of OceanBase Community, has engaged in the design and development of financial core systems for years. He is now working on the investigation of China-made databases in a subsidiary of a stock exchange, and has recently obtained OceanBase Certified Associate (OBCA) and PingCAP Certified TiDB Associate (PCTA) certificates.</p>
</blockquote>
<p>The other day I read this post <a href="https://open.oceanbase.com/blog/8600156?currentPage=undefined" target="_blank" rel="noopener noreferrer">Decoding OceanBase (11): Expressions and Functions</a> by Zhuweng, a Peking University alumnus, director of OceanBase kernel R&amp;D. At the end, he mentioned that creating a built-in function is the first test for new recruits joining the SQL team of OceanBase. Though having no intention of looking for a new job, I was so intrigued by this <strong>first test</strong>. I am not a database administrator, so I have not spent much time working with databases until lately when I started learning about top-notch home-grown database products for job reasons. As far as my job description is concerned, I have &quot;walked out of my circle&quot; to do the test. After reading posts from popular IT communities and participating in open online courses, I was deeply impressed by the vigorous momentum of the database ecosystem in China. I want to say thank you to database developers and engineers who have shared their experience, which enables laymen like me to quickly get on track. Benefiting from their good deeds, I would like to take this opportunity to make my contributions to the OceanBase community, hoping that you might find it useful.</p>
<h1>Overview</h1>
<p>Seeing <code>Hello OceanBase</code> in the title, you may think of &quot;Hello World&quot;. Yes, that is exactly the vibe I wanted to strike here. This post is a &quot;Hello World&quot; demo that shows you how to create or modify a built-in function in OceanBase Database, or in other words, how to do secondary development based on OceanBase Database Community Edition. In addition to being motivated by <code>Zhuweng</code>, I want to take this test also because of the requirement for extending database capabilities by using external functions. Oracle allows users to call external C or JAVA functions, just like calling built-in functions. In a sense, this feature makes a database more capable. Users can call external C or JAVA functions to, for example, implement complex mathematical algorithms, which may otherwise cause troubles by using SQL statements or Oracle built-in functions. Of course, you can always implement those algorithms at the business layer, but maybe we can talk about that in another post. Based on my research on a bunch of home-grown databases, I have come up with similar procedures for using external functions. You can take a look at them in my posts <a href="https://blog.csdn.net/xk_xx/article/details/123091480?spm=1001.2014.3001.5501" target="_blank" rel="noopener noreferrer">Implement Oracle external functions in Dameng DM8 Database</a> and <a href="https://blog.csdn.net/xk_xx/article/details/123011397?spm=1001.2014.3001.5501" target="_blank" rel="noopener noreferrer">Implement PostgreSQL UDFs by using the contrib module</a>. Calling external functions in DM8 is basically the same as in Oracle, except for some slight implementation differences. Some databases, such as openGauss, MogDB, TDSQL PostgreSQL, and KingbaseES, come with an PostgreSQL kernel, and they inherently support the extension mechanisms of PostgreSQL. To the best of my knowledge, however, OceanBase Database does not support external functions. So, I wondered if I could not find a way out, a way in might do the trick. Let&#x27;s start with &quot;Hello OceanBase&quot;.</p>
<h1>Preparations</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="an-oceanbase-cluster">An OceanBase cluster<a class="hash-link" aria-label="Direct link to An OceanBase cluster" title="Direct link to An OceanBase cluster" href="/blog/hello-oceanbase#an-oceanbase-cluster">​</a></h2>
<p>You can find tons of posts in the community about how to deploy OceanBase Database in all kinds of supported modes. Here are some of my posts in this regard: <a href="https://blog.csdn.net/xk_xx/article/details/122757336" target="_blank" rel="noopener noreferrer">Use Docker to deploy OceanBase Database</a>, <a href="https://blog.csdn.net/xk_xx/article/details/122763419" target="_blank" rel="noopener noreferrer">Manually deploy OceanBase Database in standalone mode</a>, and <a href="https://blog.csdn.net/xk_xx/article/details/123166584" target="_blank" rel="noopener noreferrer">Use OBD to locally deploy OceanBase Database in standalone mode</a>. To implement the demo, I recommend that you pick an easy one and use OceanBase Deployer (OBD) to locally deploy a standalone OceanBase database in a development environment.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="oceanbase-source-code">OceanBase source code<a class="hash-link" aria-label="Direct link to OceanBase source code" title="Direct link to OceanBase source code" href="/blog/hello-oceanbase#oceanbase-source-code">​</a></h2>
<p>You can get the latest source code by running the following command: <code>git clone https://github.com/oceanbase/oceanbase</code></p>
<h1>Code structure</h1>
<p>You can take a look at the <code>Decoding OceanBase</code> serial posts of the community for details.</p>
<p>Here, let me briefly describe the code related to the <code>sql/resolver/expr</code> directory.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="register-a-built-in-function">Register a built-in function<a class="hash-link" aria-label="Direct link to Register a built-in function" title="Direct link to Register a built-in function" href="/blog/hello-oceanbase#register-a-built-in-function">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/ec1d519b-9b37-4d6e-9b86-68074ff85e3b/image/2022-03-04/78c15e68-ea1b-40f0-b4e7-07b71454a82b.png" alt="" class="img_ev3q"></p>
<div class="language-C++ language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    #define REG_OP(OpClass)                                                \do {                                                                 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        OpClass op(alloc);                                                 \if (OB_UNLIKELY(i &gt;= EXPR_OP_NUM)) {                               \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          LOG_ERROR(&quot;out of the max expr&quot;);                                \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {                                                           \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          NAME_TYPES[i].name_ = op.get_name();                             \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          NAME_TYPES[i].type_ = op.get_type();                             \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          OP_ALLOC[op.get_type()] = ObExprOperatorFactory::alloc&lt;OpClass&gt;; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          i++;                                                             \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }                                                                  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      } while (0)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="diagram-of-the-expr-class">Diagram of the expr class<a class="hash-link" aria-label="Direct link to Diagram of the expr class" title="Direct link to Diagram of the expr class" href="/blog/hello-oceanbase#diagram-of-the-expr-class">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/69375afc-a8a4-4cdf-b339-5cd3ebfe84be/image/2022-03-04/726f726f-7ed3-4060-b909-6595697154b3.png" alt="" class="img_ev3q"></p>
<p>Built-in functions mainly implement the ObExprOperator interface class, which contains many functions.</p>
<p>The <code>calc_result_type0</code> and <code>calc_result0</code> functions specify the memory allocation and type definition for function registration. The <code>cg_expr</code> function registers the function pointer to the <code>eval_func_</code> function. The built-in function <code>rt_expr.eval_func_ = ObExprHello::eval_hello;</code> is called by using the function pointer. <code>eval_hello</code> is the function that actually do the job.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="develop-hello-oceanbase">Develop Hello OceanBase<a class="hash-link" aria-label="Direct link to Develop Hello OceanBase" title="Direct link to Develop Hello OceanBase" href="/blog/hello-oceanbase#develop-hello-oceanbase">​</a></h2>
<p>In this project, you need to modify the files shown in the following figure.</p>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/b33bf6b7-47c4-4d2e-b3f8-31e1a2349567/image/2022-03-04/38ff080c-902e-4976-9b12-6113ba751b0d.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-create-the-obexprhello-class">1. Create the ObExprHello class<a class="hash-link" aria-label="Direct link to 1. Create the ObExprHello class" title="Direct link to 1. Create the ObExprHello class" href="/blog/hello-oceanbase#1-create-the-obexprhello-class">​</a></h3>
<p>Many implementation examples are provided in the <code>sql/resolver/expr</code> directory. You can select reference objects as needed.</p>
<div class="language-C++ language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    #ifndef _OB_EXPR_HELLO_H_</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #define  _OB_EXPR_HELLO_H_</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #include  &quot;sql/engine/expr/ob_expr_operator.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    namespace  oceanbase {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    namespace  sql {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    class  ObExprHello : public  ObStringExprOperator {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      explicit  ObExprHello(common::ObIAllocator&amp;  alloc);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      virtual  ~ObExprHello();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      virtual  int  calc_result_type0(ObExprResType&amp;  type, common::ObExprTypeCtx&amp;  type_ctx) const;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      virtual  int  calc_result0(common::ObObj&amp;  result, common::ObExprCtx&amp;  expr_ctx) const;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      static  int  eval_hello(const  ObExpr&amp;  expr, ObEvalCtx&amp;  ctx, ObDatum&amp;  expr_datum);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      virtual  int  cg_expr(ObExprCGCtx&amp;  op_cg_ctx, const  ObRawExpr&amp;  raw_expr, ObExpr&amp;  rt_expr) const  override;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      DISALLOW_COPY_AND_ASSIGN(ObExprHello);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } /* namespace sql */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } /* namespace oceanbase */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #endif</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The content of the new file <code>ob_expr_hello.cpp</code> is as follows:</p>
<div class="language-C++ language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    #define  USING_LOG_PREFIX SQL_ENG</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #include  &quot;sql/engine/expr/ob_expr_hello.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static  const  char* SAY_HELLO = &quot;Hello OceanBase!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    namespace  oceanbase {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    using  namespace  common;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    namespace  sql {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ObExprHello::ObExprHello(ObIAllocator&amp; alloc) : ObStringExprOperator(alloc, T_FUN_SYS_HELLO, N_HELLO, 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ObExprHello::~ObExprHello()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int  ObExprHello::calc_result_type0(ObExprResType&amp;  type, ObExprTypeCtx&amp;  type_ctx) const</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UNUSED(type_ctx);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type.set_varchar();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type.set_length(static_cast&lt;common::ObLength&gt;(strlen(SAY_HELLO)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type.set_default_collation_type();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type.set_collation_level(CS_LEVEL_SYSCONST);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return  OB_SUCCESS;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int  ObExprHello::calc_result0(ObObj&amp;  result, ObExprCtx&amp;  expr_ctx) const</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UNUSED(expr_ctx);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      result.set_varchar(common::ObString(SAY_HELLO));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      result.set_collation(result_type_);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return  OB_SUCCESS;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int  ObExprHello::eval_hello(const  ObExpr&amp;  expr, ObEvalCtx&amp;  ctx, ObDatum&amp;  expr_datum)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UNUSED(expr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UNUSED(ctx);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      expr_datum.set_string(common::ObString(SAY_HELLO));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return  OB_SUCCESS;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int  ObExprHello::cg_expr(ObExprCGCtx&amp;  op_cg_ctx, const  ObRawExpr&amp;  raw_expr, ObExpr&amp;  rt_expr) const</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UNUSED(raw_expr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      UNUSED(op_cg_ctx);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      rt_expr.eval_func_ = ObExprHello::eval_hello;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return  OB_SUCCESS;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }  // namespace sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }  // namespace oceanbase</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-modify-or-add-the-function-name-definition">2. Modify or add the function name definition<a class="hash-link" aria-label="Direct link to 2. Modify or add the function name definition" title="Direct link to 2. Modify or add the function name definition" href="/blog/hello-oceanbase#2-modify-or-add-the-function-name-definition">​</a></h3>
<ul>
<li>ob_name_def.h</li>
</ul>
<p>The function name is registered here and can be used for syntax parsing.</p>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/889fe5d5-bcc4-49ee-90c2-65c8d5a8e0d7/image/2022-03-04/0736c95b-c1be-4e3d-984b-2422fd3dee7f.png" alt="" class="img_ev3q"><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/d03c52a3-a866-4f3d-bac7-ac5201428edc/image/2022-03-04/606b6b77-f22a-4b38-9515-3c9cf03a3ffb.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-modify-the-factory-class">3. Modify the factory class<a class="hash-link" aria-label="Direct link to 3. Modify the factory class" title="Direct link to 3. Modify the factory class" href="/blog/hello-oceanbase#3-modify-the-factory-class">​</a></h3>
<p>ob_expr_operator_factory.cpp</p>
<p>The function pointer is registered at this step, and will be used for calling the specific built-in function at runtime.</p>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/f07b83a3-4d9e-4169-bd6c-620e9a1b02b8/image/2022-03-04/d67d1e07-8e82-4169-b400-19f30d813d19.png" alt="" class="img_ev3q"></p>
<ul>
<li>Register a built-in function</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/e544598d-cb7d-4b8d-ae8a-85fa04f802c8/image/2022-03-04/bb53c1e7-27f7-4370-a7cc-619241c945b2.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-add-ids">4. Add IDs<a class="hash-link" aria-label="Direct link to 4. Add IDs" title="Direct link to 4. Add IDs" href="/blog/hello-oceanbase#4-add-ids">​</a></h3>
<ul>
<li>ob_item_type.h</li>
</ul>
<p>You can take an ID as a key that points to the function pointer.</p>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/597a87f1-1998-41f0-8c5d-29a818026d92/image/2022-03-04/8223570b-4af3-438d-a533-e20eec745e17.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-modify-project-files">5. Modify project files<a class="hash-link" aria-label="Direct link to 5. Modify project files" title="Direct link to 5. Modify project files" href="/blog/hello-oceanbase#5-modify-project-files">​</a></h3>
<ul>
<li>CMakeLists.txt</li>
</ul>
<p>Add the new ObExprHello function to the project for compilation.</p>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/7128397f-fcd9-4320-bcb7-982fe9b80a12/image/2022-03-04/458ceecc-d9ba-4fdd-a7ad-c00b89f39935.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-ob_expr_hellocpp">6. ob_expr_hello.cpp<a class="hash-link" aria-label="Direct link to 6. ob_expr_hello.cpp" title="Direct link to 6. ob_expr_hello.cpp" href="/blog/hello-oceanbase#6-ob_expr_hellocpp">​</a></h3>
<h3><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/98290631-db52-4f32-bf1f-4b185907c9ac/image/2022-03-04/2ac97743-4494-4d81-ba5f-25dec9aabe2c.png" alt="" class="img_ev3q"></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-1"><a class="hash-link" aria-label="Direct link to -1" title="Direct link to -1" href="/blog/hello-oceanbase#-1">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7ob_expr_eval_functionscpp">7.ob_expr_eval_functions.cpp<a class="hash-link" aria-label="Direct link to 7.ob_expr_eval_functions.cpp" title="Direct link to 7.ob_expr_eval_functions.cpp" href="/blog/hello-oceanbase#7ob_expr_eval_functionscpp">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/b3d7d96d-7c46-445f-883d-473ecb068cd4/image/2022-03-04/d587de86-0571-42bc-8f1e-3081b47b6899.png" alt="" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compile-the-function">Compile the function<a class="hash-link" aria-label="Direct link to Compile the function" title="Direct link to Compile the function" href="/blog/hello-oceanbase#compile-the-function">​</a></h2>
<p>I&#x27;ll skip this part. Please read other posts about how to compile the OceanBase source code for details.</p>
<p>And by the way, I have found some compilation errors in the latest code and created a pull request on GitHub, which has been accepted but not yet been merged.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="verify-the-function">Verify the function<a class="hash-link" aria-label="Direct link to Verify the function" title="Direct link to Verify the function" href="/blog/hello-oceanbase#verify-the-function">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-replace-the-observer-process">1. Replace the observer process<a class="hash-link" aria-label="Direct link to 1. Replace the observer process" title="Direct link to 1. Replace the observer process" href="/blog/hello-oceanbase#1-replace-the-observer-process">​</a></h3>
<p>Create a soft connection to points the observer process in the <code>/root/observer/bin</code> directory to the observer process in the <code>/root/.obd/repository/oceanbase-ce/3.1.2/7fafba0fac1e90cbd1b5b7ae5fa129b64dc63aed/bin</code> directory.</p>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/83dba035-7b05-49c2-828e-0da3bd8c0f8c/image/2022-03-04/d8015f5f-b55c-4bee-bfe1-e16bad69b2ec.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-start-the-observer-process">2. Start the observer process<a class="hash-link" aria-label="Direct link to 2. Start the observer process" title="Direct link to 2. Start the observer process" href="/blog/hello-oceanbase#2-start-the-observer-process">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/9d017a42-5261-4e8a-84e8-e578707c3c41/image/2022-03-04/8de93958-9c77-4932-ac53-55f2389d153f.png" alt="" class="img_ev3q"></p>
<p>You may notice that the version is 3.1.3, which is not released yet. We got that result because the latest code was used.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-the-function">Test the function<a class="hash-link" aria-label="Direct link to Test the function" title="Direct link to Test the function" href="/blog/hello-oceanbase#test-the-function">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://gw.alipayobjects.com/zos/oceanbase/57787d55-ce12-4960-8e87-f39478f97f68/image/2022-03-04/60705b08-75e1-477b-bf21-5d07bd7902ef.png" alt="" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="suggestions">Suggestions<a class="hash-link" aria-label="Direct link to Suggestions" title="Direct link to Suggestions" href="/blog/hello-oceanbase#suggestions">​</a></h3>
<p>In the past few months, I have been researching home-grown databases, such as OceanBase Database, TiDB, openGauss, MogDB, and Dameng. They are capable of online transaction processing (OLTP), online analytical processing (OLAP), or hybrid transaction/analytical processing (HTAP). I am not bold enough to compare them as a layman, but as a user, I would like to bring up a few points based on my experience with OceanBase Database.</p>
<p>It took me some time to build the environment, which is acceptable because, after all, it is a distributed system. However, it would be great if users are provided with a tool to quickly build a demo cluster, like the playground of TiDB.</p>
<p>The system is resource-consuming. Users with small-specification devices may suffer deployment failures due to resource insufficiency. They will be grateful if small-specification deployment is supported.</p>
<p>Maybe OceanBase Database can consider supporting user-defined extension interfaces? Some may think that is not a necessary feature, but it is quite useful in some enterprise-level applications, and wins OceanBase a point or two when comparing it to Oracle.</p>
<p>OceanBase Database Enterprise Edition can support more driver APIs for Oracle tenants. For more information, see &quot;Use JDBC to connect to OceanBase Database through JayDeBeApi in Python&quot;.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="afterword">Afterword<a class="hash-link" aria-label="Direct link to Afterword" title="Direct link to Afterword" href="/blog/hello-oceanbase#afterword">​</a></h2>
<p>Most of posts in the community are intended for database administrators, focusing on deployment, migration, application, performance, and O&amp;M. This one may not attract a large audience. However, I hope it can encourage more better content on the secondary development of open source databases.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/oceanbase/oceanbase.github.io/tree/main/blog/blog/misc-hello-oceanbase.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/flink-and-ob"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Flink CDC + OceanBase integration solution for full and incremental synchronization</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/obcloud"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">How OB Cloud Achieves Cost Reduction and Efficiency Improvement in Replacing MySQL Scenarios ？</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#an-oceanbase-cluster">An OceanBase cluster</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#oceanbase-source-code">OceanBase source code</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#register-a-built-in-function">Register a built-in function</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#diagram-of-the-expr-class">Diagram of the expr class</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#develop-hello-oceanbase">Develop Hello OceanBase</a><ul><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#1-create-the-obexprhello-class">1. Create the ObExprHello class</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#2-modify-or-add-the-function-name-definition">2. Modify or add the function name definition</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#3-modify-the-factory-class">3. Modify the factory class</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#4-add-ids">4. Add IDs</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#5-modify-project-files">5. Modify project files</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#6-ob_expr_hellocpp">6. ob_expr_hello.cpp</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#7ob_expr_eval_functionscpp">7.ob_expr_eval_functions.cpp</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#compile-the-function">Compile the function</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#verify-the-function">Verify the function</a><ul><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#1-replace-the-observer-process">1. Replace the observer process</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#2-start-the-observer-process">2. Start the observer process</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#test-the-function">Test the function</a><ul><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#suggestions">Suggestions</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/blog/hello-oceanbase#afterword">Afterword</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="http://github.com/oceanbase/oceanbase/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussion<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/oceanbase/shared_invite/zt-1e25oz3ol-lJ6YNqPHaKwY_mhhioyEuw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/oceanbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ask.oceanbase.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum (in Chinese)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">SIG</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/sig/AI/sig_intro">AI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/cloud-native/sig_intro">cloud-native</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/develop-tools/sig_intro">develop-tools</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/miniob/sig_intro">MiniOB</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/obdiag/sig_intro">obdiag</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sig/operation/sig_intro">operation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://en.oceanbase.com/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About OceanBase<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/oceanbase/oceanbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 OceanBase, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>