"use strict";(self.webpackChunkmy_docs_website=self.webpackChunkmy_docs_website||[]).push([[7167],{22254:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var s=t(74848),a=t(28453);const i={title:"SQL Performance Diagnostics and Tuning",weight:5},r=void 0,o={id:"user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/performance_tuning",title:"SQL Performance Diagnostics and Tuning",description:'SQL performance diagnostics and tuning are the most frequently mentioned requirements when collecting user suggestions on the OceanBase Advanced Tutorial for DBAs ("Advanced Tutorial" for short).',source:"@site/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/05_performance_tuning.md",sourceDirName:"user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap",slug:"/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/performance_tuning",permalink:"/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/performance_tuning",draft:!1,unlisted:!1,editUrl:"https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/05_performance_tuning.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"SQL Performance Diagnostics and Tuning",weight:5},sidebar:"operation_and_maintenanceEnglishSidebar",previous:{title:"HTAP System Architecture Design",permalink:"/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/htap_best_practices"},next:{title:"Others",permalink:"/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/others"}},c={},l=[{value:"&quot;SQL Tuning Practices&quot; Topic (Under Planning)",id:"sql-tuning-practices-topic-under-planning",level:2},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["SQL performance diagnostics and tuning are the most frequently mentioned requirements when collecting user suggestions on the ",(0,s.jsx)(n.strong,{children:"OceanBase Advanced Tutorial for DBAs"}),' ("',(0,s.jsx)(n.strong,{children:"Advanced Tutorial"}),'" for short).']}),"\n",(0,s.jsxs)(n.p,{children:["However, when we answered users' questions about SQL tuning in the Q&A section of the OceanBase community forum, we found that most issues can be easily solved by creating a suitable index and few SQL performance tuning issues cannot be solved based on Chapter 7 of the ",(0,s.jsx)(n.strong,{children:"OceanBase Quick Starts for DBAs"}),' ("',(0,s.jsx)(n.strong,{children:"Quick Starts"}),'" for short).']}),"\n",(0,s.jsxs)(n.p,{children:["We have prepared the complete study notes of ",(0,s.jsx)(n.a,{href:"https://oceanbase.github.io/docs/user_manual/quick_starts/en-US/chapter_01_overview_of_the_oceanbase_database/overview",children:"OceanBase Quick Starts for DBAs"}),". Therefore, we strongly recommend that you read through ",(0,s.jsx)(n.a,{href:"https://oceanbase.github.io/docs/user_manual/quick_starts/en-US/chapter_07_diagnosis_and_tuning/introduction",children:"Chapter 7"})," of the ",(0,s.jsx)(n.strong,{children:"Quick Starts"}),"."]}),"\n",(0,s.jsx)(n.p,{children:'The "Background Knowledge of the SQL Engine" topic has described the following knowledge about SQL performance diagnostics and tuning:'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Statistics and plan cache"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Execution plan reading and management"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Common SQL tuning methods"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Typical scenarios and general troubleshooting logic for SQL performance issues"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Tools for analyzing SQL performance issues"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["All of the above content is available in Chapter 7 of the ",(0,s.jsx)(n.strong,{children:"Quick Starts"})," (or you can learn only the above content). If you really do not have the patience to read through Chapter 7, we recommend that you read the three sections framed in red in the following figure."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"image.png",src:t(7772).A+"",width:"3398",height:"1974"})}),"\n",(0,s.jsx)(n.p,{children:"If you still do not have the patience to read these three sections, we recommend that you read the paragraphs framed in red of the following two sections on the right side of the following figures. This can eliminate your overhead in asking questions in the Q&A section of the OceanBase community forum during SQL performance analysis."}),"\n",(0,s.jsx)(n.p,{children:'"Common SQL tuning methods" section: Statistics, Plan cache, and Index tuning'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"image.png",src:t(8407).A+"",width:"3406",height:"1942"})}),"\n",(0,s.jsx)(n.p,{children:'"Typical scenarios and troubleshooting logic for SQL performance issues" section'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"image.png",src:t(65390).A+"",width:"3392",height:"1972"})}),"\n",(0,s.jsx)(n.h2,{id:"sql-tuning-practices-topic-under-planning",children:'"SQL Tuning Practices" Topic (Under Planning)'}),"\n",(0,s.jsxs)(n.p,{children:["For the time being, we are not going to add any new tutorial-oriented content related to SQL tuning methods in the ",(0,s.jsx)(n.strong,{children:"Advanced Tutorial"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["However, as I mentioned in Chapter 7 of the ",(0,s.jsx)(n.strong,{children:"Quick Starts"}),': "You are not likely to become an expert in SQL performance analysis simply by reading them. You must also gradually accumulate experience in extensive practices."']}),"\n",(0,s.jsxs)(n.p,{children:['Therefore, Xuyu, an expert in SQL tuning, and I will record and summarize some typical SQL tuning issues posted in the OceanBase community forum, and share these issues with you in the "SQL Tuning Practices" topic under the ',(0,s.jsx)(n.a,{href:"https://ask.oceanbase.com/c/well-chosen/75",children:"Well-chosen"})," section on the OceanBase community forum."]}),"\n",(0,s.jsxs)(n.p,{children:["Example: ",(0,s.jsx)(n.a,{href:"https://ask.oceanbase.com/t/topic/35613940",children:"SQL Tuning Practices: Index Failure Caused by Collation"})]}),"\n",(0,s.jsx)(n.p,{children:'In this "SQL Tuning Practices" topic, we will gradually introduce typical SQL tuning practices based on actual problems encountered by users, including:'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Failure to make full use of indexes"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Exceptions caused by poor join methods in plans"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Exceptions caused by poor shuffle methods in plans"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Exceptions caused by poor order methods in plans"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Exceptions caused by partition data skew"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Others"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"More information is to be supplemented by Xuyu and I."}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://ask.oceanbase.com/c/well-chosen/75",children:"Well-chosen"})," section on the OceanBase community forum"]}),"\n",(0,s.jsxs)(n.p,{children:["Complete study notes of ",(0,s.jsx)(n.a,{href:"https://oceanbase.github.io/docs/user_manual/quick_starts/en-US/chapter_01_overview_of_the_oceanbase_database/overview",children:"OceanBase Quick Starts for DBAs"})]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},7772:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/001-8bac1015f87fb55795db884071773036.png"},8407:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/002-adfbce93d213a27a8805e34f5ea28058.png"},65390:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/003-0a1d3aaa6114607b396424b89cf92bd2.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var s=t(96540);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);