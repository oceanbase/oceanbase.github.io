"use strict";(self.webpackChunkmy_docs_website=self.webpackChunkmy_docs_website||[]).push([[991],{52220:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>o,default:()=>l,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var t=n(74848),i=n(28453);const s={slug:"baicizhan-cto",title:"Core Learning Record Database of Baicizhan Migrated to the Cloud Within Five Month, Saving 80% of Storage Space",tags:["User Case"]},o="Core Learning Record Database of Baicizhan Migrated to the Cloud Within Five Month, Saving 80% of Storage Space",r={id:"blogs/users/baicizhan-cto",title:"Core Learning Record Database of Baicizhan Migrated to the Cloud Within Five Month, Saving 80% of Storage Space",description:"This article is a summary of Episode 14 of the DB Gurus Talks series.",source:"@site/docs/blogs/users/baicizhan-cto.md",sourceDirName:"blogs/users",slug:"/blogs/users/baicizhan-cto",permalink:"/docs/blogs/users/baicizhan-cto",draft:!1,unlisted:!1,editUrl:"https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/blogs/users/baicizhan-cto.md",tags:[{inline:!0,label:"User Case",permalink:"/docs/tags/user-case"}],version:"current",frontMatter:{slug:"baicizhan-cto",title:"Core Learning Record Database of Baicizhan Migrated to the Cloud Within Five Month, Saving 80% of Storage Space",tags:["User Case"]},sidebar:"blogsSidebar",previous:{title:"How Zuoyebang Leverages OceanBase Database for Business Success",permalink:"/docs/blogs/users/Zuoyebang"},next:{title:"BOSS Zhipin \u2014\u2014 How to save 70% storage cost through OceanBase with an archive database of 1 billion rows per day?",permalink:"/docs/blogs/users/boss-zhipin"}},d={},c=[{value:"<strong>1. Business Growth Putting Pressure on Scalability</strong>",id:"1-business-growth-putting-pressure-on-scalability",level:2},{value:"<strong>2. Thorough Testing for a Stable Migration</strong>",id:"2-thorough-testing-for-a-stable-migration",level:2},{value:"<strong>3. Immediate Cost Savings and Efficiency Gains</strong>",id:"3-immediate-cost-savings-and-efficiency-gains",level:2},{value:"<strong>4. Summary</strong>",id:"4-summary",level:2},{value:"<strong>Mark Your Calendar!</strong>",id:"mark-your-calendar",level:2}];function h(e){const a={a:"a",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"core-learning-record-database-of-baicizhan-migrated-to-the-cloud-within-five-month-saving-80-of-storage-space",children:"Core Learning Record Database of Baicizhan Migrated to the Cloud Within Five Month, Saving 80% of Storage Space"})}),"\n",(0,t.jsx)(a.p,{children:"This article is a summary of Episode 14 of the DB Gurus Talks series."}),"\n",(0,t.jsx)(a.p,{children:'Baicizhan is an illustrated English learning app designed to make building vocabulary fun for people of all ages and proficiency levels. In the 14th episode of DB Gurus Talks, Mr. Jing Mi, CTO of Chengdu Chaoyouai Technology Co., Ltd. ("Chaoyouai" for short), was invited to share his insights.'}),"\n",(0,t.jsx)(a.p,{children:"Jing is a seasoned technical expert with extensive experience in distributed architectures and databases. He worked with big tech companies like Baidu and Xunlei before joining Chaoyouai. Years of complex software development have shaped his meticulous approach to testing and verification, which he has carried into his current job."}),"\n",(0,t.jsx)(a.p,{children:"In this episode, Jing talked about how the careful selection, comprehensive testing, and thorough preparation ensured the smooth migration of a 30-node MySQL database to OceanBase Cloud."}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.img,{alt:"1728469648",src:n(75790).A+"",width:"1281",height:"961"})}),"\n",(0,t.jsx)(a.p,{children:"What's great about Baicizhan is that it uses image-based memorization techniques to make vocabulary building more engaging. The unique learning method has brought it the highest user activity over other foreign language learning apps."}),"\n",(0,t.jsx)(a.p,{children:"Released in 2012, Baicizhan has amassed over 200 million users. For an app with such a huge user base, ensuring smooth user experience is no small feat. Baicizhan must not only guarantee 24/7 accessibility but also track every user interaction, from vocabulary book selections to learning progress and reviews. All such data is stored in the core learning record database."}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"As the user base grew, the learning record database was expanded to 30 nodes"}),". By early 2024, the company decided to upgrade the database from MySQL to OceanBase Cloud, shrinking it to 3 nodes. This move not only saved 20% to 30% in costs but also eliminated the need for manual scaling, leading to a remarkable O&M efficiency boost and paving the way for further business innovation."]}),"\n",(0,t.jsx)(a.h2,{id:"1-business-growth-putting-pressure-on-scalability",children:(0,t.jsx)(a.strong,{children:"1. Business Growth Putting Pressure on Scalability"})}),"\n",(0,t.jsx)(a.p,{children:"Hosting the learning progress data of all users, the learning record database is the largest and one of the most important databases of Baicizhan. With the continuous influx of new users and the growing data volume, the company had to deploy more database nodes."}),"\n",(0,t.jsx)(a.p,{children:'"Baicizhan was born in 2011. Given its internet-based services, we adopted the mainstream technology stack of the time. MySQL was the go-to choice for most internet companies, so we chose it for our learning record database," said Jing.'}),"\n",(0,t.jsx)(a.p,{children:"Jing Mi is a tech veteran who has worked on software development and architecture design at companies like Baidu and Xunlei. He joined Baicizhan in 2021, leading its technical operations, from infrastructure setup to cloud service optimization, and exploration of new technologies like AI and multi-infrastructure."}),"\n",(0,t.jsx)(a.p,{children:'"We had to add database nodes one after another as the data volume grew. In the past two years, with the rise of e-learning, our core business grew rapidly, requiring 3 or 4 new nodes each year," he added.'}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Baicizhan deployed its system on a public cloud, using the RDS for MySQL database service provided by the cloud vendor. The maximum storage capacity of a node was around 3 TB. When the data volume exceeded the capacity, it had to scale out the system"}),", which was quite straightforward for data of new users\u2014simply routing it to new nodes. However, scaling was complicated for data of existing users, as it required re-sharding the archive data, a task that was done manually by database administrators (DBAs) based on their experience. Over time, more nodes were deployed, making that approach increasingly challenging."]}),"\n",(0,t.jsx)(a.p,{children:"First, ensuring the smooth operation of so many nodes without downtime was really hard. Despite robust cloud infrastructure, hardware or software issues could cause nodes to fail, disrupting business operations and putting immense pressure on system maintenance, disaster recovery, and backup."}),"\n",(0,t.jsx)(a.p,{children:"Second, manual sharding incurred high labor costs. For example, DBAs must monitor which nodes were nearing their limits and quickly re-shard data before the nodes ran out of resources. This increased not only O&M costs, but also development costs, because developers must know which node stored the data required by the query."}),"\n",(0,t.jsx)(a.p,{children:"Third, from a technical perspective, a true distributed solution would not require manually distributing data."}),"\n",(0,t.jsx)(a.p,{children:'"Manual data distribution often leads to uneven node loads. For instance, new nodes typically handle data of new or highly active users, running under high loads. However, manual optimizations could hardly achieve dynamic load balancing, leading to uneven loads across nodes," explained Jing.'}),"\n",(0,t.jsx)(a.p,{children:"Furthermore, the large number of standalone RDS instances required numerous data transmission service (DTS) connections for data synchronization with the big data platform, resulting in complex O&M and high costs."}),"\n",(0,t.jsx)(a.h2,{id:"2-thorough-testing-for-a-stable-migration",children:(0,t.jsx)(a.strong,{children:"2. Thorough Testing for a Stable Migration"})}),"\n",(0,t.jsx)(a.p,{children:"In July 2023, overwhelmed by the O&M pressure, Baicizhan decided to make a change. Jing Mi believed that adopting a distributed database would be an effective solution to move away from manual data distribution. During his time at Baidu, Jing participated in the development of a distributed database, now the open source Apache Doris. His deep expertise in distributed database technology made it clear that Baicizhan needed a reliable distributed database."}),"\n",(0,t.jsx)(a.p,{children:"Jing revealed that the company had considered replacing the database during the online education boom a couple of years ago. However, the rapid business growth compelled them to handle more imperative tasks."}),"\n",(0,t.jsx)(a.p,{children:"With many distributed database vendors in the market, choosing the right one was not easy. Baicizhan spent nearly two months on market research and product verification, engaging with several vendors before tentatively selecting OceanBase Cloud."}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.strong,{children:'"We chose OceanBase Cloud because it perfectly fits our needs. For example, its high data compression ratio and computing capabilities are well-suited to our applications. Plus, we can easily find many success stories that prove its benefits," said Jing.'})}),"\n",(0,t.jsx)(a.p,{children:"Another key factor in the decision was that the OceanBase team was highly cooperative and supportive during product verification, which made the communication smooth and efficient."}),"\n",(0,t.jsx)(a.p,{children:"Baicizhan did not immediately start the migration. Instead, they spent nearly three months testing OceanBase Cloud before finalizing the selection. Jing emphasized that the testing was comprehensive, with test data reaching 1/10 of their total data volume to simulate real-world scenarios."}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.strong,{children:'"We set up a three-node cluster and tested its performance with terabytes of data in various scenarios, such as bulk writes, bulk reads, and fault recovery. For example, we simulated extreme conditions like shutting down a node or network interruptions to observe the results," said Jing.'})}),"\n",(0,t.jsx)(a.p,{children:"The testing also covered computing capabilities, APIs, and usability of the database. The thorough testing paid off as the actual migration process went smoothly. Starting in January 2024, Baicizhan migrated two nodes every two weeks, and then gradually increased the pace and completed the migration by the end of June."}),"\n",(0,t.jsx)(a.p,{children:'"The migration process went smoothly, thanks to our exhaustive preparations and simulations. We also took the opportunity to streamline the codebase, which has been in use for over a decade," explained Jing.'}),"\n",(0,t.jsx)(a.h2,{id:"3-immediate-cost-savings-and-efficiency-gains",children:(0,t.jsx)(a.strong,{children:"3. Immediate Cost Savings and Efficiency Gains"})}),"\n",(0,t.jsx)(a.p,{children:"Running the learning record database on OceanBase Cloud, the benefits are remarkable."}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Streamlined architecture"}),'. The new architecture consists of only 3 nodes instead of 30, and the data storage space required is reduced substantially. "OceanBase Cloud provides a high compression ratio. The data now occupies less than 1/5 of the original storage space," Jing noted.']}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Lower costs"}),". With fewer nodes, database costs are slashed by 20-30%, even with considerable redundancy of computing and storage resources."]}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Relieved workload"}),". DBAs no longer need to watch database metrics closely and hurry to scale the database as the resource usage approaches thresholds. When scaling the previous database system, DBAs must manually distribute data across nodes, which requires deep understanding of the business logic and extensive experience. Now, OceanBase Cloud automatically handles data sharding, leading to a significant improvement in O&M efficiency."]}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.strong,{children:"Higher scalability. Storage space is no longer decided by the computing resource specification. Unlike an RDS for MySQL database with 30 CPU cores, an OceanBase cluster with the same core count can store up to 200 TB of data."})}),"\n",(0,t.jsx)(a.p,{children:"Jing noted that the successful migration of the learning record database has facilitated their understanding of OceanBase Database and they have gained valuable experience for future database migrations. In fact, the company is now evaluating the feasibility of migrating other business databases, and OceanBase Database has become their top choice for new business designs."}),"\n",(0,t.jsx)(a.h2,{id:"4-summary",children:(0,t.jsx)(a.strong,{children:"4. Summary"})}),"\n",(0,t.jsx)(a.p,{children:"Currently, Baicizhan is exploring more features of OceanBase Cloud, such as AI and hybrid transaction and analytical processing (HTAP) capabilities, aiming to further empower its business. Freed from laborious O&M of conventional databases, DBAs are able to invest more time and energy in the explorations."}),"\n",(0,t.jsx)(a.p,{children:'"Today, our business teams are expecting more from databases. DBAs should shift their focus toward business needs, and participate in data and system architecture design and data governance. By understanding the company\u2019s strategies, DBAs can contribute to data planning, broaden their career prospects and enhance their competitiveness," Jing concluded.'}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h2,{id:"mark-your-calendar",children:(0,t.jsx)(a.strong,{children:"Mark Your Calendar!"})}),"\n",(0,t.jsxs)(a.p,{children:["The ",(0,t.jsx)(a.a,{href:"https://oceanbaseweb-pre.oceanbase.com/conference2024?activityCode=4923042&officerId=3881",children:"2024 OceanBase Annual Conference"})," will be open on October 23 at the Hyatt Regency Beijing Wangjing. Mr. Jing Mi, CTO of Baicizhan, will be there to share the best practices of OceanBase Cloud in Baicizhan's system. ",(0,t.jsx)(a.a,{href:"https://oceanbaseweb-pre.oceanbase.com/conference2024?activityCode=4923042&officerId=3881",children:"Sign up now"})," to join the event!"]})]})}function l(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},75790:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/1728469646994-f3da968c625522c28aba52b66c89056b.png"},28453:(e,a,n)=>{n.d(a,{R:()=>o,x:()=>r});var t=n(96540);const i={},s=t.createContext(i);function o(e){const a=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:a},e.children)}}}]);