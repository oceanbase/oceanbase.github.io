"use strict";(self.webpackChunkmy_docs_website=self.webpackChunkmy_docs_website||[]).push([[8701],{51909:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var s=t(74848),n=t(28453);const o={title:"Integrated SQL Engine in OceanBase Database",slug:"integrated-sql-engine"},r="Serial execution, parallel execution on a standalone server, and distributed parallel execution",i={id:"blogs/showcases/sql-engine",title:"Integrated SQL Engine in OceanBase Database",description:"oceanbase database",source:"@site/docs/blogs/showcases/sql-engine.md",sourceDirName:"blogs/showcases",slug:"/blogs/showcases/integrated-sql-engine",permalink:"/docs/blogs/showcases/integrated-sql-engine",draft:!1,unlisted:!1,editUrl:"https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/blogs/showcases/sql-engine.md",tags:[],version:"current",frontMatter:{title:"Integrated SQL Engine in OceanBase Database",slug:"integrated-sql-engine"},sidebar:"blogsSidebar",previous:{title:"Integrated Architecture of OceanBase Database",permalink:"/docs/blogs/showcases/integrated-architecture"},next:{title:"Implementing a Vectorized Engine in a Distributed Database",permalink:"/docs/blogs/showcases/vectorized-engine"}},c={},l=[];function d(e){const a={a:"a",em:"em",h1:"h1",header:"header",img:"img",p:"p",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{src:"https://obportal.s3.ap-southeast-1.amazonaws.com/obc-blog/img/d105da79260f4d6a8a03571e4a2b17091682301944833.jpg",alt:"oceanbase database"})}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.em,{children:"Yang Zhifeng, OceanBase\u2019s Chief Architect, lately introduced the evolution of the technical architecture of OceanBase Database from V0.5 to V4.0 and shared his thoughts along the journey. This article is only part of his sharing. Since the content of the sharing is so extensive, we will divide it into the following articles:"})}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.em,{children:"\u2012"})," ",(0,s.jsx)(a.a,{href:"https://medium.com/@oceanbase/the-architectural-evolution-of-oceanbase-database-9ab70506fc15",children:(0,s.jsx)(a.em,{children:"The architectural evolution of OceanBase Database"})})]}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.em,{children:"\u2012"})," ",(0,s.jsx)(a.a,{href:"https://medium.com/@oceanbase/integrated-architecture-of-oceanbase-database-615dcf707f38",children:(0,s.jsx)(a.em,{children:"What is the integrated architecture of OceanBase Database?"})})]}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.em,{children:"\u2012 SQL engine and transaction processing in the integrated architecture of OceanBase Database"})}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.em,{children:"\u2012 Performance of OceanBase Database in standalone mode: a performance comparison with MySQL 8.0"})}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.em,{children:"This article introduces the SQL engine and transaction processing in the integrated architecture of the OceanBase database."})}),"\n",(0,s.jsx)(a.p,{children:"We have designed the SQL execution engine of OceanBase Database based on many scenarios. Because we want it to be adaptive and provide the best performance in each scenario."}),"\n",(0,s.jsx)(a.p,{children:"Generally speaking, each SQL statement can be executed in serial or parallel mode."}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{src:"https://obportal.s3.ap-southeast-1.amazonaws.com/obc-blog/img/d105da79260f4d6a8a03571e4a2b17091682302044156.jpg",alt:"oceanbase database"})}),"\n",(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"serial-execution-parallel-execution-on-a-standalone-server-and-distributed-parallel-execution",children:"Serial execution, parallel execution on a standalone server, and distributed parallel execution"})}),"\n",(0,s.jsx)(a.p,{children:"In serial execution, if the table or partition involved is located on the local server, the execution process is exactly the same as that of an SQL statement on a local or standalone server. If the required data is stored on another server, OceanBase Database either fetches the remote data and processes it on the local server or performs remote execution. In remote execution, if all data required in a transaction is located on another server, OceanBase Database forwards the transaction to that server, which will access the storage, process the data, commit the transaction, and then return the results. If the data required in an SQL statement is located on many servers, to consume the minimal overhead comparable to serial execution on a standalone server, OceanBase Database performs distributed execution, pushes the computing tasks to each server for local processing, and then aggregates the results. This way, the degree of parallelism (DOP) is 1, and no extra resources are consumed. In the case of parallel execution, OceanBase Database supports parallel execution on a standalone server, distributed parallel execution, and parallel DML write."}),"\n",(0,s.jsx)(a.p,{children:"As mentioned above, serial execution consumes minimal overhead. In this case, OceanBase Database performs serial scans on a single server without context switchover or remote data access, which is highly efficient. For a small business, serial execution is sufficient to meet the requirements. If you need to process a large amount of data, OceanBase Database also supports parallel execution on a standalone server. This capability is not supported by many open-source standalone databases. With enough CPUs, OceanBase Database can linearly shorten the processing time of an SQL statement by performing parallel execution. You only need to deploy OceanBase Database on a high-performance multiprocessor server and enable parallel execution."}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{src:"https://obportal.s3.ap-southeast-1.amazonaws.com/obc-blog/img/d105da79260f4d6a8a03571e4a2b17091682302118057.jpg",alt:"oceanbase database"})}),"\n",(0,s.jsx)(a.p,{children:"OceanBase Database supports the parallel execution of distributed execution plans on multiple servers. This means that the DOP will no longer depend on the number of CPU cores of a standalone server. Hundreds or even thousands of CPU cores can be added to support a higher DOP."}),"\n",(0,s.jsx)(a.h1,{id:"serial-execution-das-execution-and-distributed-execution",children:"Serial execution: DAS execution and distributed execution"}),"\n",(0,s.jsx)(a.p,{children:"DAS execution and distributed execution are two types of serial execution supported in the OceanBase Database."}),"\n",(0,s.jsx)(a.p,{children:"Data pull is a way to perform DAS execution with minimal resource consumption. If the required data is located on another server and only single-point query or table access by the index primary key is involved, OceanBase Database will pull the required data to the local server. The execution plan has the form of a local execution plan. The executor will automatically pull data. Sometimes, however, it is better to push down the computing tasks. Therefore, OceanBase Database also supports distributed execution. Note that distributed execution does not consume extra resources, and is performed with the same DOP as DAS execution."}),"\n",(0,s.jsx)(a.p,{children:"For some special queries or large-scale scans, OceanBase Database will adaptively select the execution mode based on the cost to achieve the best results."}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{src:"https://obportal.s3.ap-southeast-1.amazonaws.com/obc-blog/img/d105da79260f4d6a8a03571e4a2b17091682302163423.jpg",alt:"oceanbase database"})}),"\n",(0,s.jsx)(a.p,{children:"The parallel execution framework of OceanBase Database adaptively handles both parallel executions on a standalone server and distributed parallel execution. Parallel execution can be performed by worker threads on the local server or many different servers. OceanBase Database has an adaptive data transmission layer in its distributed execution framework. In the case of parallel execution on a standalone server, the data transmission layer automatically converts the data interactions between the threads into replicas stored in the memory. In this way, the data transmission layer makes it possible to adaptively handle tasks in two different scenarios. In fact, the parallel execution engine schedules tasks for parallel execution on a standalone server and distributed parallel execution in the exact same way."}),"\n",(0,s.jsx)(a.p,{children:"In the next articles, you will learn more details about transaction processing in OceanBase. Stay tuned!"})]})}function h(e={}){const{wrapper:a}={...(0,n.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,a,t)=>{t.d(a,{R:()=>r,x:()=>i});var s=t(96540);const n={},o=s.createContext(n);function r(e){const a=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(o.Provider,{value:a},e.children)}}}]);