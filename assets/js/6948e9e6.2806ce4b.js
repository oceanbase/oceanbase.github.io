"use strict";(self.webpackChunkmy_docs_website=self.webpackChunkmy_docs_website||[]).push([[4823],{83116:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>a});var o=n(74848),r=n(28453);const t={title:"\u8fde\u63a5\u7ba1\u7406",weight:16},c="\u8fde\u63a5\u7ba1\u7406",i={id:"user_manual/user_best_practices/operation_maintenance/connection_management",title:"\u8fde\u63a5\u7ba1\u7406",description:"\u8fde\u63a5 OceanBase \u96c6\u7fa4\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a",source:"@site/docs/user_manual/user_best_practices/operation_maintenance/connection_management.md",sourceDirName:"user_manual/user_best_practices/operation_maintenance",slug:"/user_manual/user_best_practices/operation_maintenance/connection_management",permalink:"/docs/user_manual/user_best_practices/operation_maintenance/connection_management",draft:!1,unlisted:!1,editUrl:"https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/user_manual/user_best_practices/operation_maintenance/connection_management.md",tags:[],version:"current",frontMatter:{title:"\u8fde\u63a5\u7ba1\u7406",weight:16},sidebar:"legacySidebar",previous:{title:"\u8fde\u63a5\u79df\u6237",permalink:"/docs/user_manual/user_best_practices/operation_maintenance/connect_tanent"},next:{title:"\u5b89\u88c5\u76ee\u5f55\u7ed3\u6784",permalink:"/docs/user_manual/user_best_practices/operation_maintenance/dic_struct"}},l={},a=[{value:"<strong>OBProxy \u8fde\u63a5\u539f\u7406</strong>",id:"obproxy-\u8fde\u63a5\u539f\u7406",level:2},{value:"<strong>\u5982\u4f55\u7ba1\u7406\u8fde\u63a5</strong>",id:"\u5982\u4f55\u7ba1\u7406\u8fde\u63a5",level:2},{value:"<strong>\u76f4\u8fde OBProxy \u7ba1\u7406\u8fde\u63a5</strong>",id:"\u76f4\u8fde-obproxy-\u7ba1\u7406\u8fde\u63a5",level:3},{value:"<strong>\u901a\u8fc7 OBProxy \u8fde\u63a5 OceanBase \u96c6\u7fa4\u7ba1\u7406\u8fde\u63a5</strong>",id:"\u901a\u8fc7-obproxy-\u8fde\u63a5-oceanbase-\u96c6\u7fa4\u7ba1\u7406\u8fde\u63a5",level:3},{value:"<strong>\u76f4\u8fde OBServer \u7ba1\u7406\u8fde\u63a5</strong>",id:"\u76f4\u8fde-observer-\u7ba1\u7406\u8fde\u63a5",level:3},{value:"<strong>\u89c6\u56fe __all_virtual_processlist</strong>",id:"\u89c6\u56fe-__all_virtual_processlist",level:2},{value:"<strong>\u5206\u6790\u8fde\u63a5\u7684\u4e8b\u52a1\u8d85\u65f6\u95ee\u9898</strong>",id:"\u5206\u6790\u8fde\u63a5\u7684\u4e8b\u52a1\u8d85\u65f6\u95ee\u9898",level:2},{value:"<strong>\u4e8b\u52a1\u7a7a\u95f2\u8d85\u65f6</strong>",id:"\u4e8b\u52a1\u7a7a\u95f2\u8d85\u65f6",level:3},{value:"<strong>\u4e8b\u52a1\u672a\u63d0\u4ea4\u8d85\u65f6</strong>",id:"\u4e8b\u52a1\u672a\u63d0\u4ea4\u8d85\u65f6",level:3}];function x(s){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...s.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"\u8fde\u63a5\u7ba1\u7406",children:(0,o.jsx)(e.strong,{children:"\u8fde\u63a5\u7ba1\u7406"})})}),"\n",(0,o.jsx)(e.p,{children:"\u8fde\u63a5 OceanBase \u96c6\u7fa4\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"\u76f4\u8fde OceanBase \u96c6\u7fa4\u8282\u70b9\u3002\u4efb\u610f\u4e00\u4e2a OBServer \u8282\u70b9\uff0c\u53ea\u8981\u6ca1\u6709\u8131\u79bb\u96c6\u7fa4\uff08\u6389\u7ebf\uff09\uff0c\u90fd\u53ef\u4ee5\u7528\u6765\u8fde\u63a5 OceanBase \u96c6\u7fa4\u3002\u4e1a\u52a1\u8fde\u63a5 OceanBase \u96c6\u7fa4\u4e0d\u9002\u5408\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u56e0\u4e3a\u8282\u70b9\u6bd4\u8f83\u591a\uff0c\u4e14\u53ef\u80fd\u4f1a\u53d8\u5316\u3002"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"\u901a\u8fc7 OBProxy \u8fde\u63a5 OceanBase \u96c6\u7fa4\u3002OBProxy \u548c OceanBase \u96c6\u7fa4\u4fdd\u6301\u8054\u7cfb\uff0c\u80fd\u611f\u77e5\u96c6\u7fa4\u8282\u70b9\u72b6\u6001\u53d8\u5316\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a OBProxy \u8fde\u63a5 OceanBase \u96c6\u7fa4\u3002OBProxy \u4e4b\u95f4\u5f7c\u6b64\u72ec\u7acb\u5de5\u4f5c\uff0c\u4e92\u4e0d\u5f71\u54cd\u3002"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"obproxy-\u8fde\u63a5\u539f\u7406",children:(0,o.jsx)(e.strong,{children:"OBProxy \u8fde\u63a5\u539f\u7406"})}),"\n",(0,o.jsx)(e.p,{children:"OBProxy \u662f\u4e2a\u5355\u8fdb\u7a0b\u7a0b\u5e8f\uff0c\u9ed8\u8ba4\u76d1\u542c\u7aef\u53e3 2883\uff0c\u5b9e\u73b0\u4e86 MySQL \u8fde\u63a5\u534f\u8bae\u3002\u5ba2\u6237\u7aef\u548c OBProxy \u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u8bbf\u95ee OceanBase \u96c6\u7fa4\u6570\u636e\u65f6\uff0cOBProxy \u4f1a\u81ea\u52a8\u5224\u65ad\u8981\u8bbf\u95ee\u7684\u6570\u636e\u7684\u4e3b\u526f\u672c\u5728\u54ea\u4e2a OBServer \u8282\u70b9\u4e0a\uff0c\u7136\u540e\u81ea\u52a8\u548c\u8be5 OBServer \u5efa\u7acb\u4e00\u4e2a\u957f\u8fde\u63a5\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u901a\u5e38\u6211\u4eec\u628a\u5ba2\u6237\u7aef\u548c OBProxy \u5efa\u7acb\u7684\u8fde\u63a5\u79f0\u4e3a\u524d\u7aef\u8fde\u63a5\uff0c\u628a\u76f8\u5e94\u7684 OBProxy \u548c\u540e\u7aef OBServer \u8282\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u79f0\u4e4b\u4e3a\u540e\u7aef\u8fde\u63a5\u3002\u6bcf\u4e2a\u524d\u7aef\u8fde\u63a5\u53ef\u80fd\u5bf9\u5e94 1-N \u4e2a\u540e\u7aef\u8fde\u63a5\u3002N \u662f OceanBase \u79df\u6237\u6240\u5728\u7684\u8282\u70b9\u603b\u6570\uff08\u5305\u62ec\u5907\u526f\u672c\u6240\u5728 OBServer \u8282\u70b9\uff09\u3002\u4e0d\u540c\u524d\u7aef\u8fde\u63a5\u5bf9\u5e94\u7684\u540e\u7aef\u8fde\u63a5\u662f\u4e0d\u590d\u7528\u7684\u3002"}),"\n",(0,o.jsx)(e.p,{children:"OBProxy \u524d\u7aef\u8fde\u63a5\u6570\u53d7 OBProxy \u53c2\u6570 max_connections \u548c client_max_connections \u9650\u5236\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [(none)]> show proxyconfig like '%connection%';\n+-----------------------------------------+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+---------------+\n| name                                    | value | info                                                                                                                                                                                                   | need_reboot | visible_level |\n+-----------------------------------------+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+---------------+\n| max_connections                         | 60000 | max fd proxy could use                                                                                                                                                                                 | false       | SYS           |\n| client_max_connections                  | 8192  | client max connections for one obproxy, [0, 65535]                                                                                                                                                     | false       | USER          |\n| enable_client_connection_lru_disconnect | False | if client connections reach throttle, true is that new connection will be accepted, and eliminate lru client connection, false is that new connection will disconnect, and err packet will be returned | false       | SYS           |\n+-----------------------------------------+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------+---------------+\n3 rows in set (0.004 sec)\n\nMySQL [(none)]> alter proxyconfig set client_max_connections=20000;\nQuery OK, 0 rows affected (0.005 sec)\n"})}),"\n",(0,o.jsx)(e.h2,{id:"\u5982\u4f55\u7ba1\u7406\u8fde\u63a5",children:(0,o.jsx)(e.strong,{children:"\u5982\u4f55\u7ba1\u7406\u8fde\u63a5"})}),"\n",(0,o.jsx)(e.h3,{id:"\u76f4\u8fde-obproxy-\u7ba1\u7406\u8fde\u63a5",children:(0,o.jsx)(e.strong,{children:"\u76f4\u8fde OBProxy \u7ba1\u7406\u8fde\u63a5"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"\u67e5\u770b\u5e76\u76f4\u63a5 KILL \u524d\u7aef\u8fde\u63a5"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"show processlist;"})," \u547d\u4ee4\u53ea\u80fd\u67e5\u770b\u5f53\u524d\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c",(0,o.jsx)(e.code,{children:"show proxysession;"})," \u547d\u4ee4\u53ea\u80fd\u67e5\u770b\u5f53\u524d OBProxy \u7684\u8fde\u63a5\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [(none)]> show processlist;\n+---------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n| Id      | Tenant   | User | Host          | db         | trans_count | svr_session_count | state             | tid   | pid   |\n+---------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n|       5 | proxysys | root | x.x.x.x:32108 | NULL       |           0 |                 0 | MCS_ACTIVE_READER | 49646 | 49646 |\n|  524299 | sys      | root | x.x.x.x:32082 | oceanbase  |           0 |                 1 | MCS_ACTIVE_READER | 49651 | 49646 |\n| 1048583 | obmysql  | root | x.x.x.x:32120 | sysbenchdb |           0 |                 2 | MCS_ACTIVE_READER | 49652 | 49646 |\n+---------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n3 rows in set (0.007 sec)\n\nMySQL [(none)]> show proxysession;\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n| proxy_sessid | Id      | Cluster     | Tenant   | User | Host          | db         | trans_count | svr_session_count | state             | tid   | pid   |\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n|            0 |       5 | obce-3zones | proxysys | root | x.x.x.x:32108 | NULL       |           0 |                 0 | MCS_ACTIVE_READER | 49646 | 49646 |\n|           15 |  524299 | obce-3zones | sys      | root | x.x.x.x:32082 | oceanbase  |           0 |                 1 | MCS_ACTIVE_READER | 49651 | 49646 |\n|           19 | 1048583 | obce-3zones | obmysql  | root | x.x.x.x:32120 | sysbenchdb |           0 |                 2 | MCS_ACTIVE_READER | 49652 | 49646 |\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n3 rows in set (0.005 sec)\n\nMySQL [(none)]> kill proxysession 1048583;\nQuery OK, 0 rows affected (0.009 sec)\n\nMySQL [(none)]> show processlist;\n+---------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n| Id      | Tenant   | User | Host          | db         | trans_count | svr_session_count | state             | tid   | pid   |\n+---------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n|       5 | proxysys | root | x.x.x.x:32108 | NULL       |           0 |                 0 | MCS_ACTIVE_READER | 49646 | 49646 |\n|  524299 | sys      | root | x.x.x.x:32082 | oceanbase  |           0 |                 1 | MCS_ACTIVE_READER | 49651 | 49646 |\n| 1048584 | obmysql  | root | x.x.x.x:32124 | sysbenchdb |           0 |                 2 | MCS_ACTIVE_READER | 49652 | 49646 |\n+---------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n3 rows in set (0.046 sec)\n\nMySQL [(none)]> show proxysession;\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n| proxy_sessid | Id      | Cluster     | Tenant   | User | Host          | db         | trans_count | svr_session_count | state             | tid   | pid   |\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n|            0 |       5 | obce-3zones | proxysys | root | x.x.x.x:32108 | NULL       |           0 |                 0 | MCS_ACTIVE_READER | 49646 | 49646 |\n|           15 |  524299 | obce-3zones | sys      | root | x.x.x.x:32082 | oceanbase  |           0 |                 1 | MCS_ACTIVE_READER | 49651 | 49646 |\n|           20 | 1048584 | obce-3zones | obmysql  | root | x.x.x.x:32124 | sysbenchdb |           0 |                 2 | MCS_ACTIVE_READER | 49652 | 49646 |\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n3 rows in set (0.045 sec)\n\nMySQL [(none)]> kill 1048584;\nQuery OK, 0 rows affected (0.030 sec)\n"})}),"\n",(0,o.jsxs)(e.p,{children:["\u4ece\u793a\u4f8b\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c",(0,o.jsx)(e.code,{children:"show proxysession;"})," \u547d\u4ee4\u8f93\u51fa\u91cc\u7684 ID \u5c31\u662f ",(0,o.jsx)(e.code,{children:"show processlist;"})," \u547d\u4ee4\u8f93\u51fa\u4e2d\u7684 ID\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,o.jsx)(e.code,{children:"kill [id];"})," \u6216 ",(0,o.jsx)(e.code,{children:"kill proxysession [id];"})," \u547d\u4ee4\u6740\u524d\u7aef\u8fde\u63a5\u3002\u5f53\u524d\u7aef\u8fde\u63a5\u88ab\u6740\u540e\uff0c\u5bf9\u5e94\u7684\u540e\u7aef\u8fde\u63a5\u4e5f\u4e00\u5e76\u4e2d\u65ad\u3002\u4e0d\u652f\u6301 kill query \u8bed\u6cd5\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"\u67e5\u770b\u5e76\u76f4\u63a5 KILL \u540e\u7aef\u8fde\u63a5"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [(none)]> show processlist;\n+---------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n| Id      | Tenant   | User | Host          | db         | trans_count | svr_session_count | state             | tid   | pid   |\n+---------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n|       5 | proxysys | root | x.x.x.x:32108 | NULL       |           0 |                 0 | MCS_ACTIVE_READER | 49646 | 49646 |\n|  524299 | sys      | root | x.x.x.x:32082 | oceanbase  |           0 |                 1 | MCS_ACTIVE_READER | 49651 | 49646 |\n| 1048585 | obmysql  | root | x.x.x.x:32130 | sysbenchdb |           0 |                 3 | MCS_ACTIVE_READER | 49652 | 49646 |\n+---------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n3 rows in set (0.074 sec)\n\nMySQL [(none)]> show proxysession;\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n| proxy_sessid | Id      | Cluster     | Tenant   | User | Host          | db         | trans_count | svr_session_count | state             | tid   | pid   |\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n|            0 |       5 | obce-3zones | proxysys | root | x.x.x.x:32108 | NULL       |           0 |                 0 | MCS_ACTIVE_READER | 49646 | 49646 |\n|           15 |  524299 | obce-3zones | sys      | root | x.x.x.x:32082 | oceanbase  |           0 |                 1 | MCS_ACTIVE_READER | 49651 | 49646 |\n|           21 | 1048585 | obce-3zones | obmysql  | root | x.x.x.x:32130 | sysbenchdb |           0 |                 3 | MCS_ACTIVE_READER | 49652 | 49646 |\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n3 rows in set (0.200 sec)\n\nMySQL [(none)]> show proxysession attribute 1048585;\n+----------------------------------+---------------------+----------------+\n| attribute_name                   | value               | info           |\n+----------------------------------+---------------------+----------------+\n| proxy_sessid                     | 21                  | cs common      |\n| cs_id                            | 1048585             | cs common      |\n| cluster                          | obce-3zones         | cs common      |\n| tenant                           | obmysql             | cs common      |\n| user                             | root                | cs common      |\n| host_ip                          | x.x.x.x             | cs common      |\n| host_port                        | 32130               | cs common      |\n| db                               | sysbenchdb          | cs common      |\n| total_trans_cnt                  | 0                   | cs common      |\n| svr_session_cnt                  | 3                   | cs common      |\n| active                           | false               | cs common      |\n| read_state                       | MCS_ACTIVE_READER   | cs common      |\n| tid                              | 49652               | cs common      |\n| pid                              | 49646               | cs common      |\n| idc_name                         |                     | cs common      |\n| modified_time                    | 0                   | cs stat        |\n| reported_time                    | 0                   | cs stat        |\n| hot_sys_var_version              | 1                   | cs var version |\n| sys_var_version                  | 3                   | cs var version |\n| user_var_version                 | 0                   | cs var version |\n| last_insert_id_version           | 0                   | cs var version |\n| db_name_version                  | 1                   | cs var version |\n| server_ip                        | x.x.x.x             | last used ss   |\n| server_port                      | 2881                | last used ss   |\n| server_sessid                    | 3221634194          | last used ss   |\n| ss_id                            | 34                  | last used ss   |\n| state                            | MSS_KA_CLIENT_SLAVE | last used ss   |\n| transact_count                   | 2                   | last used ss   |\n| server_trans_stat                | 0                   | last used ss   |\n| hot_sys_var_version              | 1                   | last used ss   |\n| sys_var_version                  | 3                   | last used ss   |\n| user_var_version                 | 0                   | last used ss   |\n| last_insert_id_version           | 0                   | last used ss   |\n| db_name_version                  | 1                   | last used ss   |\n| is_checksum_supported            | 1                   | last used ss   |\n| is_safe_read_weak_supported      | 0                   | last used ss   |\n| is_checksum_switch_supported     | 1                   | last used ss   |\n| checksum_switch                  | 1                   | last used ss   |\n| enable_extra_ok_packet_for_stats | 1                   | last used ss   |\n| server_ip                        | x.x.x.              | ss pool [0]    |\n| server_port                      | 2881                | ss pool [0]    |\n| server_sessid                    | 3222242117          | ss pool [0]    |\n| ss_id                            | 36                  | ss pool [0]    |\n| state                            | MSS_KA_SHARED       | ss pool [0]    |\n| transact_count                   | 2                   | ss pool [0]    |\n| server_trans_stat                | 0                   | ss pool [0]    |\n| hot_sys_var_version              | 1                   | ss pool [0]    |\n| sys_var_version                  | 2                   | ss pool [0]    |\n| user_var_version                 | 0                   | ss pool [0]    |\n| last_insert_id_version           | 0                   | ss pool [0]    |\n| db_name_version                  | 1                   | ss pool [0]    |\n| is_checksum_supported            | 1                   | ss pool [0]    |\n| is_safe_read_weak_supported      | 0                   | ss pool [0]    |\n| is_checksum_switch_supported     | 1                   | ss pool [0]    |\n| checksum_switch                  | 1                   | ss pool [0]    |\n| enable_extra_ok_packet_for_stats | 1                   | ss pool [0]    |\n| server_ip                        | x.x.x.x             | ss pool [1]    |\n| server_port                      | 2881                | ss pool [1]    |\n| server_sessid                    | 3221895002          | ss pool [1]    |\n| ss_id                            | 35                  | ss pool [1]    |\n| state                            | MSS_KA_SHARED       | ss pool [1]    |\n| transact_count                   | 1                   | ss pool [1]    |\n| server_trans_stat                | 0                   | ss pool [1]    |\n| hot_sys_var_version              | 1                   | ss pool [1]    |\n| sys_var_version                  | 2                   | ss pool [1]    |\n| user_var_version                 | 0                   | ss pool [1]    |\n| last_insert_id_version           | 0                   | ss pool [1]    |\n| db_name_version                  | 1                   | ss pool [1]    |\n| is_checksum_supported            | 1                   | ss pool [1]    |\n| is_safe_read_weak_supported      | 0                   | ss pool [1]    |\n| is_checksum_switch_supported     | 1                   | ss pool [1]    |\n| checksum_switch                  | 1                   | ss pool [1]    |\n| enable_extra_ok_packet_for_stats | 1                   | ss pool [1]    |\n+----------------------------------+---------------------+----------------+\n73 rows in set (0.081 sec)\n"})}),"\n",(0,o.jsxs)(e.p,{children:["\u4ece\u793a\u4f8b\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u901a\u8fc7 ",(0,o.jsx)(e.code,{children:"show proxysession attribute [id];"})," \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u524d\u7aef\u8fde\u63a5\u5bf9\u5e94\u7684\u540e\u7aef\u8fde\u63a5\u3002\u901a\u8fc7\u6307\u5b9a\u524d\u7aef\u8fde\u63a5\u6807\u8bc6\u548c\u540e\u7aef\u8fde\u63a5\u6807\u8bc6\uff0c\u53ef\u4ee5\u9488\u5bf9\u6027\u7684\u6740\u540e\u7aef\u8fde\u63a5\u3002"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"{proxy_sessid\u3001cs_id\u3001host_ip\u3001host_port}"})," \u4e3a\u524d\u7aef\u8fde\u63a5\u5143\u7ec4\u3002\u5176\u4e2d cs_id \u662f OBProxy \u5185\u90e8\u6807\u8bc6\u7684\u524d\u7aef\u8fde\u63a5\uff08\u5ba2\u6237\u7aef\u8fde\u63a5\uff09\u7684 ID \u53f7\uff0c\u8ddf show processlist \u7684 ID \u5217\u4e00\u81f4\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"{server_ip\u3001server_port\u3001server_sessid\u3001ss_id }"})," \u7ec4\u6210\u540e\u7aef\u8fde\u63a5\u5143\u7ec4\u3002\u5176\u4e2d ss_id \u662f OBProxy \u5185\u90e8\u6807\u8bc6\u7684\u540e\u7aef\u8fde\u63a5\uff08OBProxy \u8ddf OBServer \u8fde\u63a5\uff09\u7684 ID \u53f7\u3002server_sessid \u662f OBServer \u4e0a\u7684\u5ba2\u6237\u7aef\u8fde\u63a5 ID\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"\u901a\u8fc7-obproxy-\u8fde\u63a5-oceanbase-\u96c6\u7fa4\u7ba1\u7406\u8fde\u63a5",children:(0,o.jsx)(e.strong,{children:"\u901a\u8fc7 OBProxy \u8fde\u63a5 OceanBase \u96c6\u7fa4\u7ba1\u7406\u8fde\u63a5"})}),"\n",(0,o.jsx)(e.p,{children:"\u4f7f\u7528 OBProxy \u8fde\u63a5 OceanBase \u96c6\u7fa4\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"obclient -h x.x.x.x -uroot@sys#obce-3zones -P2883 -p****** -c -A oceanbase\n"})}),"\n",(0,o.jsxs)(e.p,{children:["\u901a\u8fc7 OBProxy \u8fde\u63a5\u65f6\uff0c",(0,o.jsx)(e.code,{children:"show processlist;"})," \u548c ",(0,o.jsx)(e.code,{children:"show proxysession;"})," \u547d\u4ee4\u53ea\u80fd\u67e5\u770b\u5f53\u524d OBProxy \u7684\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u5e76\u4e14 ",(0,o.jsx)(e.code,{children:"show proxysession;"})," \u547d\u4ee4\u80fd\u770b\u5230\u5176\u4ed6 OceanBase \u96c6\u7fa4\u7684\u8fde\u63a5\uff08\u5982\u679c\u8fd9\u4e2a OBProxy \u8fd8\u53ef\u4ee5\u4e3a\u5176\u4ed6\u96c6\u7fa4\u63d0\u4f9b\u8def\u7531\u670d\u52a1\uff09\uff0c",(0,o.jsx)(e.code,{children:"show full processlist;"})," \u547d\u4ee4\u80fd\u770b\u5230 OceanBase \u96c6\u7fa4\u7684\u5168\u90e8\u540e\u7aef\u8fde\u63a5\uff0c\u5305\u62ec\u901a\u8fc7\u5176\u4ed6 OBProxy \u7684\u8fde\u63a5\u3002"]}),"\n",(0,o.jsx)(e.p,{children:"\u5728\u8fd9\u4e2a\u8fde\u63a5\u91cc\u53ef\u4ee5\u9488\u5bf9\u6027\u7684 KILL \u5f53\u524d OBProxy \u7684\u540e\u7aef\u8fde\u63a5\uff08\u4e0d\u80fd KILL \u5176\u4ed6 OBProxy \u7684\u540e\u7aef\u8fde\u63a5\uff09\uff0c\u4f46\u662f\u524d\u7aef\u8fde\u63a5\u53ea\u80fd KILL \u81ea\u5df1\uff0c\u4e0d\u80fd KILL \u5176\u4ed6\u8fde\u63a5\u3002\u652f\u6301 KILL CONNECTION \u548c KILL QUERY\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [oceanbase]> show proxysession;\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n| proxy_sessid | Id      | Cluster     | Tenant   | User | Host          | db         | trans_count | svr_session_count | state             | tid   | pid   |\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n|           23 |  524301 | obce-3zones | sys      | root | x.x.x.x:32214 | oceanbase  |           0 |                 1 | MCS_ACTIVE_READER | 49651 | 49646 |\n|           21 | 1048585 | obce-3zones | obmysql  | root | x.x.x.x:32130 | sysbenchdb |           0 |                 3 | MCS_ACTIVE_READER | 49652 | 49646 |\n|            0 |       6 | obce-3zones | proxysys | root | x.x.x.x:32192 | NULL       |           0 |                 0 | MCS_ACTIVE_READER | 49646 | 49646 |\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n3 rows in set (0.001 sec)\n\nMySQL [oceanbase]> show full processlist;\n+------------+---------+---------+---------------+------------+---------+------+--------+-----------------------+---------+------+--------------+\n| Id         | User    | Tenant  | Host          | db         | Command | Time | State  | Info                  | Ip      | Port | Proxy_sessid |\n+------------+---------+---------+---------------+------------+---------+------+--------+-----------------------+---------+------+--------------+\n| 3222242175 | root    | obmysql | x.x.x.x:12714 | sysbenchdb | Sleep   |  204 | SLEEP  | NULL                  | x.x.x.x | 2881 |           21 |\n| 3222242191 | root    | sys     | x.x.x.x:12736 | oceanbase  | Query   |    0 | ACTIVE | show full processlist | x.x.x.x | 2881 |           23 |\n| 3221895066 | root    | obmysql | x.x.x.x:4454  | sysbenchdb | Sleep   |  200 | SLEEP  | NULL                  | x.x.x.x | 2881 |           21 |\n| 3221611294 | proxyro | sys     | x.x.x.x:55222 | oceanbase  | Sleep   |   13 | SLEEP  | NULL                  | x.x.x.x | 2881 |            3 |\n| 3221634194 | root    | obmysql | x.x.x.x:55346 | sysbenchdb | Sleep   |  219 | SLEEP  | NULL                  | x.x.x.x | 2881 |           21 |\n+------------+---------+---------+---------------+------------+---------+------+--------+-----------------------+---------+------+--------------+\n5 rows in set (0.026 sec)\n\nMySQL [oceanbase]> kill 3222242191;\nERROR 1317 (70100): Query execution was interrupted\nMySQL [oceanbase]> show full processlist;\nERROR 2013 (HY000): Lost connection to MySQL server during query\nMySQL [oceanbase]> show full processlist;\nERROR 2006 (HY000): MySQL server has gone away\nNo connection. Trying to reconnect...\nConnection id:    524302\nCurrent database: oceanbase\n\n+------------+---------+---------+---------------+------------+---------+------+--------+-----------------------+---------+------+--------------+\n| Id         | User    | Tenant  | Host          | db         | Command | Time | State  | Info                  | Ip      | Port | Proxy_sessid |\n+------------+---------+---------+---------------+------------+---------+------+--------+-----------------------+---------+------+--------------+\n| 3221659683 | root    | sys     | x.x.x.x:55448 | oceanbase  | Query   |    0 | ACTIVE | show full processlist | x.x.x.x | 2881 |           24 |\n| 3221611294 | proxyro | sys     | x.x.x.x:55222 | oceanbase  | Sleep   |    5 | SLEEP  | NULL                  | x.x.x.x | 2881 |            3 |\n| 3221634194 | root    | obmysql | x.x.x.x:55346 | sysbenchdb | Sleep   |  231 | SLEEP  | NULL                  | x.x.x.x | 2881 |           21 |\n| 3221895066 | root    | obmysql | x.x.x.x:4454  | sysbenchdb | Sleep   |  211 | SLEEP  | NULL                  | x.x.x.x | 2881 |           21 |\n| 3222242175 | root    | obmysql | x.x.x.x:12714 | sysbenchdb | Sleep   |  216 | SLEEP  | NULL                  | x.x.x.x | 2881 |           21 |\n+------------+---------+---------+---------------+------------+---------+------+--------+-----------------------+---------+------+--------------+1048585\n5 rows in set (0.060 sec)\n\nMySQL [oceanbase]> kill 3221634194;\nERROR 1094 (HY000): sqln thread id: 3221634194\n"})}),"\n",(0,o.jsxs)(e.p,{children:["\u5982\u679c\u8981 KILL \u7279\u5b9a\u540e\u7aef\u8fde\u63a5\uff0c\u9700\u5148\u901a\u8fc7\u540e\u7aef ID \u627e\u5230 proxysess_id\uff0c\u7136\u540e\u627e\u5230\u5bf9\u5e94\u7684\u524d\u7aef\u8fde\u63a5 ID\uff0c\u518d\u901a\u8fc7\u547d\u4ee4 ",(0,o.jsx)(e.code,{children:"show proxysession attribute [id];"})," \u547d\u4ee4\u627e\u5230\u540e\u7aef\u8fde\u63a5\u7684 ss_id\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [oceanbase]> show proxysession;\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n| proxy_sessid | Id      | Cluster     | Tenant   | User | Host          | db         | trans_count | svr_session_count | state             | tid   | pid   |\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n|           24 |  524302 | obce-3zones | sys      | root | x.x.x.x:32218 | oceanbase  |           0 |                 1 | MCS_ACTIVE_READER | 49651 | 49646 |\n|           21 | 1048585 | obce-3zones | obmysql  | root | x.x.x.x:32130 | sysbenchdb |           0 |                 3 | MCS_ACTIVE_READER | 49652 | 49646 |\n|            0 |       6 | obce-3zones | proxysys | root | x.x.x.x:32192 | NULL       |           0 |                 0 | MCS_ACTIVE_READER | 49646 | 49646 |\n+--------------+---------+-------------+----------+------+---------------+------------+-------------+-------------------+-------------------+-------+-------+\n3 rows in set (0.019 sec)\n\nMySQL [oceanbase]> show proxysession attribute 1048585;\n+----------------------------------+---------------------+----------------+\n| attribute_name                   | value               | info           |\n+----------------------------------+---------------------+----------------+\n| proxy_sessid                     | 21                  | cs common      |\n| cs_id                            | 1048585             | cs common      |\n| cluster                          | obce-3zones         | cs common      |\n| tenant                           | obmysql             | cs common      |\n| user                             | root                | cs common      |\n| host_ip                          | x.x.x.x             | cs common      |\n| host_port                        | 32130               | cs common      |\n| db                               | sysbenchdb          | cs common      |\n| total_trans_cnt                  | 0                   | cs common      |\n| svr_session_cnt                  | 3                   | cs common      |\n| active                           | false               | cs common      |\n| read_state                       | MCS_ACTIVE_READER   | cs common      |\n| tid                              | 49652               | cs common      |\n| pid                              | 49646               | cs common      |\n| idc_name                         |                     | cs common      |\n| modified_time                    | 0                   | cs stat        |\n| reported_time                    | 0                   | cs stat        |\n| hot_sys_var_version              | 1                   | cs var version |\n| sys_var_version                  | 3                   | cs var version |\n| user_var_version                 | 0                   | cs var version |\n| last_insert_id_version           | 0                   | cs var version |\n| db_name_version                  | 1                   | cs var version |\n| server_ip                        | x.x.x.x             | last used ss   |\n| server_port                      | 2881                | last used ss   |\n| server_sessid                    | 3221895066          | last used ss   |\n| ss_id                            | 38                  | last used ss   |\n| state                            | MSS_KA_CLIENT_SLAVE | last used ss   |\n| transact_count                   | 1                   | last used ss   |\n| server_trans_stat                | 0                   | last used ss   |\n| hot_sys_var_version              | 1                   | last used ss   |\n| sys_var_version                  | 3                   | last used ss   |\n| user_var_version                 | 0                   | last used ss   |\n| last_insert_id_version           | 0                   | last used ss   |\n| db_name_version                  | 1                   | last used ss   |\n| is_checksum_supported            | 1                   | last used ss   |\n| is_safe_read_weak_supported      | 0                   | last used ss   |\n| is_checksum_switch_supported     | 1                   | last used ss   |\n| checksum_switch                  | 1                   | last used ss   |\n| enable_extra_ok_packet_for_stats | 1                   | last used ss   |\n| server_ip                        | x.x.x.x             | ss pool [0]    |\n| server_port                      | 2881                | ss pool [0]    |\n| server_sessid                    | 3222242175          | ss pool [0]    |\n| ss_id                            | 37                  | ss pool [0]    |\n| state                            | MSS_KA_SHARED       | ss pool [0]    |\n| transact_count                   | 2                   | ss pool [0]    |\n| server_trans_stat                | 0                   | ss pool [0]    |\n| hot_sys_var_version              | 1                   | ss pool [0]    |\n| sys_var_version                  | 3                   | ss pool [0]    |\n| user_var_version                 | 0                   | ss pool [0]    |\n| last_insert_id_version           | 0                   | ss pool [0]    |\n| db_name_version                  | 1                   | ss pool [0]    |\n| is_checksum_supported            | 1                   | ss pool [0]    |\n| is_safe_read_weak_supported      | 0                   | ss pool [0]    |\n| is_checksum_switch_supported     | 1                   | ss pool [0]    |\n| checksum_switch                  | 1                   | ss pool [0]    |\n| enable_extra_ok_packet_for_stats | 1                   | ss pool [0]    |\n| server_ip                        | x.x.x.x             | ss pool [1]    |\n| server_port                      | 2881                | ss pool [1]    |\n| server_sessid                    | 3221634194          | ss pool [1]    |\n| ss_id                            | 34                  | ss pool [1]    |\n| state                            | MSS_KA_SHARED       | ss pool [1]    |\n| transact_count                   | 3                   | ss pool [1]    |\n| server_trans_stat                | 0                   | ss pool [1]    |\n| hot_sys_var_version              | 1                   | ss pool [1]    |\n| sys_var_version                  | 3                   | ss pool [1]    |\n| user_var_version                 | 0                   | ss pool [1]    |\n| last_insert_id_version           | 0                   | ss pool [1]    |\n| db_name_version                  | 1                   | ss pool [1]    |\n| is_checksum_supported            | 1                   | ss pool [1]    |\n| is_safe_read_weak_supported      | 0                   | ss pool [1]    |\n| is_checksum_switch_supported     | 1                   | ss pool [1]    |\n| checksum_switch                  | 1                   | ss pool [1]    |\n| enable_extra_ok_packet_for_stats | 1                   | ss pool [1]    |\n+----------------------------------+---------------------+----------------+\n73 rows in set (0.001 sec)\n\nMySQL [oceanbase]> kill proxysession 1048585 34 ;\nQuery OK, 0 rows affected (0.010 sec)\n"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u8bf4\u660e"})}),"\n",(0,o.jsx)(e.p,{children:"\u5ba2\u6237\u7aef\u611f\u77e5\u4e0d\u5230\u540e\u7aef\u8fde\u63a5\u88ab KILL\u3002\u518d\u6b21\u67e5\u8be2\u65f6 OBProxy \u4f1a\u81ea\u52a8\u5efa\u7acb\u65b0\u7684\u540e\u7aef\u8fde\u63a5\u3002"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"\u76f4\u8fde-observer-\u7ba1\u7406\u8fde\u63a5",children:(0,o.jsx)(e.strong,{children:"\u76f4\u8fde OBServer \u7ba1\u7406\u8fde\u63a5"})}),"\n",(0,o.jsxs)(e.p,{children:["\u5728 OBProxy \u7684\u8fde\u63a5\u91cc\u67e5\u770b\u540e\u7aef\u8fde\u63a5\u7684\u547d\u4ee4\u662f ",(0,o.jsx)(e.code,{children:"show full processlist;"}),"\uff0c\u8f93\u51fa\u7684 Id \u5217\u5c31\u662f OBServer \u91cc\u5ba2\u6237\u7aef\u8fde\u63a5 ID\u3002\u53ef\u4ee5\u5728 OBServer \u5185\u90e8\u76f4\u63a5\u4f7f\u7528 KILL QUERY \u6216 KILL CONNECTION\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"obclient -hx.x.x.x -uroot@sys#obce-3zones -P2883 -p****** -c -A oceanbase\n\nMySQL [oceanbase]> show full processlist;\n+------------+---------+---------+---------------+------------+---------+------+--------+-----------------------+---------+------+--------------+\n| Id         | User    | Tenant  | Host          | db         | Command | Time | State  | Info                  | Ip      | Port | Proxy_sessid |\n+------------+---------+---------+---------------+------------+---------+------+--------+-----------------------+---------+------+--------------+\n| 3221659683 | root    | sys     | x.x.x.x:55448 | oceanbase  | Query   |    0 | ACTIVE | show full processlist | x.x.x.x | 2881 |           24 |\n| 3221611294 | proxyro | sys     | x.x.x.x:55222 | oceanbase  | Sleep   |   16 | SLEEP  | NULL                  | x.x.x.x | 2881 |            3 |\n| 3221666993 | root    | obmysql | x.x.x.x:45726 | sysbenchdb | Sleep   |    3 | SLEEP  | NULL                  | x.x.x.x | 2881 |         NULL |\n| 3221663293 | root    | obmysql | x.x.x.x:55458 | sysbenchdb | Sleep   |  281 | SLEEP  | NULL                  | x.x.x.x | 2881 |           21 |\n| 3221895066 | root    | obmysql | x.x.x.x:4454  | sysbenchdb | Sleep   |  291 | SLEEP  | NULL                  | x.x.x.x | 2881 |           21 |\n| 3222242175 | root    | obmysql | x.x.x.x:12714 | sysbenchdb | Sleep   |  285 | SLEEP  | NULL                  | x.x.x.x | 2881 |           21 |\n+------------+---------+---------+---------------+------------+---------+------+--------+-----------------------+---------+------+--------------+\n6 rows in set (0.010 sec)\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u5404\u5217\u4fe1\u606f\u4ecb\u7ecd\u5982\u4e0b\u3002"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Id\uff1a\u540e\u7aef\u8fde\u63a5\u7684\u5ba2\u6237\u7aef ID\u3002\u6574\u4e2a OceanBase \u96c6\u7fa4\u5185\u90e8\u552f\u4e00\u3002"}),"\n",(0,o.jsxs)(e.li,{children:["Host\uff1a\u524d\u7aef\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u3002IP",":PORT"," \u53d1\u8d77\u6570\u636e\u5e93\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u4fe1\u606f\u3002"]}),"\n",(0,o.jsx)(e.li,{children:"Ip\uff1a\u540e\u7aef\u8fde\u63a5\u7684\u670d\u52a1\u7aef IP\u3002\u5373 OBServer \u8282\u70b9\u7684 IP\u3002"}),"\n",(0,o.jsx)(e.li,{children:"Proxy_sessid\uff1a\u524d\u7aef\u8fde\u63a5\u7684 OBProxy \u5185\u90e8 ID\uff0c\u8be5 ID \u5728 OBProxy \u5185\u90e8\u552f\u4e00\uff0c\u4e0d\u540c OBProxy \u7684 Proxy_sessid \u4f1a\u91cd\u590d\u3002\u5982\u679c\u4e3a NULL\uff0c\u8868\u793a\u662f\u76f4\u8fde OBServer \u8282\u70b9\u5efa\u7acb\u7684\u8fde\u63a5\u3002"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"\u5982\u679c\u60a8\u76f4\u8fde\u5230 OBServer\uff0c\u6267\u884c\u4ee5\u4e0a\u547d\u4ee4\uff0c\u67e5\u8be2\u7ed3\u679c\u4f1a\u6709\u70b9\u4e0d\u4e00\u6837\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"mysql -h x.x.x.x -P2881 -uroot@obmysql -p****** -c -A sysbenchdb\n\nmysql> show processlist;\n+------------+------+---------------+------------+---------+------+--------+------------------+\n| Id         | User | Host          | db         | Command | Time | State  | Info             |\n+------------+------+---------------+------------+---------+------+--------+------------------+\n| 3222242175 | root | x.x.x.x:12714 | sysbenchdb | Sleep   |  312 | SLEEP  | NULL             |\n| 3221895066 | root | x.x.x.x:4454  | sysbenchdb | Sleep   |  318 | SLEEP  | NULL             |\n| 3221666993 | root | x.x.x.x:4572  | sysbenchdb | Query   |    0 | ACTIVE | show processlist |\n| 3221663293 | root | x.x.x.x:55458 | sysbenchdb | Sleep   |  308 | SLEEP  | NULL             |\n+------------+------+---------------+------------+---------+------+--------+------------------+\n4 rows in set (0.05 sec)\n"})}),"\n",(0,o.jsxs)(e.p,{children:["Host \u5217\u4e3a\u5ba2\u6237\u7aef\u8fde\u63a5\u4fe1\u606f\uff08IP",":PORT","\uff09\uff0c\u901a\u5e38\u4e3a OBProxy \u5730\u5740\u6216\u8005\u53d1\u8d77\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"mysql> show full processlist;\n+------------+------+---------+------------------+------------+---------+------+--------+-----------------------+---------+------+\n| Id         | User | Tenant  | Host             | db         | Command | Time | State  | Info                  | Ip      | Port |\n+------------+------+---------+------------------+------------+---------+------+--------+-----------------------+---------+------+\n| 3221666993 | root | obmysql | 127.0.0.1:45726  | sysbenchdb | Query   |    0 | ACTIVE | show full processlist | x.x.x.x | 2881 |\n| 3221663293 | root | obmysql | x.x.x.x:55458    | sysbenchdb | Sleep   |  312 | SLEEP  | NULL                  | x.x.x.x | 2881 |\n| 3221895066 | root | obmysql | x.x.x.x:4454     | sysbenchdb | Sleep   |  321 | SLEEP  | NULL                  | x.x.x.x | 2881 |\n| 3222242175 | root | obmysql | x.x.x.x:12714    | sysbenchdb | Sleep   |  315 | SLEEP  | NULL                  | x.x.x.x | 2881 |\n+------------+------+---------+------------------+------------+---------+------+--------+-----------------------+---------+------+\n4 rows in set (0.00 sec)\n\nmysql> show proxysession ;\nERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your OceanBase version for the right syntax to use near 'proxysession' at line 1\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u5404\u5217\u4fe1\u606f\u4ecb\u7ecd\u5982\u4e0b\u3002"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Host\uff1a\u524d\u7aef\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\uff0c\u5373\u53d1\u8d77\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u4fe1\u606f\uff08IP",":PORT","\uff09\u3002\u901a\u5e38\u4e3a OBProxy \u5730\u5740\u6216\u8005\u53d1\u8d77\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u3002"]}),"\n",(0,o.jsx)(e.li,{children:"Ip\uff1a\u540e\u7aef\u8fde\u63a5\u7684\u670d\u52a1\u7aef\u5730\u5740\uff0c\u901a\u5e38\u4e3a OBServer \u5730\u5740\u3002"}),"\n",(0,o.jsx)(e.li,{children:"Id\uff1a\u540e\u7aef\u8fde\u63a5\u7684 ID \u6807\u8bc6\uff0c\u6574\u4e2a OceanBase \u96c6\u7fa4\u5185\u90e8\u552f\u4e00\u3002\u53ef\u4ee5\u76f4\u63a5 KILL QUERY \u6216 KILL CONNECTION\u3002"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"\u76f4\u8fde OBServer \u4e0d\u652f\u6301 OBProxy \u7684\u7ba1\u7406\u547d\u4ee4\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"mysql> kill 3221663293;\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql> kill 3221895066;\nQuery OK, 0 rows affected (0.14 sec)\n\nmysql> kill 3222242175;\nQuery OK, 0 rows affected (0.02 sec)\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u8ddf\u524d\u9762\u4e00\u6837\uff0c\u5982\u679c\u540e\u7aef\u8fde\u63a5\u88ab KILL\uff0c\u5ba2\u6237\u7aef\u91cd\u65b0\u67e5\u8be2\u65f6\uff0cOBProxy \u5c06\u81ea\u52a8\u548c OBServer \u5efa\u7acb\u540e\u7aef\u8fde\u63a5\u3002"}),"\n",(0,o.jsx)(e.h2,{id:"\u89c6\u56fe-__all_virtual_processlist",children:(0,o.jsx)(e.strong,{children:"\u89c6\u56fe __all_virtual_processlist"})}),"\n",(0,o.jsx)(e.p,{children:"\u89c6\u56fe __all_virtual_processlist \u80fd\u67e5\u770b\u5230 OceanBase \u96c6\u7fa4\u7684\u6240\u6709\u8fde\u63a5\uff0c\u5305\u62ec\u901a\u8fc7 OBProxy \u8fde\u63a5\u7684\u540e\u7aef\u8fde\u63a5\u4ee5\u53ca\u76f4\u8fde\u96c6\u7fa4 OBServer \u8282\u70b9\u7684\u8fde\u63a5\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"SELECT id, host, command, sql_id, time, state, info, svr_ip, proxy_sessid, user_client_ip, trans_id ,thread_id, trace_id\nFROM __all_virtual_processlist\nwhere 1=1\n;\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u8f93\u51fa\u5982\u4e0b\u6240\u793a\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"+------------+---------------------+---------+----------------------------------+------+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+--------------+----------------+----------------------+-----------+-------------------------------+\n| id         | host                | command | sql_id                           | time | state  | info                                                                                                                                                                 | svr_ip        | proxy_sessid | user_client_ip | trans_id             | thread_id | trace_id                      |\n+------------+---------------------+---------+----------------------------------+------+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+--------------+----------------+----------------------+-----------+-------------------------------+\n| 3222242518 | x.x.x.x      :19440 | Query   | 17115A49B6D58958854D9B2E58CB821A |    0 | ACTIVE | SELECT id, host, command, sql_id, time, state, info, svr_ip, proxy_sessid, user_client_ip, trans_id ,thread_id, trace_id\nFROM __all_virtual_processlist\nwhere 1=1 | x.x.x.x       |           26 | x.x.x.x     |                    0 |     19240 | YB42AC14F933-0005CCDFC90D9A46 |\n| 3221603549 | 127.0.0.1:52488     | Sleep   |                                  |  324 | SLEEP  | NULL                                                                                                                                                                 | x.x.x.x       |         NULL | 127.0.0.1      |                    0 |         0 | NULL                          |\n+------------+---------------------+---------+----------------------------------+------+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+--------------+----------------+----------------------+-----------+-------------------------------+\n11 rows in set (0.011 sec)\n"})}),"\n",(0,o.jsxs)(e.p,{children:["\u8fd9\u4e2a\u89c6\u56fe\u7684\u7ed3\u679c\u8ddf\u547d\u4ee4 ",(0,o.jsx)(e.code,{children:"show full processlist;"})," \u7684\u7ed3\u679c\u57fa\u672c\u4e00\u81f4\u3002\u89c6\u56fe\u8bf4\u660e\u5982\u4e0b\uff1a"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"proxy_sessid\uff1a\u5982\u679c\u4e3a NULL\uff0c\u8868\u793a\u76f4\u8fde OBServer \u8282\u70b9\u7684\u8fde\u63a5\uff1b\u5982\u679c\u4e0d\u4e3a NULL\uff0c\u8868\u793a\u901a\u8fc7 OBProxy \u5efa\u7acb\u7684\u8fde\u63a5\u3002"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"host\uff1a\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u3002\u901a\u5e38\u662f OBProxy \u5730\u5740\uff0c\u5982\u679c\u662f\u76f4\u8fde\uff0c\u5219\u4e3a\u53d1\u8d77\u8fde\u63a5\u7684\u5b9e\u9645\u5ba2\u6237\u7aef\u5730\u5740\u3002"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"svr_ip\uff1a\u8fde\u63a5\u7684\u670d\u52a1\u7aef\u3002\u901a\u5e38\u662f OBServer \u8282\u70b9\u5730\u5740\u3002"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"user_client_ip\uff1a\u662f\u8fde\u63a5\u7684\u5b9e\u9645\u5ba2\u6237\u7aef\u5730\u5740\uff0c\u5373\u53d1\u8d77\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u5730\u5740\u3002"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"state\uff1a\u540e\u7aef\u8fde\u63a5\u7684\u72b6\u6001\uff0c\u901a\u5e38\u72b6\u6001\u662f Sleep\u3002\u5982\u679c\u8fde\u63a5\u6b63\u5728\u6267\u884c SQL\uff0c\u72b6\u6001\u662f Active\u3002"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"time\uff1a\u540e\u7aef\u8fde\u63a5\u5f53\u524d\u72b6\u6001\u6301\u7eed\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2\u3002\u5982\u679c\u72b6\u6001\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u91cd\u65b0\u8ba1\u65f6\u3002"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"info\uff1a\u8fde\u63a5\u6b63\u5728\u6267\u884c\u7684 SQL\u3002\u5982\u679c SQL \u5f88\u5feb\uff0c\u5219\u5f88\u96be\u6355\u6349\u5230\u3002"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"sql_id\uff1a\u8fde\u63a5\u6b63\u5728\u6267\u884c\u7684 SQL \u7684 SQLID\uff0c\u53ef\u4ee5\u6839\u636e SQLID \u53bb\u67e5\u6267\u884c\u8ba1\u5212\u3002"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"trans_id\uff1a\u8fde\u63a5\u7684\u4e8b\u52a1\u7684 TRANS_ID\uff0c\u8fd9\u4e2a\u4e0d\u51c6\u786e\uff0c\u4ec5\u4f9b\u53c2\u8003\u3002\u5982\u679c\u8fde\u63a5\u5f00\u542f\u4e86\u4e8b\u52a1\uff0c\u8fd9\u4e2a\u662f\u771f\u6b63\u7684\u4e8b\u52a1 ID\u3002\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\uff0c\u5728\u5f00\u542f\u65b0\u4e8b\u52a1\u4e4b\u524d\uff0c\u8fde\u63a5\u7684 TRANS_ID \u4e0d\u4e00\u5b9a\u4f1a\u53d8\u5316\u3002"}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"trace_id\uff1a\u8fde\u63a5\u4f7f\u7528\u7684 TRACE_ID\uff0c\u53ef\u4ee5\u5728 OBServer \u7684\u8fd0\u884c\u65e5\u5fd7\u4e2d\u6839\u636e TRACE_ID \u8ffd\u8e2a\u76f8\u5173\u65e5\u5fd7\u3002"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u5206\u6790\u8fde\u63a5\u7684\u4e8b\u52a1\u8d85\u65f6\u95ee\u9898",children:(0,o.jsx)(e.strong,{children:"\u5206\u6790\u8fde\u63a5\u7684\u4e8b\u52a1\u8d85\u65f6\u95ee\u9898"})}),"\n",(0,o.jsx)(e.p,{children:"\u4e8b\u52a1\u6709\u4e24\u4e2a\u8d85\u65f6\u65f6\u95f4\uff0c\u5206\u522b\u901a\u8fc7\u53c2\u6570 ob_trx_idle_timeout \u548c ob_trx_timeout \u63a7\u5236\u3002\u524d\u8005\u662f\u4e8b\u52a1\u7a7a\u95f2\u8d85\u65f6\uff0c\u540e\u8005\u662f\u4e8b\u52a1\u672a\u63d0\u4ea4\u8d85\u65f6\u3002\n\u4e3a\u4e86\u7814\u7a76\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u5f71\u54cd\uff0c\u4ee5\u4e0b\u793a\u4f8b\u6709\u610f\u628a\u4e24\u4e2a\u53c2\u6570\u7684\u503c\u5dee\u5f02\u62c9\u5927\u3002"}),"\n",(0,o.jsx)(e.h3,{id:"\u4e8b\u52a1\u7a7a\u95f2\u8d85\u65f6",children:(0,o.jsx)(e.strong,{children:"\u4e8b\u52a1\u7a7a\u95f2\u8d85\u65f6"})}),"\n",(0,o.jsx)(e.p,{children:"\u5ba2\u6237\u7aef 1 \u67e5\u770b\u7a7a\u95f2\u8d85\u65f6\u65f6\u95f4\u3002\u4e8b\u52a1\u7a7a\u95f2\u8d85\u65f6\u8bbe\u7f6e\u4e3a 120 \u79d2\uff0c\u4e8b\u52a1\u672a\u63d0\u4ea4\u8d85\u65f6\u8bbe\u7f6e\u4e3a 1000 \u79d2\uff0c\u524d\u8005\u5148\u8d85\u65f6\u3002\u4e8b\u52a1\u7a7a\u95f2\u5b9e\u9645\u8d85\u65f6\u65f6\u95f4\u5728 [120 s, 120+10 s) \u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"set global ob_trx_idle_timeout=120000000;\nset global ob_trx_timeout=1000000000;\n\nshow global variables where variable_name in ('ob_trx_idle_timeout','ob_trx_timeout');\n+---------------------+------------+\n| Variable_name       | Value      |\n+---------------------+------------+\n| ob_trx_idle_timeout | 120000000  |\n| ob_trx_timeout      | 1000000000 |\n+---------------------+------------+\n2 rows in set (0.040 sec)\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u5ba2\u6237\u7aef 2 \u65b0\u5efa\u8fde\u63a5\u5f00\u542f\u4e8b\u52a1\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [test]> begin; update t1 set c1=now() where id=3;\nQuery OK, 0 rows affected (0.002 sec)\n\nQuery OK, 1 row affected (0.023 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\nMySQL [test]> select * from t1;\n+----+---------------------+\n| id | c1                  |\n+----+---------------------+\n|  1 | 2021-10-03 09:22:20 |\n|  2 | 2021-09-29 21:16:05 |\n|  3 | 2021-10-03 10:41:59 |\n|  4 | 2021-09-29 21:16:06 |\n|  5 | 2021-09-29 21:16:06 |\n|  6 | 2021-09-29 21:16:18 |\n|  7 | 2021-10-03 09:35:18 |\n|  8 | 2021-09-29 21:16:19 |\n+----+---------------------+\n8 rows in set (0.029 sec)\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u5ba2\u6237\u7aef 2 \u505c\u6b62\u64cd\u4f5c\u4e00\u6bb5\u65f6\u95f4\u3002\u5ba2\u6237\u7aef 1 \u67e5\u770b\u8fde\u63a5\u72b6\u6001\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [oceanbase]> SELECT id, host, command, sql_id, time, state, info, svr_ip, proxy_sessid, user_client_ip, trans_id ,thread_id, trace_id   FROM __all_virtual_processlist  where 1=1 and id=3222242958 order by id;\n+------------+--------------+---------+--------+------+-------+------+----------+--------------+----------------+---------------------+-----------+----------+\n| id         | host          | command | sql_id | time | state | info | svr_ip  | proxy_sessid | user_client_ip | trans_id            | thread_id | trace_id |\n+------------+---------------+---------+--------+------+-------+------+---------+--------------+----------------+---------------------+-----------+----------+\n| 3222243128 | x.x.x.x:19954 | Sleep   |        |  121 | SLEEP | NULL | x.x.x.x |           45 | x.x.x.x        | 6678987957559799424 |         0 | NULL     |\n+------------+---------------+---------+--------+------+-------+------+---------+--------------+----------------+---------------------+-----------+----------+\n1 row in set (0.007 sec)\n"})}),"\n",(0,o.jsx)(e.p,{children:"time \u5217\u662f\u8fde\u63a5\u7a7a\u95f2\u65f6\u95f4\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u89c2\u5bdf\u5ba2\u6237\u7aef 2 \u8fde\u63a5\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [test]> select * from t1;\nERROR 6002 (25000): transaction needs rollback\nMySQL [test]>\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u53ef\u89c1\uff0cOceanBase 3.1 \u7248\u672c\u540e\u5bf9\u4e8e\u4e8b\u52a1\u7a7a\u95f2\u8d85\u65f6\u7684\u5904\u7406\u884c\u4e3a\u53d8\u4e3a\u4e0d\u4e2d\u65ad\u8fde\u63a5\uff0c\u800c\u662f\u63d0\u793a\u4e8b\u52a1\u8981\u56de\u6eda\u3002\u6b64\u65f6\u4e0d\u7ba1\u4f7f\u7528 COMMIT \u8fd8\u662f ROLLBACK \uff0c\u90fd\u53ef\u4ee5\u6e05\u7406\u4e8b\u52a1\u72b6\u6001\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [test]> commit;\nERROR 6002 (40000): Transaction rollbacked\nMySQL [test]> select * from t1;\n+----+---------------------+\n| id | c1                  |\n+----+---------------------+\n|  1 | 2021-10-03 09:22:20 |\n|  2 | 2021-09-29 21:16:05 |\n|  3 | 2021-09-29 21:16:05 |\n|  4 | 2021-09-29 21:16:06 |\n|  5 | 2021-09-29 21:16:06 |\n|  6 | 2021-09-29 21:16:18 |\n|  7 | 2021-10-03 09:35:18 |\n|  8 | 2021-09-29 21:16:19 |\n+----+---------------------+\n8 rows in set (0.003 sec)\n"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u6ce8\u610f"})}),"\n",(0,o.jsx)(e.p,{children:"\u4e0d\u7ba1\u662f\u54ea\u79cd\u8d85\u65f6\uff0c\u8fde\u63a5\u4e8b\u52a1\u6240\u6301\u6709\u7684\u9501\u90fd\u4f1a\u91ca\u653e\uff0c\u53ea\u662f\u4e8b\u52a1\u7684\u72b6\u6001\u9700\u8981\u5ba2\u6237\u7aef\u4e3b\u52a8\u6e05\u7406\u4e00\u4e0b\u3002\u5bf9\u4e8e\u5e94\u7528\u800c\u8a00\uff0c\u5c31\u662f\u9700\u8981\u6355\u6349\u4e8b\u52a1\u8d85\u65f6\u62a5\u9519\uff0c\u7136\u540e\u53d1\u8d77 ROLLBACK \u3002"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"\u4e8b\u52a1\u672a\u63d0\u4ea4\u8d85\u65f6",children:(0,o.jsx)(e.strong,{children:"\u4e8b\u52a1\u672a\u63d0\u4ea4\u8d85\u65f6"})}),"\n",(0,o.jsx)(e.p,{children:"\u5ba2\u6237\u7aef 1 \u67e5\u770b\u4e8b\u52a1\u672a\u63d0\u4ea4\u8d85\u65f6\u65f6\u95f4\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u672a\u63d0\u4ea4\u8d85\u65f6\u8bbe\u7f6e\u4e3a 100 \u79d2\uff0c\u4e8b\u52a1\u7a7a\u95f2\u8d85\u65f6\u8bbe\u7f6e\u4e3a 1200 \u79d2\u3002\u524d\u8005\u5148\u8d85\u65f6\uff0c\u4e8b\u52a1\u672a\u63d0\u4ea4\u5b9e\u9645\u8d85\u65f6\u65f6\u95f4\u4f1a\u5728\u4e00\u4e2a\u8303\u56f4\u5185 [100s, 100+10 s) \u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"set global ob_trx_idle_timeout=1200000000;\nset global ob_trx_timeout=100000000;\n\nshow variables where variable_name in ('ob_trx_idle_timeout','ob_trx_timeout');\n+---------------------+------------+\n| Variable_name       | Value      |\n+---------------------+------------+\n| ob_trx_idle_timeout | 1200000000 |\n| ob_trx_timeout      | 100000000  |\n+---------------------+------------+\n2 rows in set (0.003 sec)\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u5ba2\u6237\u7aef 2 \u65b0\u5efa\u8fde\u63a5\u5f00\u542f\u4e8b\u52a1\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [test]> begin; update t1 set c1=now() where id=3;\nQuery OK, 0 rows affected (0.001 sec)\n\nQuery OK, 1 row affected (0.005 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u5ba2\u6237\u7aef 2 \u505c\u6b62\u64cd\u4f5c\u4e00\u6bb5\u65f6\u95f4\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [test]> select * from t1;\nERROR 4012 (25000): Transaction is timeout\n"})}),"\n",(0,o.jsx)(e.p,{children:"\u6b64\u65f6\u8fde\u63a5\u5904\u4e8e\u4e8b\u52a1\u8d85\u65f6\u72b6\u6001\u3002\u9700\u8981\u7528 COMMIT \u6216\u8005 ROLLBACK \u6e05\u9664\u72b6\u6001\u3002\u4e0b\u9762\u793a\u4f8b\u4f7f\u7528 COMMIT \u6e05\u9664\u72b6\u6001\uff0c\u4f46\u662f\u4e8b\u52a1\u4fee\u6539\u65e9\u5df2\u7ecf\u56de\u6eda\u4e86\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-sql",children:"MySQL [test]> commit;\nERROR 4012 (25000): Transaction is timeout\nMySQL [test]> select * from t1;\n+----+---------------------+\n| id | c1                  |\n+----+---------------------+\n|  1 | 2021-10-03 09:22:20 |\n|  2 | 2021-09-29 21:16:05 |\n|  3 | 2021-09-29 21:16:05 |\n|  4 | 2021-09-29 21:16:06 |\n|  5 | 2021-09-29 21:16:06 |\n|  6 | 2021-09-29 21:16:18 |\n|  7 | 2021-10-03 09:35:18 |\n|  8 | 2021-09-29 21:16:19 |\n+----+---------------------+\n8 rows in set (0.014 sec)\n"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"\u6ce8\u610f"})}),"\n",(0,o.jsx)(e.p,{children:"\u4e0d\u7ba1\u662f\u54ea\u79cd\u8d85\u65f6\uff0c\u8fde\u63a5\u4e8b\u52a1\u6240\u6301\u6709\u7684\u9501\u90fd\u4f1a\u91ca\u653e\uff0c\u53ea\u662f\u4e8b\u52a1\u7684\u72b6\u6001\u9700\u8981\u5ba2\u6237\u7aef\u4e3b\u52a8\u6e05\u7406\u3002\u5bf9\u4e8e\u5e94\u7528\u800c\u8a00\uff0c\u5c31\u662f\u9700\u8981\u6355\u6349\u4e8b\u52a1\u8d85\u65f6\u62a5\u9519\uff0c\u7136\u540e\u53d1\u8d77 ROLLBACK\u3002"}),"\n"]})]})}function d(s={}){const{wrapper:e}={...(0,r.R)(),...s.components};return e?(0,o.jsx)(e,{...s,children:(0,o.jsx)(x,{...s})}):x(s)}},28453:(s,e,n)=>{n.d(e,{R:()=>c,x:()=>i});var o=n(96540);const r={},t=o.createContext(r);function c(s){const e=o.useContext(t);return o.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function i(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(r):s.components||r:c(s.components),o.createElement(t.Provider,{value:e},s.children)}}}]);