"use strict";(self.webpackChunkmy_docs_website=self.webpackChunkmy_docs_website||[]).push([[2507],{3837:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var n=s(74848),r=s(28453);const i={},d="Cluster commands",o={id:"obd/user-guide/obd-command/cluster-command-groups",title:"Cluster commands",description:"OBD provides multiple-level commands. You can use the -h/--help option to view the help information of sub-commands. Similarly, you can also use -v/--verbose to view the detailed execution process of commands when the execution of sub commands reports an error.",source:"@site/docs/obd/300.user-guide/300.obd-command/100.cluster-command-groups.md",sourceDirName:"obd/300.user-guide/300.obd-command",slug:"/obd/user-guide/obd-command/cluster-command-groups",permalink:"/docs/obd/user-guide/obd-command/cluster-command-groups",draft:!1,unlisted:!1,editUrl:"https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/obd/300.user-guide/300.obd-command/100.cluster-command-groups.md",tags:[],version:"current",sidebarPosition:100,frontMatter:{}},l={},c=[{value:"obd cluster autodeploy",id:"obd-cluster-autodeploy",level:2},{value:"obd cluster edit-config",id:"obd-cluster-edit-config",level:2},{value:"obd cluster deploy",id:"obd-cluster-deploy",level:2},{value:"obd cluster start",id:"obd-cluster-start",level:2},{value:"obd cluster list",id:"obd-cluster-list",level:2},{value:"obd cluster display",id:"obd-cluster-display",level:2},{value:"obd cluster reload",id:"obd-cluster-reload",level:2},{value:"obd cluster restart",id:"obd-cluster-restart",level:2},{value:"obd cluster redeploy",id:"obd-cluster-redeploy",level:2},{value:"obd cluster stop",id:"obd-cluster-stop",level:2},{value:"obd cluster destroy",id:"obd-cluster-destroy",level:2},{value:"obd cluster upgrade",id:"obd-cluster-upgrade",level:2},{value:"obd cluster reinstall",id:"obd-cluster-reinstall",level:2},{value:"obd cluster tenant create",id:"obd-cluster-tenant-create",level:2},{value:"obd cluster tenant drop",id:"obd-cluster-tenant-drop",level:2},{value:"obd cluster chst",id:"obd-cluster-chst",level:2},{value:"obd cluster check4ocp",id:"obd-cluster-check4ocp",level:2}];function a(e){const t={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"cluster-commands",children:"Cluster commands"}),"\n",(0,n.jsxs)(t.p,{children:["OBD provides multiple-level commands. You can use the ",(0,n.jsx)(t.code,{children:"-h/--help"})," option to view the help information of sub-commands. Similarly, you can also use ",(0,n.jsx)(t.code,{children:"-v/--verbose"})," to view the detailed execution process of commands when the execution of sub commands reports an error."]}),"\n",(0,n.jsxs)(t.p,{children:["A deployment configuration is the minimum unit for OBD cluster commands. A deployment configuration is a ",(0,n.jsx)(t.code,{children:"yaml"})," file. It contains all configuration information of a deployment, including the server login information, component information, component configuration information, and component server list."]}),"\n",(0,n.jsxs)(t.p,{children:["To start a cluster by using OBD, you must register the deployment configuration of your cluster to OBD. You can run the ",(0,n.jsx)(t.code,{children:"obd cluster edit-config"})," command to create an empty deployment configuration or run the ",(0,n.jsx)(t.code,{children:"obd cluster deploy -c config"})," command to import a deployment configuration."]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-autodeploy",children:"obd cluster autodeploy"}),"\n",(0,n.jsx)(t.p,{children:"When you pass a simple configuration file to OBD, OBD will automatically generate a complete configuration file with the maximum specifications based on the resources of the target server, and then deploy and start a cluster on the target server."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster autodeploy <deploy name> -c <yaml path> [-f] [-U] [-A] [-s]\n\n# example\nobd cluster autodeploy test -c all-components.yaml\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.p,{children:"The following table describes the corresponding options."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Data type"}),(0,n.jsx)(t.th,{children:"Default value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-c/--config"}),(0,n.jsx)(t.td,{children:"Yes"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"None"}),(0,n.jsxs)(t.td,{children:["Specifies the yaml file used for deployment and registers the deployment configuration to OBD. ",(0,n.jsx)("br",{}),"When the ",(0,n.jsx)(t.code,{children:"deploy name"})," already exists, OBD will check the status of the existing deployment configuration. If the existing deployment configuration has not been applied, it will be overwritten. If the existing deployment configuration is in use, an error will be returned."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-f/--force"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsxs)(t.td,{children:["Specifies whether to forcibly clear the working directory. ",(0,n.jsx)("br",{}),"When the component requires an empty working directory but this option is disabled, an error will be returned if the working directory is not empty."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-C/--clean"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsxs)(t.td,{children:["Specifies whether to clear the working directory. When the working directory (",(0,n.jsx)(t.code,{children:"home_path"}),") belongs to the current operating user and this option is true, the working directory will be cleared."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-U/--ulp/--unuselibrepo"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsxs)(t.td,{children:["Specifies whether to prevent OBD from automatically taking actions when dependencies are missing. If this option is disabled and OBD detects that some dependencies are missing, OBD will automatically search for the corresponding libs mirrors and install them. If this option is enabled, the ",(0,n.jsx)(t.strong,{children:"unuse_lib_repository: true"})," field will be added to the corresponding configuration file. You can also add the ",(0,n.jsx)(t.strong,{children:"unuse_lib_repository: true"})," field to the configuration file to enable this option."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-A/--act/--auto-create-tenant"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsxs)(t.td,{children:["Specifies whether to enable OBD to create the ",(0,n.jsx)(t.code,{children:"test"})," tenant during the bootstrap by using all available resources of the cluster. If this option is enabled, the ",(0,n.jsx)(t.strong,{children:"auto_create_tenant: true"})," field will be added to the corresponding configuration file. You can also add the ",(0,n.jsx)(t.strong,{children:"auto_create_tenant: true"})," field to the configuration file to enable this option."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-s/--strict-check"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsx)(t.td,{children:"Some components will do relevant checks before starting. It will issue an alarm when the check fails, but it will not force the process to stop. Using this option can return an error and directly exit the process when the component pre-check fails. We recommend that you enable this option to avoid startup failures due to insufficient resources."})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-edit-config",children:"obd cluster edit-config"}),"\n",(0,n.jsx)(t.p,{children:"Modifies a deployment configuration or creates one when the specified deployment configuration does not exist."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster edit-config <deploy name>\n\n# example\nobd cluster edit-config test\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-deploy",children:"obd cluster deploy"}),"\n",(0,n.jsxs)(t.p,{children:["Deploys a cluster based on the deployment configuration file. Based on the deployment configuration file, this command finds the matching mirror, then installs the mirror in a local repository. This process is called local installation.\nThen, OBD distributes the components of the required version in the local repository to the target server. This process is called remote installation.\nDuring both local and remote installation, OBD checks whether the server stores dependencies required for running the components.\nThis command allows you to deploy a cluster based on a deployment configuration that has been registered to OBD or by passing a ",(0,n.jsx)(t.code,{children:"yaml"})," file."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster deploy <deploy name> [-c <yaml path>] [-f] [-U] [-A]\n\n# example\nobd cluster deploy test -c all-components-min.yaml\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.p,{children:"The following table describes the corresponding options."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Data type"}),(0,n.jsx)(t.th,{children:"Default value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-c/--config"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"None"}),(0,n.jsxs)(t.td,{children:["Specifies the yaml file used for deployment and registers the deployment configuration to OBD. ",(0,n.jsx)("br",{}),"If this option is enabled and a deployment configuration of the specified ",(0,n.jsx)(t.code,{children:"deploy name"})," already exists, the existing deployment configuration will be overwritten. ",(0,n.jsx)("br",{}),"If this option is not enabled, OBD will search for the registered deployment configuration of the specified ",(0,n.jsx)(t.code,{children:"deploy name"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-f/--force"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsxs)(t.td,{children:["Specifies whether to forcibly clear the working directory. ",(0,n.jsx)("br",{}),"When the component requires an empty working directory but this option is disabled, an error will be returned if the working directory is not empty."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-C/--clean"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsxs)(t.td,{children:["Specifies whether to clear the working directory. When the working directory (",(0,n.jsx)(t.code,{children:"home_path"}),") belongs to the current operating user and this option is true, the working directory will be cleared."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-U/--ulp/--unuselibrepo"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsxs)(t.td,{children:["Specifies whether to prevent OBD from automatically taking actions when dependencies are missing. If this option is disabled and OBD detects that some dependencies are missing, OBD will automatically search for the corresponding libs mirrors and install them. If this option is enabled, the ",(0,n.jsx)(t.strong,{children:"unuse_lib_repository: true"})," field will be added to the corresponding configuration file. You can also add the ",(0,n.jsx)(t.strong,{children:"unuse_lib_repository: true"})," field to the configuration file to enable this option."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-A/--act/--auto-create-tenant"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsxs)(t.td,{children:["Specifies whether to enable OBD to create the ",(0,n.jsx)(t.code,{children:"test"})," tenant during the bootstrap by using all available resources of the cluster. If this option is enabled, the ",(0,n.jsx)(t.strong,{children:"auto_create_tenant: true"})," field will be added to the corresponding configuration file. You can also add the ",(0,n.jsx)(t.strong,{children:"auto_create_tenant: true"})," field to the configuration file to enable this option."]})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-start",children:"obd cluster start"}),"\n",(0,n.jsx)(t.p,{children:"Starts a deployed cluster. If the cluster is started, OBD will return its status."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster start <deploy name> [flags]\n\n# example\nobd cluster start test -S\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.p,{children:"This table describes the corresponding options."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Data type"}),(0,n.jsx)(t.th,{children:"Default value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-s/--servers"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsxs)(t.td,{children:["A list of machines, followed by the ",(0,n.jsx)(t.code,{children:"name"})," value corresponding to ",(0,n.jsx)(t.code,{children:"servers"})," in the ",(0,n.jsx)(t.code,{children:"yaml"})," file, separated by ",(0,n.jsx)(t.code,{children:","}),". If the ",(0,n.jsx)(t.code,{children:"name"})," value is not configured after ",(0,n.jsx)(t.code,{children:"servers"}),", the ",(0,n.jsx)(t.code,{children:"ip"})," value is used. Be used for specifying the machines need to be started. If this option is disabled, all machines under the component will start without executing bootstrap."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-c/--components"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsxs)(t.td,{children:["A list of components, separated by ",(0,n.jsx)(t.code,{children:","}),". Be used for specifying the components need to be started. If this option is disabled, all machines under the component will start without entering the running state."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--wop/--without-parameter"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsx)(t.td,{children:"Start without parameters. The node does not respond to this option when this node is starting for the first time."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-S/--strict-check"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsx)(t.td,{children:"Some components will do relevant checks before starting. OBD will throw an error when the check fails, but OBD will not force the process to stop. Using this option can return an error and directly exit the process when the component pre-check fails. We recommend that you enable this option to avoid startup failures due to insufficient resources."})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-list",children:"obd cluster list"}),"\n",(0,n.jsx)(t.p,{children:"Shows the status of all clusters that have been registered to OBD. The cluster names are specified by the deploy name parameter."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster list\n"})}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-display",children:"obd cluster display"}),"\n",(0,n.jsx)(t.p,{children:"Shows the status of the specified cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster display <deploy name>\n\n# example\nobd cluster display test\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-reload",children:"obd cluster reload"}),"\n",(0,n.jsxs)(t.p,{children:["Reloads a running cluster. After you modify the configuration information of a running cluster by using the ",(0,n.jsx)(t.code,{children:"edit-config"})," command, you can run the ",(0,n.jsx)(t.code,{children:"reload"})," command to let your modification take effect."]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"NOTE:"})}),"\n",(0,n.jsxs)(t.p,{children:["Some configuration items may not take effect after you run the ",(0,n.jsx)(t.code,{children:"reload"})," command. You need to restart or even redeploy the cluster for these configuration items to take effect. Do operations based on the result returned by the ",(0,n.jsx)(t.code,{children:"edit-config"})," command."]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster reload <deploy name>\n\n# example\nobd cluster reload test\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-restart",children:"obd cluster restart"}),"\n",(0,n.jsxs)(t.p,{children:["Restarts a running cluster. By default, OBD restarts without any parameters. After you run the edit-config command to modify the configuration information of a running cluster, you can run the ",(0,n.jsx)(t.code,{children:"restart"})," command for the modification to take effect."]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"NOTE:"})}),"\n",(0,n.jsxs)(t.p,{children:["Some configuration items may not take effect after you run the ",(0,n.jsx)(t.code,{children:"restart"})," command. You even need to redeploy the cluster for some configuration items to take effect. Perform operations based on the result returned by the edit-config command."]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster restart <deploy name>\n\n# example\nobd cluster restart test -c obproxy-ce --wp\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.p,{children:"This table describes the corresponding options."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Data type"}),(0,n.jsx)(t.th,{children:"Default value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-s/--servers"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsxs)(t.td,{children:["A list of machines, followed by the ",(0,n.jsx)(t.code,{children:"name"})," value corresponding to ",(0,n.jsx)(t.code,{children:"servers"})," in the ",(0,n.jsx)(t.code,{children:"yaml"})," file, separated by ",(0,n.jsx)(t.code,{children:","}),". If the ",(0,n.jsx)(t.code,{children:"name"})," value is not configured after ",(0,n.jsx)(t.code,{children:"servers"}),", the ",(0,n.jsx)(t.code,{children:"ip"})," value is used. Be used to specify the machines need to be restarted."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-c/--components"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsxs)(t.td,{children:["A list of components, separated by ",(0,n.jsx)(t.code,{children:","}),". Be used to specify the components need to be restarted. If this option is disabled, all machines under the component will start without entering the running state."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--wp/--with-parameter"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsx)(t.td,{children:"Restarts OBD with parameters. This option makes the parameters valid when you restart OBD."})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-redeploy",children:"obd cluster redeploy"}),"\n",(0,n.jsxs)(t.p,{children:["Redeploys a running cluster. After you run the ",(0,n.jsx)(t.code,{children:"edit-config"})," command to modify the configuration information of a running cluster, you can run the ",(0,n.jsx)(t.code,{children:"redeploy"})," command to let your modification take effect."]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"NOTE:"})}),"\n",(0,n.jsx)(t.p,{children:"This command destroys the cluster and redeploys it. Data in the cluster will be lost. Please back up the data before you run this command."}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster redeploy <deploy name> [-f]\n\n# example\nobd cluster redeploy test -f\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsxs)(t.p,{children:["Before OBD redeploys the cluster, it will check for running processes. These processes may result from the failure of the ",(0,n.jsx)(t.code,{children:"obd cluster start"})," command. They may also belong to other clusters when configurations of this cluster overlap with those of other clusters. If an ongoing process is found in the working directory, OBD will stop the ",(0,n.jsx)(t.code,{children:"obd cluster redeploy"})," command."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"-f"})," is ",(0,n.jsx)(t.code,{children:"--force-kill"}),". This option specifies whether to forcibly stop running processes in the working directory. If this option is enabled, OBD will forcibly stop the ongoing processes and run the ",(0,n.jsx)(t.code,{children:"obd cluster redeploy"})," command. ",(0,n.jsx)(t.code,{children:"-f"})," is optional. Its data type is ",(0,n.jsx)(t.code,{children:"bool"}),". This option is disabled by default."]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-stop",children:"obd cluster stop"}),"\n",(0,n.jsx)(t.p,{children:"Stops a running cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster stop <deploy name>\n\n# example\nobd cluster stop test -s server1\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.p,{children:"This table describes the corresponding options."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Data type"}),(0,n.jsx)(t.th,{children:"Default value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-s/--servers"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsxs)(t.td,{children:["A list of machines, followed by the ",(0,n.jsx)(t.code,{children:"name"})," value corresponding to ",(0,n.jsx)(t.code,{children:"servers"})," in the ",(0,n.jsx)(t.code,{children:"yaml"})," file, separated by ",(0,n.jsx)(t.code,{children:","}),". If the ",(0,n.jsx)(t.code,{children:"name"})," value is not configured after ",(0,n.jsx)(t.code,{children:"servers"}),", the ",(0,n.jsx)(t.code,{children:"ip"})," value is used. Be used to specify the machines need to be stopped"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-c/--components"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsxs)(t.td,{children:["A list of components, separated by ",(0,n.jsx)(t.code,{children:","}),". Be used to specify the components need to be stopped. If not all components under the configuration start, this configuration will not enter the stopped state."]})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-destroy",children:"obd cluster destroy"}),"\n",(0,n.jsxs)(t.p,{children:["Destroys a deployed cluster. If the cluster is running state, this command will first try to execute ",(0,n.jsx)(t.code,{children:"stop"})," and then ",(0,n.jsx)(t.code,{children:"destroy"})," after success."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster destroy <deploy name> [-f]\n\n# example\nobd cluster destroy test -f\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsxs)(t.p,{children:["Before OBD destroys the cluster, it will check for running processes. These processes may result from the failure of the ",(0,n.jsx)(t.code,{children:"obd cluster start"})," command. They may also belong to other clusters when configurations of this cluster overlap with those of other clusters. If an ongoing process is found in the working directory, OBD will stop the ",(0,n.jsx)(t.code,{children:"obd cluster destroy"})," command."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"-f"})," is ",(0,n.jsx)(t.code,{children:"--force-kill"}),". This option specifies whether to forcibly stop running processes in the working directory. If this option is enabled, OBD will forcibly stop the ongoing processes and run the ",(0,n.jsx)(t.code,{children:"obd cluster destroy"})," command. ",(0,n.jsx)(t.code,{children:"-f"})," is optional. Its data type is ",(0,n.jsx)(t.code,{children:"bool"}),". This option is disabled by default."]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-upgrade",children:"obd cluster upgrade"}),"\n",(0,n.jsx)(t.p,{children:"Update a running component."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster upgrade <deploy_name> -c <component_name> -V <version> [tags]\n\n# example\nobd cluster upgrade test -c oceanbase-ce -V 4.0.0.0 --usable=c63bb73384b17d74299b34fe3aceb0ae310fd319d2ccdb1acd39f31ba6673198\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Data type"}),(0,n.jsx)(t.th,{children:"Default value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-c/--component"}),(0,n.jsx)(t.td,{children:"Yes"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsx)(t.td,{children:"The component name you want to upgrade."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-V/--version"}),(0,n.jsx)(t.td,{children:"Yes"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsx)(t.td,{children:"The target upgrade version number."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--skip-check"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsx)(t.td,{children:"Skip check."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--usable"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsxs)(t.td,{children:["The hash list for the mirrors that you use during upgrade. Separated with ",(0,n.jsx)(t.code,{children:","}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--disable"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsxs)(t.td,{children:["The hash list for the mirrors that you disable during upgrade. Separated with ",(0,n.jsx)(t.code,{children:","}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-e/--executer-path"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"/usr/obd/lib/executer"}),(0,n.jsx)(t.td,{children:"The executer path for the upgrade script."})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-reinstall",children:"obd cluster reinstall"}),"\n",(0,n.jsx)(t.p,{children:"You can run this command to reinstall the repository of a deployed component. The new repository must have the same version number as the previous repository. If this command is used to replace the repository when the deployment status is 'running', the component is restarted after the replacement without loading parameters."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'obd cluster reinstall <deploy name> -c <component name> --hash <hash> [-f/--force]\n\n# example\n[admin@test ~]$ obd mirror list\n+------------------------------------------------------------------+\n|                      Mirror Repository List                      |\n+----------------------------+--------+---------+------------------+\n| SectionName                | Type   | Enabled | Update Time      |\n+----------------------------+--------+---------+------------------+\n| oceanbase.community.stable | remote | True    | 2022-12-16 10:41 |\n| oceanbase.development-kit  | remote | True    | 2022-12-16 10:41 |\n| local                      | local  | -       | 2022-12-16 10:52 |\n+----------------------------+--------+---------+------------------+\nUse `obd mirror list <section name>` for more details\n[admin@test ~]$ obd mirror list oceanbase.community.stable | grep -e " oceanbase-ce " | grep -e " 4.0.0.0 "\n| oceanbase-ce                      | 4.0.0.0 | 100000272022110114.el7 | x86_64 | 759074414c7b7b723013855353f62a7ba0aae0f493216ef2511825850ce77b51 |\n| oceanbase-ce                      | 4.0.0.0 | 100000282022112511.el7 | x86_64 | debb18ab3c0b3d16f145c41cd21c30686863580b721d45ddaa068e6309e03b64 |\n| oceanbase-ce                      | 4.0.0.0 | 102000032022120718.el7 | x86_64 | c63bb73384b17d74299b34fe3aceb0ae310fd319d2ccdb1acd39f31ba6673198 |\n\n[admin@test ~]$ obd cluster reinstall test -c oceanbase-ce --hash=c63bb73384b17d74299b34fe3aceb0ae310fd319d2ccdb1acd39f31ba6673198\n'})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter indicates the name of the deployed cluster, which is also the alias of the configuration file."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option name"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Data type"}),(0,n.jsx)(t.th,{children:"Default value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-c/--component"}),(0,n.jsx)(t.td,{children:"Yes"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Null"}),(0,n.jsx)(t.td,{children:"The name of the component whose repository is to be replaced."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--hash"}),(0,n.jsx)(t.td,{children:"Yes"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Null"}),(0,n.jsx)(t.td,{children:"The hash value of the target repository. The target repository must be of the same version as the current repository."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-f/--force"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"Bool"}),(0,n.jsx)(t.td,{children:"false"}),(0,n.jsx)(t.td,{children:"Specifies whether to enable forced replacement even if the restart fails."})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-tenant-create",children:"obd cluster tenant create"}),"\n",(0,n.jsx)(t.p,{children:"Creates a tenant. This command applies only to an OceanBase cluster. This command automatically creates resource units and resource pools."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster tenant create <deploy name> [-n <tenant name>] [flags]\n\n# example\nobd cluster tenant create test -n obmysql --max-cpu=2 --memory-size=2G --log-disk-size=3G --max-iops=10000 --iops-weight=2 --unit-num=1 --charset=utf8\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.p,{children:"This table describes the corresponding options."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Data type"}),(0,n.jsx)(t.th,{children:"Default value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-t/-n/--tenant-name"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"test"}),(0,n.jsx)(t.td,{children:"The tenant name. OBD will automatically generate resource units and resource pools with unique names based on the tenant name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--max-cpu"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"float"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsx)(t.td,{children:"The maximum number of CPU cores available for the tenant. When this option is set to 0, all available CPU cores of the cluster can be used by the tenant."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--min-cpu"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"float"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsx)(t.td,{children:"The minimum number of CPU cores available for the tenant. When this option is set to 0, the minimum number of CPU cores is the same as the maximum number of CPU cores."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--max-memory"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsxs)(t.td,{children:["The maximum memory capacity available for the tenant. When this option is set to 0, all available memory capacity of the cluster can be used by the tenant. When the actual value is less than 1 GB, an error is returned. ",(0,n.jsxs)("blockquote",{children:[" Not supported after the OceanBase database V4.0.0.0. You can use ",(0,n.jsx)(t.code,{children:"--memory-size"})," instead.   "]})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--min-memory"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsxs)(t.td,{children:["The minimum memory capacity available for the tenant. When this option is set to 0, the minimum memory capacity is the same as the maximum memory capacity.",(0,n.jsxs)("blockquote",{children:[" Not supported after the OceanBase database V4.0.0.0. You can use ",(0,n.jsx)(t.code,{children:"--memory-size"})," instead.   "]})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--memory-size"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsx)(t.td,{children:"The available memory unit size of the tenant. Supported since the OceanBase database V4.0.0.0."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--max-disk-size"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsxs)(t.td,{children:["The maximum disk space available for the tenant. When this option is set to 0, all available disk space of the cluster can be used by the tenant. If the actual value is less than 512 MB, an error is returned. ",(0,n.jsx)("blockquote",{children:" Not supported after the OceanBase database V4.0.0.0.   "})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--log-disk-size"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsxs)(t.td,{children:["Specifies the tenant's Unit log disk size. The default value is 3 times the memory specification value. The minimum value is ",(0,n.jsx)(t.code,{children:"2G"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--max-iops"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:" The default value is 128 when the OceanBase database version is lower than V4.0.0.0. "}),(0,n.jsx)("li",{children:" The default value is 1024 after the OceanBase database V4.0.0.0. "})]})}),(0,n.jsxs)(t.td,{children:["The maximum IOPS for the tenant. The value range of this parameter can be divided into the following two cases according to the OceanBase version. ",(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"Value range is [128,+\u221e) when the OceanBase database version is lower than V4.0.0.0. "}),(0,n.jsx)("li",{children:"   Value range is [1024,+\u221e) after the OceanBase database V4.0.0.0. "})]})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--min-iops"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsxs)(t.td,{children:["The minimum IOPS for the tenant. The value range is the same as ",(0,n.jsx)(t.code,{children:"--max-iops"}),". When this option is set to 0, the minimum IOPS is the same as the maximum IOPS."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--iops-weight"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsx)(t.td,{children:"Specifies the weight of the tenant's IOPS. Supported since the OceanBase database V4.0.0.0."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--max-session-num"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"64"}),(0,n.jsxs)(t.td,{children:["The maximum number of sessions allowed for the tenant. Value range: [64, +\u221e). ",(0,n.jsx)("blockquote",{children:" Not supported after the OceanBase database V4.0.0.0.   "})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--unit-num"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsx)(t.td,{children:"The number of units to be created in a zone. It must be less than the number of OBServers in the zone. When this option is set to 0, the maximum value is used."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-z/--zone-list"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsx)(t.td,{children:"Specifies the list of zones of the tenant. Separate multiple zones with commas (,). If this option is not specified, all zones of the cluster are included."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--primary-zone"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"RANDOM"}),(0,n.jsx)(t.td,{children:"The primary zone of the tenant."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--charset"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsx)(t.td,{children:"The character set of the tenant."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--collate"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsx)(t.td,{children:"The collation of the tenant."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--replica-num"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsx)(t.td,{children:"The number of replicas of the tenant. When this option is set to 0, the number of replicas is the same as that of zones."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--logonly-replica-num"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"0"}),(0,n.jsx)(t.td,{children:"The number of log replicas of the tenant. When this option is set to 0, the number of log replicas is the same as that of replicas."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--tablegroup"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsx)(t.td,{children:"The default table group of the tenant."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--locality"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsx)(t.td,{children:"The distribution status of replicas across zones. For example, F@z1,F@z2,F@z3,R@z4 means that z1, z2, and z3 are full-featured replicas and z4 is a read-only replica."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-s/--variables"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"ob_tcp_invited_nodes='%'"}),(0,n.jsx)(t.td,{children:"The system variables of the tenant."})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-tenant-drop",children:"obd cluster tenant drop"}),"\n",(0,n.jsx)(t.p,{children:"Deletes a tenant. This command applies only to an OceanBase cluster. This command automatically deletes the corresponding resource units and resource pools."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster tenant drop <deploy name> [-n <tenant name>]\n\n# example\nobd cluster tenant drop test -n obmysql\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"-n"})," is ",(0,n.jsx)(t.code,{children:"--tenant-name"}),". This option specifies the name of the tenant to be deleted. This option is required."]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-chst",children:"obd cluster chst"}),"\n",(0,n.jsx)(t.p,{children:"You can run this command to change the configuration style."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster chst <deploy name> --style <STYLE> [-c/--components]\n\n# example\nobd cluster chst test -c oceanbase-ce --style cluster\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.p,{children:"The following table describes details about the available options."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Data type"}),(0,n.jsx)(t.th,{children:"Default value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"--style"}),(0,n.jsx)(t.td,{children:"Yes"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"N/A"}),(0,n.jsx)(t.td,{children:"The preferred configuration style. Valid values: default and cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-c/--components"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsxs)(t.td,{children:["The components whose configuration style need to be changed. Separate multiple components with commas ",(0,n.jsx)(t.code,{children:","}),"."]})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"obd-cluster-check4ocp",children:"obd cluster check4ocp"}),"\n",(0,n.jsx)(t.p,{children:"You can run this command to check whether the current configurations can be taken over by OceanBase Cloud Platform (OCP)."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"obd cluster check4ocp <deploy name> [-c/--components] [-V/--version]\n\n# example\nobd cluster check4ocp test -V 4.0.0\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"deploy name"})," parameter specifies the name of the deployed cluster. You can consider it as an alias for the configuration file."]}),"\n",(0,n.jsx)(t.p,{children:"can be understood as an alias for the configuration file"}),"\n",(0,n.jsx)(t.p,{children:"The following table describes details about the available options."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Option"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Data type"}),(0,n.jsx)(t.th,{children:"Default value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-c/--components"}),(0,n.jsx)(t.td,{children:"No"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"Empty"}),(0,n.jsxs)(t.td,{children:["The components that need to be taken over by OCP. Separate multiple components with commas ",(0,n.jsx)(t.code,{children:","}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"-V/--version"}),(0,n.jsx)(t.td,{children:"Yes"}),(0,n.jsx)(t.td,{children:"string"}),(0,n.jsx)(t.td,{children:"3.1.0"}),(0,n.jsx)(t.td,{children:"The OCP version."})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>d,x:()=>o});var n=s(96540);const r={},i=n.createContext(r);function d(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);