"use strict";(self.webpackChunkmy_docs_website=self.webpackChunkmy_docs_website||[]).push([[8011],{75228:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var s=a(74848),t=a(28453);const i={title:"Introduction",weight:1},o=void 0,r={id:"user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/introduction",title:"Introduction",description:"Keywords: T + 0 HTAP | distributed execution framework | support for multi-model scenarios",source:"@site/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/01_introduction.md",sourceDirName:"user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap",slug:"/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/introduction",permalink:"/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/introduction",draft:!1,unlisted:!1,editUrl:"https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/01_introduction.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Introduction",weight:1},sidebar:"operation_and_maintenanceEnglishSidebar",previous:{title:"Best Practices for Archiving Historical Data",permalink:"/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_02_archive_database/data_archive_best_practices"},next:{title:"Background Knowledge of the SQL Engine",permalink:"/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/background_knowledge"}},c={},l=[{value:"HTAP Scenarios",id:"htap-scenarios",level:2},{value:"Current Status and Challenges of the Industry",id:"current-status-and-challenges-of-the-industry",level:2},{value:"Solution",id:"solution",level:2},{value:"Solution Advantages",id:"solution-advantages",level:2},{value:"Cases",id:"cases",level:2},{value:"Sinopec",id:"sinopec",level:3},{value:"Business challenges",id:"business-challenges",level:4},{value:"Solution",id:"solution-1",level:4},{value:"Customer benefits",id:"customer-benefits",level:4},{value:"Other cases",id:"other-cases",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Keywords: T + 0 HTAP | distributed execution framework | support for multi-model scenarios"}),"\n",(0,s.jsx)(n.p,{children:"Hybrid transaction and analytical processing (HTAP) is a highly expected database capability. With its distributed architecture, OceanBase Database can process transactions while handling analytical tasks such as data analysis and batch processing. Online analytical processing (OLAP) and online transaction processing (OLTP) are supported by the same set of engines to implement two sets of system features. Transactions and real-time analysis are provided by the same system, and one copy of data is used for different workloads. This fundamentally ensures data consistency and minimizes data redundancy, thereby significantly reducing the costs."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"htap-scenarios",children:"HTAP Scenarios"}),"\n",(0,s.jsxs)(n.p,{children:["Business scenarios of enterprise applications can be roughly classified into OLTP and OLAP.\n",(0,s.jsx)(n.img,{alt:"image",src:a(82498).A+"",width:"1212",height:"636"})]}),"\n",(0,s.jsxs)(n.p,{children:["Many enterprises tend to deploy multiple database products to support OLTP and OLAP scenarios separately. In this solution, data needs to be transmitted between two systems. Data synchronization inevitably causes latency and introduces the risk of data inconsistency. Redundant data is generated in the two systems, increasing the storage costs.\n",(0,s.jsx)(n.img,{alt:"image.png",src:a(65433).A+"",width:"1228",height:"525"})]}),"\n",(0,s.jsx)(n.h2,{id:"current-status-and-challenges-of-the-industry",children:"Current Status and Challenges of the Industry"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Poor real-time performance of offline data warehouses: Typically, an offline data warehouse can provide only T+1 data capabilities and poor data update performance. As a result, requirements such as real-time analysis and membership marketing of online business teams cannot be met in a timely manner. It is complex for small- and medium-sized enterprises to separately build a real-time data warehouse. In addition, extra manpower must be invested to maintain the data synchronization link."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Poor isolation of HTAP: The core of HTAP lies in supporting multiple types of loads by using one set of engines. If resource isolation cannot be ensured, the database intended for key transactions can be affected by analytical and batch processing business. This directly leads to decline of online transactions and business stability."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Sole capabilities of the conventional primary/standby architecture: In the read/write splitting solution based on primary/standby replication, a standby node can process only read-only queries and does not support batch processing. The real-time data performance is closely related to the synchronization latency. Real-time data consistency cannot be ensured in the case of a large number of transactions or DDL operations. The SQL optimizer has limited capabilities and is incompetent for complex multi-table analysis across shards."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"solution",children:"Solution"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"OceanBase Migration Service (OMS), which supports multi-table aggregation and synchronization, is used to synchronize data from tables of a heterogeneous database to native partitioned tables of OceanBase Database."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Multiple instances are merged into one instance after being migrated to OceanBase Database. This eliminates the need for middleware maintenance and greatly improves the storage scalability."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"In HTAP mode of OceanBase Database, business analysis and queries as well as real-time marketing and decision analysis can be directly performed in the online database, without the need for T+1 data."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"image.png",src:a(59184).A+"",width:"1423",height:"818"})}),"\n",(0,s.jsx)(n.h2,{id:"solution-advantages",children:"Solution Advantages"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"High data update performance: Based on the powerful update capabilities as a relational database, OceanBase Database achieves a millisecond-level ultralow synchronization latency between replicas."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Integrated HTAP: OceanBase Database uses one set of engines to accommodate OLTP and basic OLAP scenarios, and implements reliable resource isolation between OLTP business and OLAP business based on resource groups. This way, no real-time data warehouse needs to be built."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Distributed parallel computing engine: The powerful SQL optimizer and executor support vectorized computing, as well as parallel computing and analysis of massive amounts of data."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Support for multi-model scenarios: OceanBase Database is fully compatible with the syntax of MySQL. It also supports HBase-compatible APIs and TableAPI as well as semi-structured JSON data. OceanBase Database provides powerful Change Data Capture (CDC) capabilities to support data consumption by different types of downstream systems."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Flexible dynamic scaling: A single OceanBase cluster can contain more than 1,000 nodes and store data at a level higher than PB."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"image.png",src:a(28207).A+"",width:"1696",height:"658"})}),"\n",(0,s.jsx)(n.p,{children:"OceanBase Database uses Flink CDC as the streaming engine and leverages PL/SQL stored procedures in combination with job packages to handle batch processing tasks, thereby implementing data integration and data modeling in an integrated manner. It also implements collaboration between data and business and ensures time efficiency based on the vectorized engine and multi-replica architecture."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"image.png",src:a(63014).A+"",width:"1370",height:"872"})}),"\n",(0,s.jsx)(n.h2,{id:"cases",children:"Cases"}),"\n",(0,s.jsx)(n.h3,{id:"sinopec",children:"Sinopec"}),"\n",(0,s.jsx)(n.h4,{id:"business-challenges",children:"Business challenges"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The original fuel card system failed to support the Internet-based marketing service and business mode innovation. A next-gen smart gas station is expected to be built by using novel technologies to transform Sinopec into an all-around life service provider."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"As more types of data are more profoundly applied and utilized in a wider range of sectors, new features are expected from a database. The original heterogeneous and dispersed database failed to meet the transformation requirements for low systemic risk, easy management and O&M, and business innovation."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"solution-1",children:"Solution"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Based on the powerful HTAP capabilities of OceanBase Database, technologies such as read/write splitting and resource isolation are used to implement load balancing and improve OLAP performance. The OLTP performance is improved by using the log-structured merge-tree (LSM-tree) architecture of the storage engine and technologies such as early lock release (ELR) of the transaction engine."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The original fuel card system consists of 23 standalone Sybase and Oracle databases, which are operated and maintained by respective provincial branches. The solution aggregates those standalone databases into one distributed OceanBase cluster whose architecture integrates data, platform, and applications."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"OceanBase Database is highly compatible with conventional centralized databases and helps Sinopec migrate its applications from original databases without data loss. A transition solution is provided to minimize business interruptions."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"image.png",src:a(44221).A+"",width:"1166",height:"553"})}),"\n",(0,s.jsx)(n.h4,{id:"customer-benefits",children:"Customer benefits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Transformation: Users can receive e-coupons and discounts instantly and choose a payment method from multiple options, which is a great step towards transforming Sinopec into an all-around life service provider."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Efficiency improvement: OceanBase Database empowers Sinopec to provide the fuel card service for about 30,000 gas stations around China. The time consumed for uploading transaction records is reduced from almost one day to a few seconds, meeting the need for daily job handover and reporting. The data query time is shortened from several minutes to several seconds. Up to 50,000 business transactions can be carried out per minute."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Cost reduction: As 23 separate databases are aggregated into one OceanBase cluster, the software, hardware, and O&M costs are greatly reduced. The storage cost is slashed by 8 times."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"High reliability: The time consumed for failure recovery is decreased from hours to minutes, the business continuity reaches 99.99%, and security requirements in MLPS 2.0 are met."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"other-cases",children:"Other cases"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["KUAYUE EXPRESS (KYE): ",(0,s.jsx)(n.a,{href:"https://open.oceanbase.com/blog/27200135",children:"https://open.oceanbase.com/blog/27200135"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Industry: logistics"}),"\n",(0,s.jsx)(n.li,{children:"Pain points: MySQL cannot meet the increasingly complex analysis and processing requirements. TiDB, OceanBase Database, StarRocks, and Doris are considered in terms of online scaling, load balancing, and other maintainability metrics. Either TiDB or OceanBase Database will be chosen."}),"\n",(0,s.jsx)(n.li,{children:"Benefits: Both the real-time and offline data query performance of OceanBase Database is five times that of TiDB, and the storage cost is 1/5 that of TiDB. Moreover, OceanBase Database has a few components, enabling easy maintenance."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Zuoyebang: ",(0,s.jsx)(n.a,{href:"https://open.oceanbase.com/blog/8811965232",children:"https://open.oceanbase.com/blog/8811965232"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Industry: education"}),"\n",(0,s.jsx)(n.li,{children:"Pain points: MySQL cannot support real-time data analysis requirements."}),"\n",(0,s.jsx)(n.li,{children:"Benefits: Zuoyebang tested the performance of OceanBase Database in a typical scenario, where a dataset of more than one million rows was used for 10 to 20 concurrent aggregate queries. The test results showed that OceanBase Database responded to analytical queries within milliseconds, demonstrating performance dozens of times better than MySQL Database without impacting core transaction processing (TP) performance."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["ClassIn: ",(0,s.jsx)(n.a,{href:"https://open.oceanbase.com/blog/27200134",children:"https://open.oceanbase.com/blog/27200134"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Industry: education"}),"\n",(0,s.jsx)(n.li,{children:"Pain points: Bottlenecks occur in read and write performance. During the COVID-19 pandemic, the traffic of online classroom business surged. As standalone databases such as MySQL do not support smooth horizontal scaling like distributed databases, many online clusters had obvious bottlenecks in reads and writes."}),"\n",(0,s.jsx)(n.li,{children:"Benefits: The actual online traffic was introduced to test clusters. The optimizer of TiDB was unstable and had indexing errors. The CPU utilization and latency of TiDB frequently fluctuated obviously. On the contrary, the CPU utilization and latency of OceanBase Database were very stable."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Yunli Smart of China Unicom: ",(0,s.jsx)(n.a,{href:"https://open.oceanbase.com/blog/5244321792",children:"https://open.oceanbase.com/blog/5244321792"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Industry: government enterprises and network operators"}),"\n",(0,s.jsx)(n.li,{children:"Pain points: The big data processing system contains too many components. Hive depends on Hadoop, Hadoop Distributed File System (HDFS) is used for data storage, YARN is used as the resource management framework, and Tez is used to optimize directed acyclic graph (DAG) tasks of Hive, making O&M difficult."}),"\n",(0,s.jsx)(n.li,{children:"Benefits: The architecture of OceanBase Database is simple and contains only OBServer nodes and OceanBase Database Proxy (ODP). If tens or hundreds of clusters are to be deployed and maintained, OceanBase Database is a better choice in terms of configuration, deployment, and O&M. OceanBase Database improves the data governance efficiency from a minute level to a quasi-real-time level. OceanBase Database outperforms Hive in terms of latency in scenarios with small amounts of data. In TP scenarios, OceanBase Database with an HTAP engine is superior to Hive, which is based on a single AP engine."}),"\n",(0,s.jsxs)(n.li,{children:["Video: ",(0,s.jsx)(n.a,{href:"https://www.oceanbase.com/video/9001367",children:"Evolution Path of the Real-time Data Warehouse for Yunli Smart of China Unicom"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Hwadee: ",(0,s.jsx)(n.a,{href:"https://open.oceanbase.com/blog/6776731648",children:"https://open.oceanbase.com/blog/6776731648"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Industry: Internet"}),"\n",(0,s.jsx)(n.li,{children:"Pain points: The data computing platform was built based on the Hadoop ecosystem. It comprised too many components, leading to complex building and high O&M costs. What's worse, troubleshooting was difficult in this complex environment."}),"\n",(0,s.jsx)(n.li,{children:"Benefits: The architecture is greatly simplified, enabling easy O&M and lowering the costs. The OBServer nodes are peer-to-peer, and each contains a storage engine and a computing engine. OceanBase Database boasts a small number of components, simple deployment, and easy O&M. With OceanBase Database, we no longer need to add other components to the database to achieve high availability and automatic failover."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},82498:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/001-440ce979d645cacc7b7a94561adbc805.png"},65433:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/002-ac1b673cfb6135bcad3055cc4a94cb99.png"},59184:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/003-d1340ef2119743ca8c5442f144d0c305.png"},28207:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/004-891c71cb392abc1518a2b26ba5a2cdc6.png"},63014:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/005-6b9d64d135c4be57502c4b19045cc419.png"},44221:(e,n,a)=>{a.d(n,{A:()=>s});const s=a.p+"assets/images/006-b43c90e356ddadd224de5427c352219e.png"},28453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>r});var s=a(96540);const t={},i=s.createContext(t);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);