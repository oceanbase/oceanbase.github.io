"use strict";(self.webpackChunkmy_docs_website=self.webpackChunkmy_docs_website||[]).push([[4630],{50320:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=n(74848),t=n(28453);const i={title:"HTAP System Architecture Design",weight:4},r=void 0,o={id:"user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/htap_best_practices",title:"HTAP System Architecture Design",description:"Note: At present, OceanBase Advanced Tutorial for DBAs applies only to OceanBase Database Community Edition. Therefore, the arbitration replica feature of OceanBase Database Enterprise Edition is not included in the tutorial outline provided in this topic. For more information about the differences between the two editions, see Differences between Enterprise Edition and Community Edition.",source:"@site/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/04_htap_best_practices.md",sourceDirName:"user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap",slug:"/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/htap_best_practices",permalink:"/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/htap_best_practices",draft:!1,unlisted:!1,editUrl:"https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/04_htap_best_practices.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"HTAP System Architecture Design",weight:4},sidebar:"operation_and_maintenanceEnglishSidebar",previous:{title:"Read/Write Splitting Strategy and Architecture",permalink:"/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/read_write_separation_best_practices"},next:{title:"SQL Performance Diagnostics and Tuning",permalink:"/docs/user_manual/operation_and_maintenance/en-US/scenario_best_practices/chapter_03_htap/performance_tuning"}},c={},l=[{value:"Business Architecture for Real-time Reports and Risk Control",id:"business-architecture-for-real-time-reports-and-risk-control",level:2},{value:"Business Architecture for Quasi-real-time Decision Analysis",id:"business-architecture-for-quasi-real-time-decision-analysis",level:2},{value:"Business Architecture for Lightweight Data Warehouses",id:"business-architecture-for-lightweight-data-warehouses",level:2},{value:"Position and Functionality of OceanBase Database in Design of Real-time Data Warehouses",id:"position-and-functionality-of-oceanbase-database-in-design-of-real-time-data-warehouses",level:2}];function d(e){const s={a:"a",blockquote:"blockquote",em:"em",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsxs)(s.p,{children:["Note: At present, ",(0,a.jsx)(s.em,{children:"OceanBase Advanced Tutorial for DBAs"})," applies only to OceanBase Database Community Edition. Therefore, the arbitration replica feature of OceanBase Database Enterprise Edition is not included in the tutorial outline provided in this topic. For more information about the differences between the two editions, see ",(0,a.jsx)(s.a,{href:"https://en.oceanbase.com/docs/common-oceanbase-database-10000000001714481",children:"Differences between Enterprise Edition and Community Edition"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"OceanBase Database supports read-only columnstore replicas since V4.3.3. This topic describes how to use columnar storage to further optimize the system architecture on the basis of read/write splitting."}),"\n",(0,a.jsx)(s.h2,{id:"business-architecture-for-real-time-reports-and-risk-control",children:"Business Architecture for Real-time Reports and Risk Control"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)("font",{color:"red",children:"Scenarios: This architecture applies to scenarios that are dominated by transaction processing (TP) business but have a few analytical processing (AP) requirements. "})})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Architecture design idea: Use rowstore replicas and create columnstore indexes on rowstore replicas."}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["For information about how to create a columnstore index, see ",(0,a.jsx)(s.a,{href:"https://open.oceanbase.com/blog/11547010336",children:"Columnstore Engine: Your Ticket to OLAP"}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsx)(s.p,{children:"Note:"}),"\n",(0,a.jsx)(s.p,{children:"With columnstore indexes, both a rowstore replica (for TP business) and a columnstore replica (AP business) are available for the same data."}),"\n",(0,a.jsx)(s.p,{children:"Compared with the dual-replica mode (rowstore replica + columnstore replica), the columnstore index feature allows you to create an index only on columns involved in AP. This can accelerate AP queries and minimize the storage costs."}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"image.png",src:n(36434).A+"",width:"1098",height:"580"})}),"\n",(0,a.jsx)(s.h2,{id:"business-architecture-for-quasi-real-time-decision-analysis",children:"Business Architecture for Quasi-real-time Decision Analysis"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)("font",{color:"red",children:"Scenarios: This architecture applies to scenarios that have more TP business needs than AP business needs and where resource isolation cannot be implemented by using control groups (cgroups). "})})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Architecture design idea: Use read-only columnstore replicas to implement zone-level hard isolation."}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["For the considerations on using read-only columnstore replicas, see ",(0,a.jsx)(s.a,{href:"https://en.oceanbase.com/docs/common-oceanbase-database-10000000001719945",children:"Columnstore replica"}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsx)(s.p,{children:"Note:"}),"\n",(0,a.jsx)(s.p,{children:"The columnstore replica feature is a new feature available since OceanBase Database V4.3.3, which was released on October 24, 2024. We recommend that you do not use it in a proof of concept (POC) environment, to avoid compromising system stability."}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"image.png",src:n(84617).A+"",width:"1047",height:"574"})}),"\n",(0,a.jsx)(s.h2,{id:"business-architecture-for-lightweight-data-warehouses",children:"Business Architecture for Lightweight Data Warehouses"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)("font",{color:"red",children:"Scenarios: This architecture applies to scenarios dominated by AP business that has both large queries and many small queries. "})})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Architecture design idea: Use a columnstore table and create rowstore indexes on the table."}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["For information about the columnar storage syntax, see ",(0,a.jsx)(s.a,{href:"https://open.oceanbase.com/blog/11547010336",children:"Columnstore Engine: Your Ticket to OLAP"}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsx)(s.p,{children:"Note:"}),"\n",(0,a.jsx)(s.p,{children:"The columnstore table aims to accelerate complex AP queries and rowstore indexes aim to accelerate point queries."}),"\n",(0,a.jsx)(s.p,{children:"A lightweight data warehouse is not an offline data warehouse. It has not only complex queries but also simple and lightweight point queries."}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"image.png",src:n(60416).A+"",width:"1242",height:"595"})}),"\n",(0,a.jsx)(s.h2,{id:"position-and-functionality-of-oceanbase-database-in-design-of-real-time-data-warehouses",children:"Position and Functionality of OceanBase Database in Design of Real-time Data Warehouses"}),"\n",(0,a.jsx)(s.p,{children:"This section describes the position and functionality of OceanBase Database in the design of real-time data warehouses."}),"\n",(0,a.jsx)(s.p,{children:"A common hierarchical architecture of real-time data warehouses comprises the following layers: operational data store (ODS), data warehouse detail (DWD), data warehouse summary (DWS), and application data store (ADS). These layers have different features and purposes to better organize and manage data to support efficient data processing and analysis."}),"\n",(0,a.jsx)(s.p,{children:"These layers are described as follows:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"ODS layer: stores quasi-real-time raw data for operation reports and monitoring."}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"DWD layer: stores cleansed and standardized details data without redundancy and inconsistency."}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"DWS layer: stores aggregated and summarized data for complex analysis and report generation."}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"ADS layer: stores highly aggregated and processed data for frontend applications and reports."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Usually, a TP database is among the upstream systems of the data warehouse business. Business logs are written to the queue by using ecosystem tools such as Kafka and then batch written to the data warehouse."}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"OceanBase Database can serve as the data warehouse."}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Based on its materialized view capabilities, OceanBase Database cleanses data stored in the DWD layer and summarizes data in the DWS layer, thereby eliminating the extract, transform, and load (ETL) process between different layers.\n",(0,a.jsx)(s.img,{alt:"image.png",src:n(88447).A+"",width:"1120",height:"501"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"OceanBase Database can serve as the storage medium of the data warehouse."}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Third-party ecosystem tools such as Flink are used for computations, and OceanBase Database is also used to process some complex queries, which can be seen as a hybrid computation solution.\n",(0,a.jsx)(s.img,{alt:"image.png",src:n(34646).A+"",width:"1149",height:"501"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"If a third-party ecosystem tool is required for data processing when the data volume is large:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"OceanBase Database can serve as the ODS layer to address the pain point of poor real-time write performance."}),"\n",(0,a.jsxs)(s.li,{children:["OceanBase Database can serve as the ADS layer to address the pain point of poor performance in high-concurrency scenarios.\n",(0,a.jsx)(s.img,{alt:"image.png",src:n(66413).A+"",width:"1174",height:"496"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},36434:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/001-82813077a8b163e7df93ba7406e99eb8.png"},84617:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/002-6d7f0607a6f1502fd92e9a23bc4588e1.png"},60416:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/003-cd4165b638047cf2d720b717e8b02871.png"},88447:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/004-81b60c23b9771d493d1372825a350730.png"},34646:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/005-db4d01f38f125033705a1b5b6df5f2f8.png"},66413:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/006-f9dc23553eaabc2064dec8ed9c16b4f3.png"},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>o});var a=n(96540);const t={},i=a.createContext(t);function r(e){const s=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);