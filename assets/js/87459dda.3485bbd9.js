"use strict";(self.webpackChunkmy_docs_website=self.webpackChunkmy_docs_website||[]).push([[895],{42767:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>t,frontMatter:()=>l,metadata:()=>d,toc:()=>x});var r=s(74848),c=s(28453);const l={title:"\u751f\u6001\u7ec4\u4ef6FAQ\u5927\u5168",weight:1},i="FAQ \u6c47\u603b",d={id:"user_manual/user_best_practices/FAQ/all_faq",title:"\u751f\u6001\u7ec4\u4ef6FAQ\u5927\u5168",description:"\u683c\u5f0f\u8981\u6c42:",source:"@site/docs/user_manual/user_best_practices/FAQ/all_faq.md",sourceDirName:"user_manual/user_best_practices/FAQ",slug:"/user_manual/user_best_practices/FAQ/all_faq",permalink:"/docs/user_manual/user_best_practices/FAQ/all_faq",draft:!1,unlisted:!1,editUrl:"https://github.com/oceanbase/oceanbase.github.io/tree/main/docs/user_manual/user_best_practices/FAQ/all_faq.md",tags:[],version:"current",frontMatter:{title:"\u751f\u6001\u7ec4\u4ef6FAQ\u5927\u5168",weight:1},sidebar:"legacySidebar",previous:{title:"\u5386\u53f2\u6570\u636e\u5f52\u6863\u573a\u666f",permalink:"/docs/user_manual/user_best_practices/solutions/storage_compression"},next:{title:"\u914d\u7f6e\u6587\u4ef6\u4e8b\u4f8b",permalink:"/docs/user_manual/user_best_practices/appendix/obtest_config"}},o={},x=[{value:"<strong>\u683c\u5f0f\u8981\u6c42:</strong>",id:"\u683c\u5f0f\u8981\u6c42",level:2},{value:"<strong>\u95ee\u7b54\u7c7b</strong>",id:"\u95ee\u7b54\u7c7b",level:3},{value:"<strong>\u64cd\u4f5c\u7c7b</strong>",id:"\u64cd\u4f5c\u7c7b",level:3},{value:"<strong>\u95ee\u7b54</strong>",id:"\u95ee\u7b54",level:2},{value:"<strong>\u77e5\u8bc6\u70b9</strong>",id:"\u77e5\u8bc6\u70b9",level:3},{value:"<strong>\u539f\u7406</strong>",id:"\u539f\u7406",level:3},{value:"<strong>\u62a5\u9519</strong>",id:"\u62a5\u9519",level:3},{value:"<strong>\u6545\u969c\u6062\u590d</strong>",id:"\u6545\u969c\u6062\u590d",level:3},{value:"<strong>\u6027\u80fd\u8c03\u4f18</strong>",id:"\u6027\u80fd\u8c03\u4f18",level:3},{value:"<strong>OBD \u90e8\u7f72\u95ee\u9898</strong>",id:"obd-\u90e8\u7f72\u95ee\u9898",level:2},{value:"<strong>OBD \u4f7f\u7528\u95ee\u9898</strong>",id:"obd-\u4f7f\u7528\u95ee\u9898",level:2},{value:"<strong>OceanBase \u6570\u636e\u5e93\u4f7f\u7528\u95ee\u9898</strong>",id:"oceanbase-\u6570\u636e\u5e93\u4f7f\u7528\u95ee\u9898",level:2},{value:"<strong>OCP \u90e8\u7f72\u95ee\u9898</strong>",id:"ocp-\u90e8\u7f72\u95ee\u9898",level:2},{value:"<strong>OCP \u4f7f\u7528\u95ee\u9898</strong>",id:"ocp-\u4f7f\u7528\u95ee\u9898",level:2},{value:"<strong>OMS \u4f7f\u7528\u95ee\u9898</strong>",id:"oms-\u4f7f\u7528\u95ee\u9898",level:2},{value:"<strong>OBProxy \u95ee\u9898</strong>",id:"obproxy-\u95ee\u9898",level:2},{value:"<strong>ODC \u95ee\u9898</strong>",id:"odc-\u95ee\u9898",level:2},{value:"<strong>OBDUMPER/OBLOADER \u4f7f\u7528\u95ee\u9898</strong>",id:"obdumperobloader-\u4f7f\u7528\u95ee\u9898",level:2},{value:"<strong>\u5176\u4ed6</strong>",id:"\u5176\u4ed6",level:2}];function h(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"faq-\u6c47\u603b",children:(0,r.jsx)(e.strong,{children:"FAQ \u6c47\u603b"})})}),"\n",(0,r.jsx)(e.h2,{id:"\u683c\u5f0f\u8981\u6c42",children:(0,r.jsx)(e.strong,{children:"\u683c\u5f0f\u8981\u6c42:"})}),"\n",(0,r.jsx)(e.h3,{id:"\u95ee\u7b54\u7c7b",children:(0,r.jsx)(e.strong,{children:"\u95ee\u7b54\u7c7b"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e0d\u6d89\u53ca\u5177\u4f53\u65b9\u6848\u6b65\u9aa4\u548c\u6d41\u7a0b\u6027\u7684\u95ee\u9898\u53ef\u4ee5\u53c2\u8003\u5982\u4e0b\u683c\u5f0f\u3002"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\uff08\u4e0d\u6d89\u53ca\u5177\u4f53\u65b9\u6848\u548c\u6d41\u7a0b\u6027\u95ee\u9898\uff09",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\uff08\u5224\u65ad\u3001\u5bf9\u9519\u3001\u7b80\u8981\u77e5\u8bc6\u70b9\uff09"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u64cd\u4f5c\u7c7b",children:(0,r.jsx)(e.strong,{children:"\u64cd\u4f5c\u7c7b"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e00\u4e9b\u95ee\u9898\u6392\u67e5\uff0c\u6d89\u53ca\u5230\u95ee\u9898\u73b0\u8c61\u3001\u539f\u56e0\u5206\u6790\u3001\u89e3\u51b3\u65b9\u6848\u7b49\u5185\u5bb9\u7684 FAQ \u53ef\u4ee5\u53c2\u8003\u5982\u4e0b\u683c\u5f0f\u3002"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u7b80\u5355\u63cf\u8ff0\u9047\u5230\u7684\u95ee\u9898\u7684\u64cd\u4f5c\u3001\u6240\u7528\u8f6f\u4ef6\u7684\u7248\u672c\u3001\u62a5\u9519\u5173\u952e\u65e5\u5fd7\u3001\u9519\u8bef\u7801\u3001\u629b\u51fa\u7684\u5f02\u5e38\u7b49\u4fe1\u606f\uff0c\u65b9\u4fbf\u53c2\u8003\u53ca\u590d\u73b0\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u63cf\u8ff0\u53ef\u80fd\u5bfc\u81f4\u8be5\u95ee\u9898\u7684\u539f\u56e0\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u63cf\u8ff0\u89e3\u51b3\u8be5\u95ee\u9898\u7684\u65b9\u6cd5\u6216\u4e34\u65f6\u89c4\u907f\u624b\u6bb5\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u95ee\u9898\u4e4b\u95f4\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"---"})," \u8fdb\u884c\u5206\u5272\u3002"]}),"\n",(0,r.jsx)(e.h2,{id:"\u95ee\u7b54",children:(0,r.jsx)(e.strong,{children:"\u95ee\u7b54"})}),"\n",(0,r.jsx)(e.h3,{id:"\u77e5\u8bc6\u70b9",children:(0,r.jsx)(e.strong,{children:"\u77e5\u8bc6\u70b9"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u793e\u533a\u7248 OceanBase \u6570\u636e\u5e93\u652f\u6301 IPv6 \u7f51\u7edc\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5f53\u524d\u7248\u672c\u6682\u4e0d\u652f\u6301\uff0c\u9884\u8ba1 OceanBase \u6570\u636e\u5e93 4.2 \u7248\u672c\u652f\u6301\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\u652f\u6301\u54ea\u51e0\u79cd\u5907\u4efd\u4ecb\u8d28\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u76ee\u524d\u5df2\u652f\u6301 NFS\u3001\u963f\u91cc\u4e91 OSS\u3001\u817e\u8baf\u4e91 COS\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.0 \u7248\u672c\u89e6\u53d1\u5668\u3001\u5b58\u50a8\u8fc7\u7a0b\u3001\u81ea\u5b9a\u4e49\u51fd\u6570\u6700\u5927\u652f\u6301\u957f\u5ea6\u662f\u591a\u5c11\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u89e6\u53d1\u5668\u6700\u5927\u652f\u6301 65536 \u5b57\u8282\uff0c\u5b58\u50a8\u548c\u81ea\u5b9a\u4e49\u51fd\u6570 clob \u7c7b\u578b\u5b58\u50a8\uff0c\u57fa\u672c\u53ef\u7406\u89e3\u4e3a\u65e0\u4e0a\u9650\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u7684\u4e3b\u952e\u662f\u5426\u662f\u805a\u7c07\u7d22\u5f15\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u662f\u7684\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\u5982\u4f55\u8fdb\u884c rs \u5207\u4e3b\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"ALTER SYSTEM SWITCH REPLICA leader LS=1 SERVER='\u76ee\u6807ip:rpc_port' TENANT ='sys';"})," \u547d\u4ee4\u8fdb\u884c\u5207\u4e3b\uff0c\u793a\u4f8b\u5982\u4e0b\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"`ALTER SYSTEM SWITCH REPLICA leader LS=1 SERVER ='xx.xx.xx.xx:2882' TENANT ='sys';`\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u662f\u5426\u80fd\u53ea\u8fdb\u884c\u6570\u636e\u5907\u4efd\uff0c\u4e0d\u505a\u65e5\u5fd7\u5907\u4efd\u5462\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u8fdb\u884c\u6570\u636e\u5907\u4efd\u524d\u63d0\u662f\u5f00\u542f\u65e5\u5fd7\u5907\u4efd\uff0c\u4e0d\u652f\u6301\u53ea\u505a\u6570\u636e\u5907\u4efd\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4e3a\u4ec0\u4e48\u521a\u90e8\u7f72\u7684 OceanBase \u6570\u636e\u5e93\uff0c\u6570\u636e\u548c\u65e5\u5fd7\u78c1\u76d8\u5360\u7528 90%\uff0c\u6216\u8005\u5360\u7528\u5f88\u5927\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOceanBase \u6570\u636e\u5e93\u7684\u6570\u636e\u548c\u65e5\u5fd7\u76ee\u5f55\u91c7\u7528\u7684\u662f\u9884\u5360\u7528\u673a\u5236\uff0c\u53ea\u80fd\u52a8\u6001\u589e\u52a0\u5360\u7528\u5927\u5c0f\uff0c\u6682\u4e0d\u652f\u6301\u7f29\u5c0f\u3002\u4e0d\u8fc7 OceanBase \u6570\u636e\u5e93 4.1 \u7248\u672c\u652f\u6301 log_disk_size \u52a8\u6001\u6269\u7f29\u3002OceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\u78c1\u76d8\u9884\u5360\u7528\u76f8\u5173\u53c2\u6570\u4e3a\uff1a",(0,r.jsx)(e.br,{}),"\n","\u6570\u636e\u78c1\u76d8\uff1adatafile_size / datafile_disk_percentage",(0,r.jsx)(e.br,{}),"\n","\u65e5\u5fd7\u78c1\u76d8\uff1alog_disk_size / log_disk_percentage"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4e0b\u5212\u7ebf\u5f00\u5934\u683c\u5f0f\u7684\u53c2\u6570\u4e3a\u9690\u85cf\u53c2\u6570\uff0c\u65e0\u6cd5\u901a\u8fc7 SHOW PARAMETERS \u8bed\u53e5\u6765\u67e5\u8be2\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u67e5\u770b\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"`SELECT * FROM oceanbase.__all_virtual_sys_parameter_stat WHERE name='_ob_enable_prepared_statement';`\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5982\u4f55\u6e05\u7406\u79df\u6237\u5e76\u91ca\u653e\u7a7a\u95f4\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5148\u6267\u884c ",(0,r.jsx)(e.code,{children:"drop tenant xxx force;"})," \u547d\u4ee4\u5220\u9664\u79df\u6237\uff0c\u518d\u6267\u884c ",(0,r.jsx)(e.code,{children:"drop resource pool xxx;"})," \u547d\u4ee4\u5220\u9664\u5bf9\u5e94\u7684\u8d44\u6e90\u6c60\u3002",(0,r.jsx)(e.br,{}),"\n","\u4e24\u6761\u547d\u4ee4\u5747\u6210\u529f\u6267\u884c\u624d\u7b97\u91ca\u653e\u7a7a\u95f4\u3002\u4f46\u9700\u6ce8\u610f\u8be5\u64cd\u4f5c\u4f1a\u6e05\u7406\u79df\u6237\u4e0b\u7684\u6240\u6709\u6570\u636e\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aMySQL \u8fc1\u79fb\u5230 OceanBase \u6570\u636e\u5e93\u8fd8\u9700\u8981\u7528 ShardingSphere \u505a\u5206\u5e93\u5206\u8868\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4e0d\u9700\u8981\uff0cOceanBase \u6570\u636e\u5e93\u672c\u8eab\u652f\u6301\u5206\u533a\u8868\uff0c\u53ef\u4ee5\u901a\u8fc7\u5206\u533a\u8868\u8bbe\u8ba1\u4e1a\u52a1\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4e3b\u673a\u8d44\u6e90\u591f\u7684\u60c5\u51b5\u4e0b\uff0c\u591a\u4e2a Server \u53ef\u4ee5\u90e8\u7f72\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u624b\u52a8\u90e8\u7f72\u548c\u4f7f\u7528 OBD \u90e8\u7f72\u5747\u652f\u6301\u8be5\u573a\u666f\uff0c\u4f7f\u7528 OCP \u90e8\u7f72\u4e0d\u652f\u6301\u8be5\u573a\u666f\u3002\u5982\u679c\u4f7f\u7528 OBD \u5de5\u5177\u90e8\u7f72\u9700\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"obd cluster deploy"})," \u547d\u4ee4\u4fee\u6539\u7aef\u53e3\u548c\u5b89\u88c5\u76ee\u5f55\u3002\u4f46\u751f\u4ea7\u73af\u5883\u4e0d\u5efa\u8bae\u5982\u6b64\u90e8\u7f72\uff0c\u5355\u670d\u52a1\u5668\u5355 observer \u8fdb\u7a0b\u6700\u4f73\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4f7f\u7528 OBD \u90e8\u7f72\u793e\u533a\u7248\u4e09\u8282\u70b9\u96c6\u7fa4\uff0c\u5fc5\u987b\u4f7f\u7528 admin \u7528\u6237\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u975e\u5f3a\u5236\u8981\u6c42\uff0c\u4f46\u662f\u5efa\u8bae\u4f7f\u7528 admin \u7528\u6237\u90e8\u7f72\uff0c\u540e\u671f OCP \u63a5\u7ba1\u7684\u96c6\u7fa4\u9700\u8981\u662f\u4f7f\u7528 admin \u7528\u6237\u90e8\u7f72\u7684 OceanBase \u6570\u636e\u5e93\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4f7f\u7528 OceanBase \u6570\u636e\u5e93\u793e\u533a\u7248 3.x \u90e8\u7f72\u4e00\u4e2a\u8bfb\u5199\u5206\u79bb\u7684\u96c6\u7fa4\u65f6\uff0c\u53ef\u4ee5\u90e8\u7f72 4 \u4e2a Zone\uff0c\u5176\u4e2d 3 \u4e2a Zone \u662f\u5168\u80fd\u578b\u526f\u672c\uff0c\u4e00\u4e2a Zone \u662f\u53ea\u8bfb\u7684\u526f\u672c\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5efa\u8bae Zone \u7684\u6570\u91cf\u6700\u597d\u662f\u5947\u6570\uff0c\u4ee5 3 \u4e2a Zone \u6216 5 \u4e2a Zone \u4e3a\u4e3b\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u624b\u52a8\u90e8\u7f72\u7684 OceanBase \u6570\u636e\u5e93\u53ef\u4ee5\u7528 OBD \u7ba1\u7406\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4e0d\u652f\u6301\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOMS \u53ef\u4ee5\u642d\u5efa\u96c6\u7fa4\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u76ee\u524d\u793e\u533a\u7248 OMS 3.3.1 \u7248\u672c\u652f\u6301\u96c6\u7fa4\u5316\u90e8\u7f72\uff0c\u4f4e\u4e8e\u6b64\u7248\u672c\u4e0d\u652f\u6301\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u793e\u533a\u7248 MySQL \u6a21\u5f0f\u7684 JDBC \u9a71\u52a8\u5728\u54ea\u4e0b\u8f7d\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5982\u679c\u4f7f\u7528 OceanBase \u6570\u636e\u5e93\u7684 MySQL \u6a21\u5f0f\uff0c\u63a8\u8350\u4f7f\u7528 MySQL JDBC \u9a71\u52a8 5.1.47 \u7248\u672c\u3002",(0,r.jsx)(e.br,{}),"\n","\u5982\u679c\u4f7f\u7528\u4f01\u4e1a\u7248 OceanBase \u6570\u636e\u5e93\u7684 Oracle \u6a21\u5f0f\uff0c\u53ef\u4ece ",(0,r.jsx)(e.a,{href:"https://central.sonatype.com/artifact/com.oceanbase/oceanbase-client/2.4.3",children:"Maven \u4e2d\u592e\u4ed3\u5e93"})," \u4e0b\u8f7d\u7684 OceanBase \u6570\u636e\u5e93\u7684 JDBC \u9a71\u52a8\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4f7f\u7528 SpringBoot \u8fde\u63a5 OceanBase \u6570\u636e\u5e93\u7684\u6b63\u786e\u5199\u6cd5\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u4ee5\u53c2\u8003 MySQL \u8fde\u63a5\u65b9\u5f0f\uff0c\u533a\u522b\u5728\u4e8e\u901a\u8fc7\u76f4\u8fde OBServer \u8282\u70b9\u8fde\u63a5\u65f6 username \u5199\u6cd5\u662f\u7528\u6237\u540d@\u79df\u6237\u540d\uff0c\u901a\u8fc7 OBProxy \u4ee3\u7406\u8fde\u63a5\u65f6 username \u5199\u6cd5\u662f\u7528\u6237\u540d@\u79df\u6237\u540d#\u96c6\u7fa4\u540d\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOBD \u90e8\u7f72\u5931\u8d25\uff0c\u600e\u4e48\u6e05\u7406\u914d\u7f6e\u548c\u76ee\u5f55\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a2 \u79cd\u65b9\u5f0f\uff1a",(0,r.jsx)(e.br,{}),"\n","1\uff09\u547d\u4ee4\u65b9\u5f0f\uff1a`obd cluster destory \u90e8\u7f72\u540d\u79f0\uff0c\u9500\u6bc1\u4f1a\u6e05\u7406\u76f8\u5173\u76ee\u5f55\u3002",(0,r.jsx)(e.br,{}),"\n","2\uff09\u540e\u53f0\u65b9\u5f0f\uff1a\u6740\u6389\u6240\u90e8\u7f72\u7ec4\u4ef6\u76f8\u5173\u8fdb\u7a0b\uff08ps -ef|grep observer\uff09\uff0c\u6309\u90e8\u7f72\u914d\u7f6e\u6587\u4ef6\u91cc\u914d\u7f6e\u8def\u5f84\u5220\u9664\u5b89\u88c5\u3001\u6570\u636e\u3001\u65e5\u5fd7\u76ee\u5f55\uff0c\u5e76\u68c0\u67e5\u76ee\u5f55\u6240\u5c5e\u7528\u6237\u6743\u9650\u662f\u5426\u6b63\u786e\u5373\u53ef\u91cd\u65b0\u90e8\u7f72\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOCP \u7684 Docker \u5bb9\u5668\u662f\u5426\u4e3a\u65e0\u72b6\u6001\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u65e0\u72b6\u6001\uff0c\u6570\u636e\u4fdd\u7559\u5728\u90e8\u7f72\u5728\u5bbf\u4e3b\u673a\u4e0a\u7684 metadb\uff08\u5355\u673a/\u96c6\u7fa4 OceanBase \u6570\u636e\u5e93\uff09\u4e2d\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5185\u90e8\u8868\u548c\u5185\u90e8\u865a\u62df\u8868\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5185\u90e8\u8868\u4e00\u822c\u6307\u7cfb\u7edf\u8868\uff0c\u865a\u62df\u8868\u53ea\u662f\u7cfb\u7edf\u8868\u4e2d\u7684\u4e00\u90e8\u5206\uff0cID \u53f7\u4ecb\u4e0e 10000~20000 \u4e4b\u95f4\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5907\u4efd\u6570\u636e\u65f6\u5019\uff0c\u9700\u8981\u6bcf\u4e2a OBServer \u8282\u70b9\u90fd\u6302\u8f7d NFS \u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u662f\u7684\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5907\u4efd\u53ef\u4ee5\u5907\u4efd\u5355\u4e2a\u79df\u6237\u7684\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOceanBase \u6570\u636e\u5e93 3.x \u7248\u672c\u53ea\u652f\u6301\u96c6\u7fa4\u5907\u4efd\uff0c4.0 \u7248\u672c\u8d77\u652f\u6301\u79df\u6237\u7ea7\u522b\u5907\u4efd\uff0c\u4e14\u4e0d\u518d\u652f\u6301\u96c6\u7fa4\u7ea7\u522b\u5907\u4efd\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u526f\u672c\u4fdd\u6301\u540c\u6b65\u662f\u901a\u8fc7\u540c\u6b65 clog \u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u662f\u7684\uff0c\u4ee5\u5206\u533a\u4e3a\u5355\u4f4d\u505a clog \u526f\u672c\u540c\u6b65\uff0c\u53ea\u6709\u5206\u533a\u7684\u4e3b\u526f\u672c\u624d\u80fd\u8fdb\u884c\u66f4\u65b0\uff0c\u5982\u679c\u6709\u591a\u4e2a\u5206\u533a\u7684\u4e3b\u526f\u672c\u540c\u65f6\u5728\u66f4\u65b0\uff0c\u4ecd\u7136\u4ee5\u5206\u533a\u4e3a\u5355\u4f4d\u505a Paxos \u540c\u6b65\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u793e\u533a\u7248 OceanBase \u6570\u636e\u5e93\u600e\u4e48\u67e5\u770b\u54ea\u4e9b\u8868\u662f\u590d\u5236\u8868\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a3.x \u7248\u672c\u4e2d\u901a\u8fc7\u6240\u793a\u547d\u4ee4\u67e5\u770b\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"`select table_name from  oceanbase.__all_table_v2 where duplicate_scope=1;`\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.0 \u7248\u672c\u4e2d\uff0cCDB \u5f00\u5934\u7684\u89c6\u56fe\u3001DBA \u5f00\u5934\u7684\u89c6\u56fe\u3001GV \u5f00\u5934\u7684\u89c6\u56fe\uff0c\u8fd9\u4e9b\u662f\u4ec0\u4e48\u89c4\u5219\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aCBD \u5f00\u5934\u7684\u662f sys \u79df\u6237\u7684\u89c6\u56fe\uff0c\u80fd\u770b\u5230\u5168\u5c40\u7684\u4fe1\u606f\u3002DBA \u5f00\u5934\u7684\u89c6\u56fe\u53ea\u80fd\u770b\u5230\u79df\u6237\u81ea\u5df1\u7684\u4fe1\u606f\u3002gv$ \u4e00\u822c\u548c v$ \u4e00\u8d77\uff0c\u76f4\u8fde\u6570\u636e\u5e93\u8282\u70b9\u7684\u65f6\u5019\uff0cv$ \u53ea\u80fd\u770b\u5230\u672c\u673a\u5668\uff0cgv$ \u662f\u6240\u6709\u673a\u5668\u8282\u70b9\u7684\u4fe1\u606f\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.0 \u7248\u672c\uff0c\u666e\u901a\u7528\u6237\u79df\u6237\u67e5\u770b\u81ea\u5df1\u79df\u6237\u4e0b\u6240\u6709\u7684\u8868\uff0c\u8be5\u67e5\u54ea\u4e2a\u89c6\u56fe\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5148\u6267\u884c ",(0,r.jsx)(e.code,{children:"select distinct(OBJECT_TYPE) from DBA_OBJECTS;"})," \u547d\u4ee4\u67e5\u8be2\u8868\u7c7b\u578b\u3002",(0,r.jsx)(e.br,{}),"\n","\u540e\u6267\u884c ",(0,r.jsx)(e.code,{children:"select OBJECT_NAME from DBA_OBJECTS where OBJECT_TYPE='table' ;"})," \u547d\u4ee4\u6839\u636e\u8868\u7c7b\u578b\u67e5\u8868\u540d\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster list"})," \u547d\u4ee4\u663e\u793a\u72b6\u6001\u4e3a ",(0,r.jsx)(e.code,{children:"destroyed"}),"\u7684\u96c6\u7fa4\u600e\u4e48\u6e05\u7406\u5220\u9664\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1acd ~/.obd/cluster\uff0c\u5220\u9664\u96c6\u7fa4\u5bf9\u5e94\u7684 Name \u76ee\u5f55\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u793e\u533a\u7248 OCP \u5f00\u6e90\u7684\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u76ee\u524d\u5de5\u5177\u5f00\u653e\u4f9b\u4e0b\u8f7d\u4f7f\u7528\uff0c\u4e0d\u5f00\u6e90\uff0c\u540e\u7eed\u8f7b\u91cf\u7248 OCPExpress \u4f1a\u8003\u8651\u5f00\u6e90\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1ahint \u4e2d\u7684 NO_USE_PX \u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aNO_USE_PX \u6307\u7684\u662f\u5173\u95ed\u5e76\u884c\u67e5\u8be2\u3002OceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\u6682\u4e0d\u652f\u6301\u5173\u95ed\u5e76\u884c\u67e5\u8be2\u529f\u80fd\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aX86 \u7248\u672c OCP \u662f\u5426\u652f\u6301\u63a5\u7ba1 ARM \u7248\u672c\u7684 OceanBase \u6570\u636e\u5e93\u96c6\u7fa4\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4e0d\u652f\u6301\u6df7\u5408\u63a5\u7ba1\u548c\u90e8\u7f72\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u652f\u6301 openeuler(\u6b27\u62c9)\u90e8\u7f72\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6682\u672a\u8fdb\u884c\u517c\u5bb9\u9002\u914d\uff0c\u80fd\u90e8\u7f72\u4f46\u4e0d\u4fdd\u8bc1\u8fd0\u884c\u540e\u529f\u80fd\u53ef\u9760\u6027\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u4e00\u4e2a\u8868\u7684\u5206\u533a\u5927\u5c0f\u662f\u5426\u6709\u63a8\u8350\u5927\u5c0f\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOceanBase \u6570\u636e\u5e93\u5bf9\u5206\u533a\u5927\u5c0f\u672a\u505a\u9650\u5236\uff0c\u4e00\u822c\u5efa\u8bae\u4e00\u4e2a\u5206\u533a\u5927\u5c0f\u4e0d\u8981\u8d85\u8fc7 100G\uff0c\u5206\u533a\u5927\u5c0f\u4e5f\u53ef\u4ee5\u6309\u7167\u78c1\u76d8\u7a7a\u95f4\u548c\u5206\u533a\u6570\u9884\u4f30\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aproxy_sessid \u548c server_sessid \u4e4b\u95f4\u7684\u5173\u7cfb\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aproxy_sessid \u552f\u4e00\u6807\u8bc6\u5ba2\u6237\u7aef\u548c OBProxy \u4e4b\u95f4\u7684\u8fde\u63a5\uff0cserver_sessid \u552f\u4e00\u6807\u8bc6 OBPrxoy \u548c OBServer \u4e4b\u95f4\u7684\u8fde\u63a5\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOBClient \u662f\u4e0d\u662f\u6ca1\u6709 ubuntu/debian \u7cfb\u7edf\u7684\u7248\u672c\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6682\u4e0d\u652f\u6301\uff0c\u53ef\u4f7f\u7528 MySQL \u5ba2\u6237\u7aef\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u793e\u533a\u7248 OMS \u662f\u5426\u652f\u6301\u5c06 MySQL \u6570\u636e\u5e93\u6570\u636e\u8fc1\u79fb\u5230\u4f01\u4e1a\u7248 OceanBase \u6570\u636e\u5e93\u7684 MySQL \u79df\u6237\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4e0d\u652f\u6301\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.0 \u7248\u672c\u600e\u4e48\u67e5\u770b\u9501\u548c\u4e8b\u52a1\u7684\u4fe1\u606f\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u5728 DBA_OB_DEADLOCK_EVENT_HISTORY \u4e2d\u67e5\u770b\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u600e\u4e48\u67e5\u79df\u6237\u8868\u5360\u7528\u78c1\u76d8\u7a7a\u95f4\u5927\u5c0f\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4ec5\u67e5\u8be2\u57fa\u7ebf\u6570\u636e\u7684\uff0c\u8f6c\u50a8\u5408\u5e76\u540e\u80fd\u770b\u5230\u6700\u65b0\u7684\u5360\u7528\u5927\u5c0f",(0,r.jsx)(e.br,{}),"\n","OceanBase \u6570\u636e\u5e93 3.x \u7248\u672c\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"select tenant_id, svr_ip, unit_id, table_id, sum(data_size)/1024/1024/1024 size_G from __all_virtual_meta_table group by 1, 2, 3, 4;"})," \u547d\u4ee4\u3002",(0,r.jsx)(e.br,{}),"\n","OceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"select sum(size)/1024/1024/1024 from  (select DATABASE_NAME,TABLE_NAME,TABLE_ID,PARTITION_NAME,TABLET_ID,ROLE from DBA_OB_TABLE_LOCATIONS ) AA full join   (select distinct(TABLET_ID) ,size from  oceanbase.GV$OB_SSTABLES ) BB on AA.TABLET_ID=BB.TABLET_ID  where  AA.role='leader' and AA.table_name='table_name';"})," \u547d\u4ee4\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.0 \u7248\u672c TRUNCATE TABLE \u652f\u6301\u6307\u5b9a\u5206\u533a\u6e05\u9664\u6570\u636e\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u652f\u6301\uff0c\u5177\u4f53\u6e05\u7406\u5206\u533a\u7c7b\u578b\u53c2\u89c1\u5b98\u7f51 OceanBase \u6570\u636e\u5e93\u6587\u6863 ",(0,r.jsx)(e.a,{href:"https://www.oceanbase.com/docs/community-observer-cn-10000000000901598",children:"Truncate \u5206\u533a"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOBD \u548c OBProxy \u80fd\u548c OceanBase \u96c6\u7fa4\u90e8\u7f72\u5728\u4e00\u8d77\u4e48\uff1f\u6709\u4ec0\u4e48\u6027\u80fd\u5f71\u54cd\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u4ee5\uff0cOBD \u548c OBProxy \u5360\u7528\u8d44\u6e90\u5f88\u5c11\uff0c\u4e1a\u52a1\u91cf\u6216\u8005\u8282\u70b9\u6570\u4e0d\u5927\u60c5\u51b5\u4e0b\uff0c\u51e0\u4e4e\u6ca1\u4ec0\u4e48\u6027\u80fd\u5f71\u54cd\u3002\u5982\u679c\u662f\u5927\u89c4\u6a21\u751f\u4ea7\u73af\u5883\u5efa\u8bae\u5355\u72ec\u8282\u70b9\u90e8\u7f72 OBProxy\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aPHP \u600e\u4e48\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a[",(0,r.jsx)(e.a,{href:"https://github.com/oceanbase/oceanbase/issues/841%5D%E3%80%82",children:"https://github.com/oceanbase/oceanbase/issues/841]\u3002"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster destory"})," \u547d\u4ee4\u9500\u6bc1\u96c6\u7fa4\u540e\u80fd\u5426\u518d\u6062\u590d\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4e0d\u80fd\uff0c\u8be5\u64cd\u4f5c\u76f4\u63a5\u5220\u9664\u7269\u7406\u6570\u636e\u6587\u4ef6\uff0c\u5982\u679c\u5b58\u5728\u5907\u4efd\u6587\u4ef6\uff0c\u53ef\u4ee5\u65b0\u5efa\u96c6\u7fa4\u5907\u4efd\u6062\u590d\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1amysql-connector-java \u7684 8.x \u7248\u672c\u600e\u4e48\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4f7f\u7528 MySQL Connector/J 8.x \u7248\u672c\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\u65f6\uff0c",(0,r.jsx)(e.code,{children:'Class.forName("com.mysql.jdbc.Driver")'})," \u4e2d\u7684 com.mysql.jdbc.Driver \u9700\u8981\u66ff\u6362\u6210 com.mysql.cj.jdbc.Driver\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u662f\u5426\u6709 JDBC \u8fde\u63a5 OceanBase \u6570\u636e\u5e93\u7684\u914d\u7f6e\u793a\u4f8b\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a",(0,r.jsx)(e.code,{children:"conn=jdbc:oceanbase://x.x.x.x(ip):xx(port)/xxxx(dbname)?rewriteBatchedStatements=TRUE&allowMultiQueries=TRUE&useLocalSessionState=TRUE&useUnicode=TRUE&characterEncoding=utf-8&socketTimeout=3000000&connectTimeout=60000"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u793e\u533a\u7248 OCP \u652f\u6301 RHEL8 \u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u652f\u6301 RHEL7.2 \u53ca\u4ee5\u4e0a\u7248\u672c\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u662f\u5426\u652f\u6301\u4e3b\u952e\u4fee\u6539\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a3.x \u7248\u672c\u4e0d\u652f\u6301\uff0c4.x \u7248\u672c\u652f\u6301\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aDatax \u7684 ob writer \u91cc obWriteMode \u652f\u6301 insert ignore \u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4e0d\u652f\u6301\uff0c\u53ef\u4ee5\u91c7\u7528 insert into \u6216\u8005 replace into \u6216\u8005 ON DUPLICATE KEY UPDATE \u8bed\u53e5\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5982\u4f55\u67e5\u770b\u6240\u6709\u7684 SQL \u8bb0\u5f55\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\nOceanBase \u6570\u636e\u5e93 3.x \u7248\u672c\u53ef\u901a\u8fc7 SQL \u5ba1\u8ba1\u89c6\u56fe gv$sql_audit \u67e5\u770b\u3002\nOceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\u53ef\u901a\u8fc7 SQL \u5ba1\u8ba1\u89c6\u56fe gv$ob_sql_audit \u67e5\u770b\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.0 \u7248\u672c\u5408\u5e76\u8868\u4fe1\u606f\u662f\u54ea\u4e9b\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1amajor freeze \u76f8\u5173\u7684\u4fe1\u606f\u653e\u5230\u4e86 **all_merge_info\uff08\u7528\u4e8e\u5b58\u653e\u79df\u6237\u5408\u5e76\u7684\u6574\u4f53 merge \u4fe1\u606f\uff09\u3001**all_zone_merge_info\uff08\u7528\u4e8e\u5b58\u653e\u79df\u6237\u4e0b\u6bcf\u4e2a Zone \u7684 merge \u4fe1\u606f\uff09\u8868\u4e2d\u3002",(0,r.jsx)(e.br,{}),"\n","**all_merge_info \u8868\u4e2d\u6709\u5408\u5e76\u7248\u672c\u53f7\u3001\u5408\u5e76\u72b6\u6001\u3001\u662f\u5426\u53d1\u751f\u4e86 error \u7b49\u4fe1\u606f\u3002\n\u9664\u4e86 sys \u79df\u6237\u5916\uff0c\u6bcf\u4e2a\u7528\u6237\u79df\u6237\u5bf9\u5e94\u7684 meta \u79df\u6237\u4e0b\u90fd\u6709\u8fd9\u4e24\u5f20\u8868\uff0c\u7528\u4e8e\u4fdd\u5b58\u8be5\u7528\u6237\u79df\u6237\u548c meta \u79df\u6237\u7684 merge \u4fe1\u606f\u3002\u4e5f\u53ef\u4ee5\u5728 sys \u79df\u6237\u4e0b\u901a\u8fc7\u67e5\u770b ",(0,r.jsx)(e.code,{children:"CDB_OB_MAJOR_COMPACTION"})," \u6765\u67e5\u770b\u6240\u6709\u79df\u6237\u7684 **all_merge_info \u4fe1\u606f\uff0c\u901a\u8fc7\u67e5\u770b ",(0,r.jsx)(e.code,{children:"CDB_OB_ZONE_MAJOR_COMPACTION"})," \u6765\u67e5\u770b\u6240\u6709\u79df\u6237\u7684 __all_zone_merge_info \u4fe1\u606f\u3002",(0,r.jsx)(e.br,{}),"\n","OceanBase \u6570\u636e\u5e93 4.0 \u652f\u6301\u5bf9\u6bcf\u4e2a\u79df\u6237\u5355\u72ec\u8bbe\u7f6e\u5408\u5e76\u65f6\u95f4\u70b9\uff0c\u76f8\u5173\u914d\u7f6e\u9879\u4e3a major_freeze_duty_time\uff0c\u7cfb\u7edf\u79df\u6237\u4e0b\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"alter system set major_freeze_duty_time = 'xxx' tenant sys;"})," \u8bed\u53e5\u8bbe\u7f6e\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.0 \u7248\u672c\u4e3a\u4ec0\u4e48\u53d6\u6d88\u4e86\u8f6e\u8f6c\u5408\u5e76\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a4.0 \u7248\u672c\u5c06\u5408\u5e76\u62c6\u5206\u6210\u4e86\u79df\u6237\u7ea7\uff0c\u7c92\u5ea6\u66f4\u5c0f\uff0c\u6267\u884c\u65f6\u95f4\u66f4\u77ed\uff0c\u56e0\u6b64\u53d6\u6d88\u4e86\u8f6e\u8f6c\u5408\u5e76\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5982\u4f55\u624b\u52a8\u6740\u6389\u6b63\u5728\u6267\u884c SQL\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6267\u884c ",(0,r.jsx)(e.code,{children:"show processlist;"})," \u547d\u4ee4\u67e5\u770b ID \u540e\u6267\u884c ",(0,r.jsx)(e.code,{children:"kill $ID;"})," \u547d\u4ee4\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u600e\u4e48\u67e5\u770b OceanBase \u6570\u636e\u5e93\u7248\u672c?",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6709\u591a\u79cd\u65b9\u5f0f\u67e5\u770b\uff0c\u4f8b\u5982\uff1a"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"selecet version();"}),"\n",(0,r.jsx)(e.li,{children:"SELECT * FROM DBA_OB_SERVERS; -- \u63a8\u8350"}),"\n",(0,r.jsx)(e.li,{children:"\u5b89\u88c5\u7a0b\u5e8f\u76ee\u5f55 ./bin/observer --version -- \u63a8\u8350"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u6709\u54ea\u4e9b\u5185\u5b58\u533a\u57df?",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOceanBase \u6570\u636e\u5e93\u4e2d\u4e3b\u8981\u6709\u4ee5\u4e0b\u5185\u5b58\u533a\u57df\uff1a"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"kv cache\uff1aLSM-Tree \u4e2d SSTable \u53ca\u6570\u636e\u5e93\u8868\u6a21\u5f0f\u7b49\u7684\u7f13\u5b58\u3002"}),"\n",(0,r.jsx)(e.li,{children:"memory store\uff1aLSM-Tree \u4e2d\u7684 MemStore \u7684\u5185\u5b58\u3002"}),"\n",(0,r.jsx)(e.li,{children:"sql work area\uff1a\u79df\u6237\u6267\u884c SQL \u8fc7\u7a0b\u4e2d\u5404\u4e2a Operator \u5de5\u4f5c\u533a\u5360\u7528\u7684\u5185\u5b58\uff0c\u8d85\u51fa\u90e8\u5206\u901a\u5e38\u4f1a\u8d70\u843d\u76d8\u6d41\u7a0b\u3002"}),"\n",(0,r.jsx)(e.li,{children:"system memory\uff1a\u9884\u7559\u7ed9 Net IO\u3001Disk IO\u3001Election \u4e0e\u8d1f\u8f7d\u5747\u8861\u7b49\u5404\u79cd\u529f\u80fd\u7684\u5185\u5b58\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u7684\u8d44\u6e90\u5728\u79df\u6237\u4e2d\u54ea\u4e9b\u662f\u5171\u4eab\u7684\uff0c\u54ea\u4e9b\u662f\u4e0d\u5171\u4eab\u7684\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5bf9\u5185\u5b58\u800c\u8a00\uff0csql work area\u3001memory store \u4e0e kv cache \u7b49\u8d44\u6e90\u4e3a\u79df\u6237\u72ec\u4eab\uff1bsystem memory \u4e3a\u591a\u4e2a\u79df\u6237\u5171\u4eab\u3002\u5bf9\u7ebf\u7a0b\u800c\u8a00\uff0csql worker \u4e3a\u79df\u6237\u95f4\u9694\u79bb\uff1bNet IO\u3001Disk IO \u4e0e Clog Writer \u7b49\u8d44\u6e90\u4e3a\u79df\u6237\u95f4\u4e0d\u9694\u79bb\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u7684\u5185\u5b58\u4f7f\u7528\u6709\u4ec0\u4e48\u7279\u5f81\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOceanBase \u6570\u636e\u5e93\u5728\u542f\u52a8\u65f6\u4f1a\u9700\u8981\u52a0\u8f7d\u5927\u7ea6\u51e0\u4e2a GB \u7684\u5185\u5b58\uff0c\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4f1a\u9010\u6e10\u6309\u9700\u8fdb\u4e00\u6b65\u7533\u8bf7\u5185\u5b58\u76f4\u81f3 memory_limit\u3002\u800c\u4e00\u65e6 OBServer \u8282\u70b9\u5411 OS \u8fdb\u884c\u4e86\u5185\u5b58\u7533\u8bf7\uff0c\u901a\u5e38\u662f\u4e0d\u4f1a\u91ca\u653e\u6216\u8005\u8fd4\u56de\u7ed9 OS\uff0c\u800c\u662f\u4f1a\u7ef4\u62a4\u5728\u5185\u5b58\u7ba1\u7406\u7684\u4f7f\u7528\u5217\u8868\u548c Free List \u5f53\u4e2d\u3002\u8fd9\u4e2a\u662f OceanBase \u6570\u636e\u5e93\u8bbe\u8ba1\u4e0a\u6240\u5efa\u7acb\u7684\u5185\u5b58\u7ba1\u7406\u673a\u5236\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u8fd0\u884c\u4e00\u6bb5\u65f6\u95f4\u540e\uff0cOceanBase \u6570\u636e\u5e93\u4f7f\u7528\u5185\u5b58\u63a5\u8fd1 memory_limit \u662f\u5426\u6b63\u5e38\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5728 OceanBase \u6570\u636e\u5e93\u7684\u96c6\u7fa4\u8fd0\u884c\u4e00\u6bb5\u65f6\u95f4\u4ee5\u540e\uff0c\u5185\u5b58\u6d88\u8017\u63a5\u8fd1\u4e8e memory_limit \u6c34\u5e73\u4f4d\u7f6e\uff0c\u4e14\u4e0d\u53d1\u751f\u964d\u4f4e\u7684\u73b0\u8c61\u662f\u7b26\u5408\u9884\u671f\u7684\u3002 \u6709\u4e00\u4e2a\u4f8b\u5916\u662f\u82e5\u8bbe\u7f6e\u4e86\u53c2\u6570 memory_chunk_cache_size\uff0cOBServer \u8282\u70b9\u4f1a\u5c1d\u8bd5\u5c06 Free List \u8d85\u8fc7 memory_chunk_cache_size \u7684\u5185\u5b58\u5757\u8fd8\u7ed9 OS\uff0c\u589e\u5927 Free List \u5728 OceanBase \u6570\u636e\u5e93\u5185\u90e8\u7684\u590d\u7528\u7387\uff0c\u51cf\u5c11 RPC \u7531\u4e8e\u5185\u5b58\u64cd\u4f5c\u6162\u800c\u5bfc\u81f4\u8d85\u65f6\u7684\u98ce\u9669\u3002\u901a\u5e38\u60c5\u51b5\u662f\u4e0d\u9700\u8981\u914d\u7f6e memory_chunk_cache_size \u7684\uff0c\u5728\u7279\u5b9a\u7684\u573a\u666f\u4e0b\u9700\u8981\u4e0e OceanBase \u6570\u636e\u5e93 \u652f\u6301\u8fdb\u884c\u573a\u666f\u5206\u6790\u786e\u5b9a\u662f\u5426\u9700\u8981\u52a8\u6001\u8c03\u6574 memory_chunk_cache_size\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOBServer \u8282\u70b9\u7684\u5185\u5b58\u4e0a\u9650\u662f\u5426\u53ef\u4ee5\u52a8\u6001\u8c03\u6574\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOBServer \u8282\u70b9\u7684\u5185\u5b58\u4e0a\u9650\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574 memory_limit \u6216 memory_limit_percentage \u6765\u52a8\u6001\u5b9e\u73b0\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u8c03\u6574\u524d\u8981\u68c0\u67e5\u5185\u5b58\u8d44\u6e90\u662f\u5426\u591f\u7528\uff0cOBServer \u8282\u70b9\u5185\u5b58\u4e0a\u9650\u76ee\u6807\u662f\u5426\u5df2\u7ecf\u4f4e\u4e8e\u4e86\u6240\u6709\u79df\u6237\u4ee5\u53ca 500 \u79df\u6237\u7684\u5185\u5b58\u5206\u914d\uff08\u79df\u6237\u5efa\u7acb\u65f6\u5206\u914d\uff09\u7684\u603b\u548c\u3002memory_limit \u7684\u5355\u4f4d\u662f MB\uff0c\u4f8b\u5982\uff0c\u5982\u679c\u9700\u8981\u901a\u8fc7\u8c03\u6574 memory_limit \u53c2\u6570\u6765\u8c03\u6574 OBServer \u8282\u70b9\u5185\u5b58\u4e0a\u9650\u4e3a 64G\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bed\u53e5 memory_limit ='64G' \u6216\u8005\u901a\u8fc7 memory_limit = 65536 \u6765\u6307\u5b9a\u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u5728\u4f7f\u7528 OBServer \u8282\u70b9\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u901a\u8fc7 memory_limit \u6765\u9650\u5236 OBServer \u8282\u70b9\u5185\u5b58\u7684\u751f\u6548\u53c2\u6570\u3002\u82e5\u5c06 memory_limit \u8bbe\u7f6e\u4e3a 0\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7 memory_limit_percentage \u4ee5\u6bd4\u4f8b\u7684\u5f62\u5f0f\u66f4\u7075\u6d3b\u5730\u7ea6\u675f OBServer \u8282\u70b9\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5728\u4f7f\u7528 OceanBase \u6570\u636e\u5e93\u5b9a\u4e49\u8d44\u6e90\u5355\u5143\u4ee5\u53ca\u8d44\u6e90\u6c60\u65f6\u662f\u5426\u5141\u8bb8\u5185\u5b58\u8d85\u5356\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5728\u4f7f\u7528 OceanBase \u6570\u636e\u5e93\u5b9a\u4e49\u8d44\u6e90\u5355\u5143\u4ee5\u53ca\u8d44\u6e90\u6c60\u65f6, Root Service \u8d1f\u8d23\u5206\u914d\u8d44\u6e90\uff08Unit\uff09\u3002Root Service \u5728\u5206\u914d Unit \u7684\u65f6\u5019\u4f1a\u6839\u636e resource_hard_limit \u6765\u51b3\u5b9a\u5185\u5b58\u662f\u5426\u53ef\u4ee5\u8d85\u5356 (resource_hard_limit \u8868\u793a\u5185\u5b58\u8d85\u5356\u7684\u767e\u5206\u6bd4\uff0c\u5927\u4e8e 100 \u8868\u793a\u5141\u8bb8\u8d85\u5356)\uff0cRoot Service \u518d\u5177\u4f53\u5206\u914d\u8d44\u6e90\u7684\u65f6\u5019\u8fd8\u4f1a\u6309\u7167 Unit \u672c\u8eab\u5b9a\u4e49\u7684\u8d44\u6e90\u5355\u4f4d\u6765\u8fdb\u884c\u5206\u914d\u3002 \u4f46\u662f\u5728\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u8d44\u6e90\u76f8\u5bf9\u6765\u8bf4\u6bd4\u8f83\u7d27\u5f20\uff0c\u7cfb\u7edf\u4e0d\u540c\u7684\u79df\u6237\u8d1f\u8f7d\u53ef\u4ee5\u6709\u63a7\u5236\u5730\u4ea4\u9519\u8fd0\u884c\uff0c\u914d\u7f6e\u79df\u6237\u65f6\u6709\u53ef\u80fd\u4f1a\u5bf9 CPU \u8d44\u6e90\u8fdb\u884c\u8d85\u5356\u3002\u5982\u679c CPU \u8d85\u5356\u751f\u6548\uff0cOceanBase \u96c6\u7fa4\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4f1a\u4ea7\u751f\u8d1f\u8f7d\u8fc7\u8f7d\u7b49\u60c5\u51b5\uff0c\u90a3\u4e48\u4e0d\u540c\u79df\u6237\u95f4\u4f1a\u4ea7\u751f\u7ebf\u7a0b\u7ade\u4e89 CPU \u7684\u73b0\u8c61\uff0c\u76f4\u63a5\u5bfc\u81f4\u7684\u7ed3\u679c\u662f\u79df\u6237\u5b9e\u9645\u4e1a\u52a1\u573a\u666f\u53d8\u6162\u3002\u82e5\u662f\u5185\u5b58\u914d\u7f6e\u6210\u8d85\u5356\u573a\u666f\uff0c\u867d\u7136\u5728\u521b\u5efa\u79df\u6237\u65f6\u79df\u6237\u89c4\u683c\u603b\u548c\u53ef\u4ee5\u8d85\u8fc7 memory_limit\uff0c\u4f46\u5b9e\u9645\u4f7f\u7528\u65f6 OceanBase \u6570\u636e\u5e93\u7684\u5185\u5b58\u4f7f\u7528\u8fd8\u662f\u4f1a\u53d7\u5230 memory_limit \u7ea6\u675f\u3002\u6bd4\u5982\u5728\u8fd0\u884c\u4e2d\u7684\u79df\u6237\u6d88\u8017\u7684\u5185\u5b58\u603b\u548c\u5c06\u8981\u8d85\u8fc7 memory_limit\uff0c\u79df\u6237\u4f1a\u62a5\u5185\u5b58\u8d85\u9650\u95ee\u9898\u751a\u81f3\u8fdb\u7a0b\u76f4\u63a5 OOM\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4f7f\u7528 OceanBase \u6570\u636e\u5e93\u5728\u5f00\u53d1\u4e2d\u8981\u7279\u522b\u6ce8\u610f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4ee5\u4e0b\u5217\u51fa\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u7684\u6ce8\u610f\u4e8b\u9879\uff0c\u4ec5\u4f9b\u53c2\u8003\uff1a"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u5927\u6570\u636e\u91cf\u5bfc\u5165\u9700\u8981\u7279\u522b\u5173\u6ce8\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u7d22\u5f15\u751f\u6548\u65f6\u95f4\u8f83\u957f\uff0c\u5efa\u8bae\u5728\u5efa\u8868\u65f6\u5c06\u7d22\u5f15\u8bed\u53e5\u4e00\u5e76\u7eb3\u5165\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u8868\u5efa\u597d\u540e\uff0c\u4e3b\u952e\u4e0d\u80fd\u66f4\u6539\u3002\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u53ea\u80fd\u5220\u8868\u91cd\u5efa\u3002"}),"\n",(0,r.jsx)(e.li,{children:"mysql-connector-java \u7684\u7248\u672c\u5efa\u8bae\u4f7f\u7528 5.1.30 \u53ca\u4ee5\u4e0a\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5217\u7c7b\u578b\u4fee\u6539\u6709\u8f83\u5927\u9650\u5236\u3002Varchar \u957f\u5ea6\u53ea\u80fd\u7531\u77ed\u53d8\u957f\uff0c\u4e0d\u80fd\u7531\u957f\u53d8\u77ed\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u4e00\u4e2a\u8fde\u63a5\u8d85\u8fc7 15 \u5206\u949f\u7a7a\u95f2\uff0c\u670d\u52a1\u7aef\u4f1a\u4e3b\u52a8\u65ad\u5f00\uff0c\u5728\u4f7f\u7528\u8fde\u63a5\u6c60\u7684\u65f6\u5019\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u8fde\u63a5\u6700\u5927\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\u4f8b\u5982\uff0cDruid \u7684 minEvictableIdleTimeMillis \u5c0f\u4e8e 15 \u5206\u949f\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4ec0\u4e48\u662f\u5b9e\u4f8b\uff0c\u4ec0\u4e48\u662f\u79df\u6237\uff0c\u5b83\u4eec\u7684\u5173\u7cfb\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOceanBase \u6570\u636e\u5e93\u662f\u4e00\u4e2a\u591a\u79df\u6237\u7cfb\u7edf\uff0c \u4e00\u4e2a\u5b9e\u4f8b\u5373 OceanBase \u96c6\u7fa4\u4e2d\u7684\u4e00\u4e2a\u79df\u6237\u3002 \u79df\u6237\u4e4b\u95f4\u7684\u6570\u636e\u4e0d\u80fd\u4e92\u76f8\u8bbf\u95ee\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u7684\u6027\u80fd\u548c\u673a\u5668\u6570\u91cf\u7684\u5173\u7cfb\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4ece OceanBase \u6570\u636e\u5e93\u7684 TPC-C \u62a5\u544a\u4e2d\u663e\u793a\uff0c\u76f8\u540c\u573a\u666f\u4e0b\u7684\u57fa\u672c\u90fd\u662f\u7ebf\u6027\u6269\u5c55\u7684\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u6570\u636e\u6587\u4ef6\u5bf9\u5e94\u54ea\u4e2a\u7ea7\u522b\u7684\u6570\u636e\u5e93\u7ba1\u7406\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOceanBase \u6570\u636e\u5e93\u4e2d\u76ee\u524d\u6709\u4e24\u7c7b\u6570\u636e\u6587\u4ef6\uff0c\u4e14\u4e24\u7c7b\u6570\u636e\u6587\u4ef6\u5747\u5c5e\u4e8e\u96c6\u7fa4\u7ea7\u522b\uff1a"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Data \u6587\u4ef6\uff1a\u4fdd\u5b58\u5404\u4e2a\u5206\u533a\u7684\u6570\u636e\uff0c\u5305\u62ec\u5404\u4e2a\u5206\u533a\u7684 Checkpoint \u70b9\u3002"}),"\n",(0,r.jsx)(e.li,{children:"Clog \u76f8\u5173\uff1a\u5305\u542b Clog\uff08\u4e5f\u79f0\u4e3a Redo Log \u6216 WAL \u65e5\u5fd7\uff09 \u548c\u5b83\u7684\u7d22\u5f15\u6587\u4ef6\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a",(0,r.jsx)(e.code,{children:"ERROR 1045 (42000): Access denied for user 'xx'@'xx.xx.xx.xx' (using password: YES)"}),(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u586b\u5199\u4e86\u5bc6\u7801\uff0c\u4f46\u65e0\u6cd5\u8bbf\u95ee\u6570\u636e\u5e93\u3002"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u5bc6\u7801\u4e0d\u6b63\u786e\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u4e0d\u5728\u96c6\u7fa4\u8bbf\u95ee\u767d\u540d\u5355\u4e2d\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u96c6\u7fa4\u5904\u4e8e\u521d\u59cb\u5316\u8282\u70b9\uff0c\u672a\u542f\u52a8\u5b8c\u6210\uff0c\u53ef\u80fd\u662f\u8d44\u6e90\u4e0d\u8db3\u5bfc\u81f4\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a",(0,r.jsx)(e.code,{children:"ERROR 1045 (42000): Access denied for user 'xx'@'xx.xx.xx.xx' (using password: NO) "}),(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6ca1\u586b\u5199\u5bc6\u7801\uff0c\u65e0\u6cd5\u8bbf\u95ee\u6570\u636e\u5e93\u3002"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u6ca1\u6709\u586b\u5199\u5bc6\u7801\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5bc6\u7801 proxyro_password \u4e3a\u7a7a\u4e14\u548c observer_sys_password \u672a\u4fdd\u6301\u4e00\u81f4\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a",(0,r.jsx)(e.code,{children:"ERROR 1049 (42000): Unknown database 'oceanbase123' "}),(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a-D \u6307\u5b9a\u7684\u5e93\u4e0d\u5b58\u5728\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a",(0,r.jsx)(e.code,{children:"ERROR 2002 (HY000): Can't connect to MySQL server on 'xx.xx.xx.xx'"}),(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u65e0\u6cd5\u8fde\u63a5\u5230\u6570\u636e\u5e93\u3002"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"-P \u767b\u5f55\u7aef\u53e3\u4e0d\u6b63\u786e\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u6240\u8fde\u63a5 IP \u8282\u70b9\u4e0d\u5b58\u5728 OB \u6570\u636e\u5e93\u670d\u52a1\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u9632\u706b\u5899/\u5b89\u5168\u7b56\u7565\u7981\u6b62\u8bbf\u95ee\u7b49\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a",(0,r.jsx)(e.code,{children:"ERROR 4669 (HY000): cluster not exist   "}),(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a-u \u53c2\u6570\u91cc\u7684\u96c6\u7fa4\u540d\u79f0\u4e0d\u5b58\u5728\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a",(0,r.jsx)(e.code,{children:"ERROR 4012 (HY000): Get Location Cache Fail "}),(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a-u \u53c2\u6570\u91cc\u7684\u79df\u6237\u4fe1\u606f\u4e0d\u5b58\u5728\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u65c1\u8def\u5bfc\u5165\u65f6 need_sort \u6392\u5e8f\u53c2\u6570\u7684\u4f5c\u7528\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6570\u636e\u672c\u8eab\u662f\u6709\u5e8f\u7684\uff0c\u5c31\u8bbe\u7f6e false\uff0c\u5982\u679c\u662f\u65e0\u5e8f\u7684\u5c31\u8bbe\u7f6e true\uff0c\u53ef\u4ee5\u52a0\u5feb\u5bfc\u5165\u901f\u5ea6\uff0c\u5982\u679c\u8bbe\u7f6e\u4e86 need_sort = false\uff0c\u4f46\u662f\u5bfc\u5165\u6570\u636e\u53c8\u662f\u65e0\u5e8f\u7684\uff0c\u90a3\u4e48\u65c1\u8def\u5bfc\u5165\u5185\u90e8\u4f1a\u68c0\u6d4b\u51fa\u6765\u5e76\u62a5\u9519\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aclog \u76ee\u5f55\u4e0b\u7684 log_pool \u662f\u505a\u4ec0\u4e48\u7684\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1alog_pool \u662f ob \u7684\u65e5\u5fd7\u6c60\u5316\uff0c\u6839\u636e log_disk_size/64M \u521b\u5efa\u51fa\u591a\u4e2a log_file\uff0c\u5f53 ob \u9700\u8981\u8bb0\u5f55 redolog \u65f6\uff0c\u9700\u8981\u4ece log_pool \u91cc\u7533\u8bf7 log_file\uff0c\u7b80\u5355\u7406\u89e3\u5c31\u662f\u65e5\u5fd7\u76d8\u9884\u5206\u914d\u6c60\uff0c\u4e0d\u80fd\u5220\uff0c\u5220\u9664\u4e86\u53ef\u80fd\u4f1a\u5bfc\u81f4\u65e5\u5fd7\u76d8\u7684\u7a7a\u95f4\u4e0d\u8db3\u6216\u8005\u4e00\u4e9b\u975e\u9884\u671f\u7684\u5f02\u5e38\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5982\u4f55\u5220\u9664 OCP \u4e0b\u7684\u76d1\u63a7\u6570\u636e\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1amonitor \u79df\u6237\u7684\u6570\u636e\u4e0d\u63a8\u8350\u624b\u52a8\u5220\u9664\uff0c\u53ef\u4ee5\u5728 OCP \u7cfb\u7edf\u53c2\u6570\u4e2d\u641c\u7d22\u5173\u952e\u5b57 retention \u8fdb\u884c\u8c03\u6574\uff0c\u4f1a\u81ea\u52a8\u6e05\u7406\uff0c\u6ce8\u610f\u90e8\u5206\u53c2\u6570\u9700\u8981\u5e26\u4e0a\u5355\u4f4d\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aocp-express \u4e0a\u663e\u793a\u6bcf\u4e2a observer \u7684 cpu \u4f7f\u7528\u7387\u6bd4\u8f83\u9ad8\uff0c\u4f46\u79df\u6237\u7684 cpu \u4f7f\u7528\u7387\u5f88\u4f4e\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6ca1\u6709\u5f00\u542f cgroup \u65f6\uff0c\u76ee\u524d\u76d1\u63a7\u4e0a\u7684 cpu \u4f7f\u7528\u7387\u662f\u6307\u7ebf\u7a0b\u4f7f\u7528\u7387\uff0c\u4e0d\u8868\u793a\u7269\u7406 cpu \u4f7f\u7528\u7387\u3002\u79df\u6237\u8fd0\u884c\u65f6\u8981\u7ef4\u6301\u6052\u5b9a\u91cf\u7684\u6d3b\u8dc3\u5de5\u4f5c\u7ebf\u7a0b\uff0c\u8fd9\u4e2a\u6570\u91cf\u662f min",(0,r.jsx)(e.em,{children:"cpu * cpu"}),"quota_concurrency \u6765\u63a7\u5236\u7684\u3002\u79df\u6237\u4e0a\u6709\u65f6\u4f1a\u6302\u8d77\u4e00\u4e9b\u5904\u7406\u6162\u67e5\u8be2\u7684\u7ebf\u7a0b\uff0c\u540c\u65f6\u8981\u5206\u914d\u65b0\u7684\u7ebf\u7a0b\u4ee5\u7ef4\u6301\u6d3b\u8dc3\u7ebf\u7a0b\u6570\u6052\u5b9a\uff0c\u8fd9\u65f6\u7528 max_cpu * workers_per_cpu_quota \u9650\u5236\u79df\u6237\u603b\u5171\u6301\u6709\u7684\u7ebf\u7a0b\u6570\u4e0a\u9650\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u521b\u5efa\u4e86 tablegroup \u4e0d\u751f\u6548\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u9996\u5148 OB4.2 \u7248\u672c\u624d\u652f\u6301 tablegroup\uff0c\u4fee\u6539 tablegroup \u4e4b\u540e\uff0c\u8981\u7b49 partition_balance \u89e6\u53d1\u624d\u4f1a\u53d8\u66f4\u8868\u7ec4\u5185\u5404\u8868\u5206\u5e03\u3002\u5206\u533a\u5747\u8861\u901a\u8fc7\u8c03\u914d\u7f6e\u9879 partition_balance_schedule_interval \u53ef\u4ee5\u89e6\u53d1\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB4.x \u67e5\u770b\u7d22\u5f15\u72b6\u6001\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a",(0,r.jsx)(e.code,{children:"select count(*) from cdb_objects where status<>'VALID' and object_type in ('INDEX','INDEX PARTITION');"}),"\n\u6216\u8005 ",(0,r.jsx)(e.code,{children:"select * from cdb_indexes where status<>'VALID';"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB4.x \u7248\u672c\u600e\u4e48\u67e5\u8be2\u5206\u533a\u6570\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u4ee5\u4ece\u4e0d\u540c\u7ef4\u5ea6\u67e5\u8be2\u5206\u533a\u6570\u4fe1\u606f\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u603b\u8868\u4e2a\u6570\n",(0,r.jsx)(e.code,{children:"select count(*) from cdb_OB_TABLE_LOCATIONS;"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u79df\u6237\u5728\u5404\u4e2a\u8282\u70b9\u4e3b\u5206\u533a\u4e2a\u6570\n",(0,r.jsx)(e.code,{children:"select count(*),svr_Ip from cdb_OB_TABLE_LOCATIONS where tenant_id=1001 and role='leader' group by svr_ip;"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u7edf\u8ba1\u5206\u533a\u6700\u591a\u7684 10 \u4e2a\u79df\u6237\n",(0,r.jsx)(e.code,{children:"SELECT t2.tenant_name,t2.tenant_id, t1.replica_count FROM (SELECT con_id, COUNT(*) AS replica_count FROM CDB_TAB_PARTITIONS GROUP BY con_id ORDER BY replica_count DESC LIMIT 10) t1 JOIN (SELECT tenant_id, tenant_name FROM __all_tenant) t2 ON t1.con_id=t2.tenant_id ORDER BY replica_count DESC;"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u600e\u4e48\u786e\u8ba4 outline \u7ed1\u5b9a hint \u751f\u6548\u4e86\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u901a\u8fc7 ",(0,r.jsx)(e.code,{children:"select outline_id from gv$ob_plan_cache_plan_stat where query_sql like '%sql\u8bed\u53e5\u5173\u952e\u5b57\u4fe1\u606f%';"})," outline_id \u5982\u679c\u8fd4\u56de\u975e-1 \uff0c\u5219\u8868\u793a outline \u751f\u6548\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB \u6709\u4e00\u4e9b\u53c2\u6570\u6216\u8005\u53d8\u91cf\u5728\u96c6\u7fa4\u6216\u8005\u79df\u6237\u521b\u5efa\u597d\u540e\u4e0d\u5141\u8bb8\u4fee\u6539\uff0c\u54ea\u4e9b\u662f\u53ea\u8bfb\u7684?",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53c2\u6570\uff1a",(0,r.jsx)(e.code,{children:"select svr_ip, name,value from gv$ob_parameters where edit_level='readonly';"}),"\n\u53d8\u91cf\uff1a\u6e90\u7801\u6587\u4ef6",(0,r.jsx)(e.code,{children:'cat  src/share/system_variable/ob_system_variable_init.json | jq ".[] | {name,flags}" | grep -C 2 "READONLY" | grep -v "ORACLE_ONLY"'})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u6267\u884c sql \u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"Error 5930: maximum open cursors exceeded"}),"\u3002",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aopen_cursors \u9ed8\u8ba4\u8bbe\u7f6e\u4e3a 50\uff0c\u53ef\u4ee5\u8c03\u5927\u6539\u53c2\u6570\uff0cps \u534f\u8bae\u6267\u884c sql \u4e5f\u4f1a\u5360\u7528 open_cursors \u6570\uff0c\u5efa\u8bae\u8bbe\u7f6e 500\uff0c\u6309\u9700\u9010\u6e10\u8c03\u5927\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u7edf\u8ba1\u79df\u6237\u7684\u5927\u5c0f\u7684 sql\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a",(0,r.jsx)(e.code,{children:"select t.tenant_name, round(sum(t2.data_size)/1024/1024/1024,2) as data_size_gb, round(sum(t2.required_size)/1024/1024/1024,2) as required_size_gb from dba_ob_tenants t,cdb_ob_table_locations t1,cdb_ob_tablet_replicas t2 where t.tenant_id=t1.tenant_id and t1.svr_ip=t2.svr_ip and t1.tenant_id=t2.tenant_id and t1.ls_id=t2.ls_id and t1.tablet_id=t2.tablet_id -- and t1.role='leader' group by t.tenant_name order by 3 desc;"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u7edf\u8ba1\u5e93\u7684\u5927\u5c0f sql\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a",(0,r.jsx)(e.code,{children:"select t1.database_name, round(sum(t2.data_size)/1024/1024/1024,2) as data_size_gb, round(sum(t2.required_size)/1024/1024/1024,2) as required_size_gb from dba_ob_tenants t,cdb_ob_table_locations t1,cdb_ob_tablet_replicas t2 where t.tenant_id=t1.tenant_id and t1.svr_ip=t2.svr_ip and t1.tenant_id=t2.tenant_id and t1.ls_id=t2.ls_id and t1.tablet_id=t2.tablet_id -- and t1.role='leader' and t.tenant_name='test1' group by t1.database_name order by 3 desc;"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u7edf\u8ba1\u8868/\u7d22\u5f15\u7684\u5927\u5c0f\u7684 sql?",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a",(0,r.jsx)(e.code,{children:"select t1.table_name, round(sum(t2.data_size)/1024/1024/1024,2) as data_size_gb, round(sum(t2.required_size)/1024/1024/1024,2) as required_size_gb from dba_ob_tenants t,cdb_ob_table_locations t1,cdb_ob_tablet_replicas t2 where t.tenant_id=t1.tenant_id and t1.svr_ip=t2.svr_ip and t1.tenant_id=t2.tenant_id and t1.ls_id=t2.ls_id and t1.tablet_id=t2.tablet_id -- and t1.role='leader' and t.tenant_name='test1' and t1.database_name='sbtest' and t1.table_name='sbtest1' group by t1.table_name order by 3 desc;"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u7edf\u8ba1\u8868\u5bf9\u5e94\u7684\u5206\u533a\u5927\u5c0f\u7684 sql?",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a",(0,r.jsx)(e.code,{children:"select t1.table_name,t1.partition_name, round(sum(t2.data_size)/1024/1024/1024,2) as data_size_gb, round(sum(t2.required_size)/1024/1024/1024,2) as required_size_gb from dba_ob_tenants t,cdb_ob_table_locations t1,cdb_ob_tablet_replicas t2 where t.tenant_id=t1.tenant_id and t1.svr_ip=t2.svr_ip and t1.tenant_id=t2.tenant_id and t1.ls_id=t2.ls_id and t1.tablet_id=t2.tablet_id and t1.role='leader' and t.tenant_name='test1' and t1.database_name='sbtest' and t1.table_name='sbtest1_part' group by t1.table_name,t1.partition_name;"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aocp-agent \u6216\u8005 ocp-monagent \u670d\u52a1\u5b9a\u65f6\u91cd\u542f\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOCP403 \u7248\u672c\u7f3a\u9677\uff0c\u5efa\u8bae\u5347\u7ea7 OCP421 \u6700\u65b0\u7248\u672c\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4f7f\u7528\u4e0d\u7b26\u5408 only_full_group_by \u7684 SQL \u8bed\u6cd5\u67e5\u8be2\u7ed3\u679c\u96c6\u4e0d\u4e00\u81f4\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u7b26\u5408\u9884\u671f\uff0c\u539f\u751f mysql \u4e5f\u6709\u540c\u6837\u7684\u98ce\u9669\uff0cob \u9ed8\u8ba4\u7684 sql_mode \u867d\u7136\u672a\u5f3a\u5236\u9075\u5faa only_full_group_by\uff0c\u4f46\u5efa\u8bae\u7528\u6237\u6309\u6807\u51c6 sql \u8bed\u6cd5\u4f7f\u7528\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aunit \u8fc1\u79fb\u600e\u4e48\u63d0\u9ad8\u5e76\u53d1\u5ea6\u6216\u8005\u8fc1\u79fb\u901f\u5ea6\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u4ee5\u8c03\u6574 ha_mid_thread_score \u53c2\u6570\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOCP421 \u7248\u672c\u90e8\u7f72 obproxy \u65f6\uff0c\u8d1f\u8f7d OBLB \u65e0\u6cd5\u4f7f\u7528\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOCP \u793e\u533a\u7248\u4e0d\u652f\u6301 OBLB \u529f\u80fd\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4e3a\u4ec0\u4e48\u666e\u901a\u79df\u6237\u67e5\u770b DBA_OB_LS \u89c6\u56fe\u8868\u6bd4 sys \u79df\u6237\u8fd4\u56de\u7684\u8fd8\u591a\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aDBA_OB_LS \u53ef\u4ee5\u770b\u5230\u5f53\u524d\u79df\u6237\u7684\u65e5\u5fd7\u6d41\u4fe1\u606f\uff0c\u800c\u7cfb\u7edf\u79df\u6237\u9ed8\u8ba4\u53ea\u6709\u4e00\u4e2a\u65e5\u5fd7\u6d41\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aAP \u4e1a\u52a1\u7ecf\u5e38\u9047\u5230\u79df\u6237\u5185\u5b58\u4e0d\u8db3\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"No memory or reach tenant memory limit  "}),(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u8c03\u6574 ob_sql_work_area_percentage \u53c2\u6570\uff0c\u589e\u52a0 sql \u5de5\u4f5c\u533a\u7684\u5185\u5b58\u6bd4\uff0c\u9ed8\u8ba4\u662f 5%\uff0c\u4e00\u822c AP \u6bd4 TP \u5bf9\u5185\u5b58\u7684\u9700\u6c42\u8981\u5927\u4e00\u70b9\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4e3a\u4ec0\u4e48\u6570\u636e\u76ee\u5f55\u53ea\u6709\u4e00\u4e2a block_file \u6587\u4ef6\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u7c7b\u4f3c oracle \u7684 segment \u7ba1\u7406\uff0c\u6700\u7ec8\u90fd\u662f\u901a\u8fc7\u5b8f\u5757/\u5fae\u5757\u7ec4\u7ec7\u7684\uff0c\u4e00\u4e2a block_file \u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u76d8\uff0c\u5e95\u5c42\u5b58\u50a8\u81ea\u5df1\u6765\u7ba1\u7406\u4f7f\u7528\u8fd9\u5757\u76d8\uff0c\u591a\u4e2a\u6587\u4ef6\u5e76\u6ca1\u5e26\u6765\u4ec0\u4e48\u6536\u76ca\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5982\u4f55\u770b block_file \u6587\u4ef6\u4e2d\u7684\u4e0d\u540c\u79df\u6237\u3001\u8868\u7684 sstable \u5e03\u5c40\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5148\u627e\u5230\u8868\u7684\u5206\u533a tablet_id(CDB_OB_TABLE_LOCATIONS\uff09\uff0c\u7136\u540e\u67e5__all_virtual_tablet_sstable_macro_info \u8fc7\u6ee4 tablet_id\uff0c\u4f1a\u5217\u51fa\u6240\u6709\u7684\u5b8f\u5757\u3002\u53ef\u4ee5\u901a\u8fc7\u8868\u4e2d\u7684\u5b8f\u5757\u7684 macro_logic_version \u548c GV$OB_SSTABLES \u4e2d sstable \u7684 end_log_scn \u6765\u5bf9\u5e94\u5b8f\u5757\u548c sstable \u7684\u5173\u7cfb\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5982\u4f55\u83b7\u53d6\u5982\u679c\u83b7\u53d6\u5fae\u5757 micro_id?",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u77e5\u9053\u5b8f\u5757 id \u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 dumpsst \u6765 dump \u51fa\u5b8f\u5757\u4fe1\u606f\uff0c\u91cc\u9762\u4f1a\u5305\u542b\u5fae\u5757\u4fe1\u606f\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u521b\u5efa resource unit \u8d44\u6e90\u5355\u5143\u65f6\uff0c\u5185\u5b58\u548c CPU \u7684\u6bd4\u4f8b\u63a8\u8350\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u57fa\u4e8e\u5f53\u524d\u5927\u578b\u751f\u4ea7\u73af\u5883\u63d0\u4f9b\u7684\u914d\u6bd4\u7ecf\u9a8c\uff0c\u4e00\u822c\u521d\u59cb\u6309 CPU",":MEMORY","=1:2 \u6216 1:4 \u6bd4\u4f8b\uff0c\u540e\u671f\u518d\u6839\u636e\u4e1a\u52a1\u9700\u8981\u8fdb\u884c\u8c03\u6574\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOCP \u7684 Unit \u8fc1\u79fb\u4e2d\u76ee\u6807\u7aef\u5730\u5740\u4e0d\u663e\u793a\u5185\u5bb9\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aunit \u8fc1\u79fb\u53ea\u5728 zone \u5185\u53d1\u751f\uff0c\u4e0d\u540c zone \u4e4b\u95f4\u7684\u5c5e\u4e8e\u6269\u5bb9\u7f29\u5bb9\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aobclient \u600e\u4e48\u8f93\u51fa\u66f4\u591a\u6267\u884c\u4fe1\u606f\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u589e\u52a0 -v \u6216\u8005 -vv \u53c2\u6570\u6253\u5370\u8be6\u7ec6\u4fe1\u606f\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB4.x \u652f\u6301\u4f7f\u7528\u5bc6\u6587\u5bc6\u7801\u521b\u5efa\u7528\u6237\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u652f\u6301\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5982\u679c\u9488\u5bf9\u5355 sql \u8bbe\u7f6e\u67e5\u8be2\u8d85\u65f6\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4f7f\u7528",(0,r.jsx)(e.code,{children:"hint select /*+ QUERY_TIMEOUT (10000000) */ "}),"\u6ce8\u610f\uff0cobclient \u8fde\u63a5\u65f6\u9700\u8981\u52a0 -c \u53c2\u6570\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u7684 update \u64cd\u4f5c\u5728 memtable \u4e2d\u4ec0\u4e48\u64cd\u4f5c\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4e3b\u8868\u662f update\uff0c\u5982\u679c\u6709\u4fee\u6539\u7d22\u5f15\u5217\uff0c\u7d22\u5f15\u8868\u662f delete+insert\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aobserver \u4e4b\u95f4\u53ef\u4ee5\u52a0\u5bc6\u4f20\u8f93\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5f00\u542f RPC \u5b89\u5168\u8ba4\u8bc1\u5c31\u53ef\u4ee5\uff0c\u4f46\u662f\u4f1a\u6709\u6027\u80fd\u56de\u9000\uff0c\u914c\u60c5\u9009\u62e9\u3002\n",(0,r.jsx)(e.code,{children:"alter system set ssl_client_authentication=true;"}),(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"alter system set rpc_client_authentication_method='SSL_IO';"}),(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"alter system set rpc_server_authentication_method='SSL_IO';"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u89e3\u9664\u4e3b\u5907\u79df\u6237\u5173\u7cfb\u540e\uff0c\u600e\u4e48\u5220\u9664\u5907\u4efd\u6e90\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a",(0,r.jsx)(e.code,{children:"alter system set log_restore_source='' tenant = '$tennant_name'; "}),"\u8bbe\u7f6e\u65e5\u5fd7\u6e90\u4e3a\u7a7a\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u662f\u5426\u652f\u6301\u65e0\u9501\u7ed3\u6784\u53d8\u66f4\uff0coffline DDL \u8f6c online DDL\u3002",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aODC \u5de5\u5177\u652f\u6301\u5f71\u5b50\u8868\u7684\u65b9\u5f0f\u8fdb\u884c\u65e0\u9501\u7ed3\u6784\u53d8\u66f4\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB \u7684\u7d22\u5f15\u788e\u7247\u5316\u95ee\u9898\u600e\u4e48\u5904\u7406\u7684\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOB \u57fa\u672c\u4e0d\u5b58\u5728\u7d22\u5f15\u788e\u7247\u5316\uff0c\u6bcf\u5929\u90fd\u4f1a\u505a\u5408\u5e76\uff0c\u91cd\u65b0\u7ec4\u7ec7\u6570\u636e\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB \u7684\u5f52\u6863\u548c\u5907\u4efd\u4e3a\u4ec0\u4e48\u9700\u8981\u4f7f\u7528 NFS \u6216 OSS \u4ecb\u8d28\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5355\u673a\u4e14\u6d4b\u8bd5\u573a\u666f\u53ef\u4ee5\u4f7f\u7528\u672c\u5730\u76ee\u5f55\uff0c\u96c6\u7fa4\u6216\u8005\u751f\u4ea7\u73af\u5883\u9700\u8981\u4f7f\u7528\u4ecb\u8d28\uff0c\u56e0\u4e3a\u6240\u6709\u8282\u70b9\u90fd\u9700\u8981\u8bbf\u95ee\u516c\u5171\u7684\u5907\u4efd\u76ee\u5f55\uff0c\u6570\u636e\u5728\u4e00\u4e2a\u76ee\u5f55\u624d\u53ef\u4ee5\u505a\u96c6\u7fa4\u6062\u590d\u3002\u6682\u65f6\u6ca1\u6709\u591a\u8282\u70b9\u672c\u5730\u5907\u4efd\uff0c\u6c47\u603b\u6062\u590d\u7684\u529f\u80fd\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u521b\u5efa\u5206\u533a\u8868\uff0c\u600e\u4e48\u786e\u8ba4\u9700\u8981\u521b\u5efa\u591a\u5c11\u4e2a\u5206\u533a\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5355\u4e2a server \u4e0d\u5efa\u8bae\u8d85\u8fc7 3 \u4e07\u4e2a\u5206\u533a\u603b\u6570\uff0c\u5206\u533a\u8868\u7684\u6bcf\u4e2a\u5355\u5206\u533a\u4e0d\u5efa\u8bae\u8d85\u8fc7 200G\uff0c\u63a8\u8350 100G\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u652f\u6301 Cognos \u8fde\u63a5\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6682\u65f6\u4e0d\u652f\u6301\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB \u4e3a\u4ec0\u4e48\u4e0d\u5efa\u8bae\u6570\u636e\u548c\u65e5\u5fd7\u540c\u76d8\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5e95\u5c42\u5b58\u50a8\u5f15\u64ce, \u56e0\u4e3a\u4e0b\u9762 3 \u4e2a\u539f\u56e0, \u91c7\u7528\u4e86\u63d0\u524d\u9884\u5360\u7528\u78c1\u76d8\u7a7a\u95f4\u7684\u8bbe\u8ba1\u3002"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4e3a\u4e86\u66f4\u597d\u7684\u83b7\u53d6 io \u6027\u80fd:"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u5e95\u5c42\u5b58\u50a8\u5f15\u64ce\u63d0\u524d\u5c06\u78c1\u76d8\u7a7a\u95f4\u7533\u8bf7\u4e0b\u6765, \u5e76\u91c7\u7528 mmap \u6280\u672f, \u5c06\u90e8\u5206\u7a7a\u95f4\u6620\u5c04\u8d77\u6765, \u80fd\u83b7\u5f97\u66f4\u5feb\u7684\u78c1\u76d8\u6027\u80fd\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u53e6\u5916\u6709\u4e00\u4e9b\u6587\u4ef6 io \u64cd\u4f5c, \u53ef\u4ee5\u63d0\u524d\u505a, \u51cf\u5c11 io \u6307\u4ee4, \u63d0\u5347\u6027\u80fd\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u591a\u5757\u76d8, \u80fd\u63d0\u4f9b\u66f4\u591a\u7684\u5e76\u53d1\u80fd\u529b\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{start:"2",children:["\n",(0,r.jsx)(e.li,{children:"\u589e\u5f3a\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027, \u63d0\u524d\u5c06\u78c1\u76d8\u5360\u4f4f, \u907f\u514d\u88ab\u4e00\u4e9b\u5176\u4ed6\u7684\u7a0b\u5e8f\u5c06\u78c1\u76d8\u7a7a\u95f4\u6d88\u8017\u6389, \u5bfc\u81f4\u5b58\u50a8\u5f15\u64ce\u7533\u8bf7\u78c1\u76d8\u7a7a\u95f4\u51fa\u9519, \u5bfc\u81f4\u4e00\u7cfb\u5217\u7684\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u90e8\u5206\u573a\u5408\u4e0b\u53ef\u4ee5\u51cf\u5c11\u786c\u4ef6\u6210\u672c. \u66f4\u5feb\u7684\u76d8(\u66f4\u8d35\u7684\u76d8)\u53ef\u4ee5\u7528\u4e8e clog, \u66f4\u5927\u5bb9\u91cf\u6216\u7a0d\u6162\u4e00\u70b9(\u66f4\u4fbf\u5b9c\u7684\u76d8) \u7528\u4e8e data \u76d8\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u4ece\u8fd0\u7ef4\u89d2\u5ea6\u66f4\u5b89\u5168\uff0c\u66fe\u7ecf\u53d1\u751f\u8fc7\u7684\u6545\u969c:\n\u7528\u6237\u5c06 clog \u76d8\u548c data \u76d8\u5171\u7528, \u521a\u5f00\u59cb\u7684\u65f6\u5019, \u78c1\u76d8\u7a7a\u95f4\u80fd\u652f\u6491\u4e1a\u52a1, \u968f\u7740\u4e1a\u52a1\u91cf\u589e\u5927, data \u7684\u6587\u4ef6\u5927\u5c0f\u8bbe\u7f6e\u5c0f\u4e86, \u7528\u6237\u8d76\u7d27\u628a data \u6587\u4ef6\u5927\u5c0f datafile_size \u8c03\u5927, \u4e00\u4e0d\u5c0f\u5fc3, \u5fd8\u8bb0\u4e86 data \u548c clog \u5171\u7528\u4e00\u4e2a\u76d8, \u5bfc\u81f4 data \u4fb5\u5360\u4e86 clog \u7684\u7a7a\u95f4, \u6700\u540e\u5bfc\u81f4 clog \u5199\u65e5\u5fd7\u5931\u8d25, observer \u5904\u5728\u53ea\u8bfb\u72b6\u6001\u3002\n\u540c\u65f6\u5206\u76d8\u90e8\u7f72, \u80fd\u51cf\u5c11\u8fd0\u7ef4\u7684\u6545\u969c\u98ce\u9669\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1agv$sql_plan_monitor \u8fd9\u4e2a\u89c6\u56fe\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u751f\u6210\u6570\u636e\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4e09\u79cd\u60c5\u51b5\u53ef\u4ee5\u770b\u5230\u6570\u636e\uff1a"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u5982\u679c query \u6267\u884c\u65f6\u95f4\u8d85\u8fc7 3s\uff0c\u4f1a\u6709\u6570\u636e\uff1b"}),"\n",(0,r.jsxs)(e.li,{children:["\u6216\u8005\u52a0\u4e0a /*+ monitor */ \u8fd9\u6837\u7684 hint\uff0c\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:"select /*+ monitor */ * from t1;"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u6216\u8005\u662f\u5e76\u884c SQL\uff0c\u6bd4\u5982\uff1a",(0,r.jsx)(e.code,{children:"select /*+ parallel(3) */ * from t1;"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aDDL \u8bed\u53e5\u6267\u884c 1000s\uff0816 \u5206\u949f\uff09\u62a5\u9519\u8d85\u65f6\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u9690\u85cf\u53c2\u6570 _ob_ddl_timeout \u63a7\u5236\u3002\u548c\u6570\u636e\u91cf\u76f8\u5173\u7684 ddl \u7684\u8d85\u65f6\u65f6\u95f4\u53ef\u4ee5\u7406\u89e3\u6210\u65e0\u7a77\u5927\uff08\u5b9e\u9645\u88ab\u8bbe\u6210\u4e86 102 \u5e74\uff09\uff0c\u4e0d\u53d7 _ob_ddl_timeout \u7684\u63a7\u5236\uff0c\u50cf\u8fd9\u7c7b\u8ffd\u52a0\u7d22\u5f15\u3001\u8ffd\u52a0\u5916\u952e\u3001\u8ffd\u52a0 check \u7ea6\u675f\u8fd9\u7c7b\u6bd4\u8f83\u7279\u6b8a\u7684 ddl\uff0c\u8d85\u65f6\u65f6\u95f4\u4e5f\u4e0d\u53d7 _ob_ddl_timeout \u7684\u63a7\u5236\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB4.x \u8f6c\u50a8\u5408\u5e76\u4f1a\u5bf9 DML \u6709\u5f71\u54cd\u5417?",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u8f6c\u50a8\u524d\u4f1a\u5148\u51bb\u7ed3 memtable\uff0c\u540e\u7eed\u7684 DML \u4f1a\u5728\u65b0\u7684 memtable \u4e0a\u8fdb\u884c\uff0c\u5e76\u4e0d\u4f1a\u6709\u5f71\u54cd\u3002\n\u81f3\u4e8e\u8f6c\u50a8\u5982\u679c\u5361\u4f4f\u4e86\uff0c\u5185\u5b58\u4f1a\u65e0\u6cd5\u91ca\u653e\uff0c\u5f53\u6301\u7eed\u7684 DML \u628a\u5185\u5b58\u5403\u6ee1\u540e\uff0c\u4f1a\u5bfc\u81f4 DML \u6267\u884c\u5931\u8d25\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u6267\u884c sql \u62a5\u9519\u5185\u5b58\u4e0d\u8db3\u548c ob_sql_work_area_percentage \u53c2\u6570\u6709\u4ec0\u4e48\u5173\u7cfb\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aob_sql_work_area_percentage \u662f\u79df\u6237\u7684\u5de5\u4f5c\u533a\u5185\u5b58\u5360\u79df\u6237\u5185\u5b58\u7684\u767e\u5206\u6bd4\uff0c\u5de5\u4f5c\u533a\u5185\u5b58\uff0c\u662f\u6307 SQL \u6392\u5e8f\u7b49\u963b\u585e\u6027\u7b97\u5b50\u4f7f\u7528\u7684\u5185\u5b58\uff0c\u901a\u8fc7\u79df\u6237\u7cfb\u7edf\u53d8\u91cf\uff0c\u9ed8\u8ba4\u503c\u662f\u79df\u6237\u5185\u5b58\u7684 5%\uff0c\u5982\u679c\u8bf7\u6c42\u5e76\u53d1\u91cf\u8f83\u5927\uff0c\u4e14\u6bcf\u4e2a\u8bf7\u6c42\u5360\u7528\u7684\u5de5\u4f5c\u533a\u5185\u5b58\u6bd4\u8f83\u591a\uff0c\u53ef\u80fd\u51fa\u73b0\u5de5\u4f5c\u533a\u5185\u5b58\u4e0d\u8db3\u7684\u62a5\u9519\uff0c\u7ecf\u5e38\u51fa\u73b0\u7684\u573a\u666f\u6709 union\u3001sort\u3001group by \u7b49\u3002\u4e0a\u8ff0\u95ee\u9898\u5982\u679c\u51fa\u73b0\uff0c\u53ef\u4ee5\u901a\u8fc7\u9002\u5f53\u8c03\u5927\u7cfb\u7edf\u53d8\u91cf\u6216\u8005\u8c03\u5927\u79df\u6237\u7684\u5185\u5b58\u6765\u89c4\u907f\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB4.x \u80fd\u9650\u5236\u79df\u6237\u7ea7\u522b\u7684\u6570\u636e\u78c1\u76d8\u4f7f\u7528\u7a7a\u95f4\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u76ee\u524d\u4e0d\u53ef\u4ee5\uff0c\u96c6\u7fa4\u7684 data \u76d8\u662f\u6240\u6709\u79df\u6237\u5171\u7528\u7684\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOBKV \u573a\u666f\uff0c\u6570\u636e\u6d41\u4e2d\u5e76\u672a\u6709 I/U \u7684\u6807\u8bc6\uff0c\u5206\u6bb5\u62c9\u53d6\uff0c\u662f\u5426\u53ef\u4ee5\u53ea\u4f7f\u7528 insert \u5b9e\u73b0\u6700\u7ec8\u5927\u5bbd\u8868\u7684\u6570\u636e\u6a21\u578b\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5927\u5bbd\u8868\u6a21\u578b\u7684\u8bdd\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u6211\u4eec\u7684 hbase \u5ba2\u6237\u7aef\u5b9e\u73b0\u3002\u5982\u679c\u662f table \u6a21\u578b\uff0c\u4e0d\u786e\u5b9a\u662f insert \u8fd8\u662f update\uff0c\u53ef\u4ee5\u4f7f\u7528 table \u5ba2\u6237\u7aef\u7684 insertOrUpdate \u63a5\u53e3\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB4.x \u4f7f\u7528 truncate \u8868\u540e\u4e0d\u4f1a\u8fdb\u56de\u6536\u7ad9\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOB3.x \u7248\u672c\u652f\u6301 truncate \u8868\u56de\u6536\uff0cOB4.x \u6682\u65f6\u4e0d\u652f\u6301\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u539f\u7406",children:(0,r.jsx)(e.strong,{children:"\u539f\u7406"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u7684\u7d22\u5f15\u91c7\u7528\u7684\u662f\u54ea\u79cd\u65b9\u5f0f\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aMemTable \u4f7f\u7528\u7684\u662f B+ \u6811\u7ed3\u6784\uff0c\u800c SSTable \u4f7f\u7528\u7684\u662f\u5b8f\u5757\u7ed3\u6784\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aplan cache \u5206\u914d\u8d44\u6e90\u8fc7\u5c11\u6216\u8005\u5927\u5e76\u53d1\u4f1a\u9020\u6210 plan cache \u547d\u4e2d\u7387\u8f83\u4f4e\u7684\u95ee\u9898\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6839\u636e\u8d44\u6e90\u548c\u5e76\u53d1\u60c5\u51b5\u5206\u4e3a\u5982\u4e0b\u51e0\u79cd\u60c5\u51b5\u8ba8\u8bba\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u8d44\u6e90\u5c11\u7684\u60c5\u51b5\u4e0b\u9700\u8981\u770b\u6d41\u91cf","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u6d41\u91cf\u4e00\u76f4\u53ea\u662f\u4e00\u4e2a query\uff0c\u90a3\u4e48\u8fd9\u4e2a plan \u5c06\u4e00\u76f4\u5b58\u5728 plan cache \u4e2d\uff0c\u800c\u4e14\u4e00\u76f4\u547d\u4e2d\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u6d41\u91cf\u662f\u591a\u79cd\u591a\u6837\u7684 query\uff0c\u90a3\u4e48\u7531\u4e8e\u8d44\u6e90\u5206\u914d\u6709\u9650\uff0cplan \u5c06\u4f1a\u53d1\u751f\u9891\u7e41\u6c70\u6362\uff0c\u6700\u7ec8\u5206\u914d\u8d44\u6e90\u8fc7\u5c11\u4f1a\u5bfc\u81f4 plan cache \u547d\u4e2d\u8fc7\u4f4e\u7684\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u5e76\u53d1\u91cf\u5927\u5bfc\u81f4\u5185\u5b58\u5feb\u901f\u5199\u6ee1\u4f1a\u9020\u6210 plan \u7684\u9891\u7e41\u6c70\u6362\uff0c\u8fd9\u5c06\u5bfc\u81f4\u8ba1\u5212\u547d\u4e2d\u7387\u964d\u4f4e\u3002\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\u5e76\u53d1\u91cf\u5927\u4e0d\u4e00\u5b9a\u4f1a\u5bfc\u81f4 plan cache \u547d\u4e2d\u7387\u964d\u4f4e\uff0c\u53ea\u8981\u6c70\u6362\u7387\u6ca1\u6709\u4e0a\u53bb\uff0c\u547d\u4e2d\u7387\u4e5f\u4e0d\u4f1a\u964d\u4f4e\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u79df\u6237 MemStore \u4f7f\u7528\u8fbe\u5230\u9608\u503c\u540e\uff0c\u9009\u62e9\u5408\u5e76\u6216\u8005\u8f6c\u50a8\u7684\u4f9d\u636e\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6709\u81ea\u52a8\u8f6c\u50a8\u548c\u624b\u52a8\u8f6c\u50a8\u4e24\u79cd\u8f6c\u50a8\u65b9\u5f0f\u3002\u6709\u81ea\u52a8\u5408\u5e76\u3001\u5b9a\u65f6\u5408\u5e76\u4e0e\u624b\u52a8\u5408\u5e76\u4e09\u79cd\u5408\u5e76\u65b9\u5f0f\uff0c\u5982\u679c\u81ea\u52a8\u5408\u5e76\u8fc7\u7a0b\u4e2d\u5931\u8d25\u4e86\uff0c\u9664\u4e86\u4e2a\u522b\u9519\u8bef\u5916\uff0c\u4f1a\u4e00\u76f4\u91cd\u8bd5\u3002\u5408\u5e76\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u662f\u4ee5\u6bcf\u65e5\u5408\u5e76\u7684\u65b9\u5f0f\u5b9a\u65f6\u89e6\u53d1\u7684\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u81ea\u52a8\u8f6c\u50a8\u662f\u5f53 MemStore \u4f7f\u7528\u8fbe\u5230\u9884\u8bbe\u7684\u9650\u5b9a\u65f6\uff0c\u4f8b\u5982 MemStore \u5185\u5b58\u4f7f\u7528\u7387\u5927\u4e8e ",(0,r.jsx)(e.code,{children:"memstore_limit_percentage * freeze_trigger_percentage"})," \u7684\u503c\uff0c\u81ea\u52a8\u89e6\u53d1\u51bb\u7ed3 + \u8f6c\u50a8\uff0c\u8f6c\u50a8\u4e3a mini sstable \u540e\u6839\u636e minor_compact_trigger \u6765\u89e6\u53d1 mini minor \u6216 minor \u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u624b\u52a8\u8f6c\u50a8\u662f\u624b\u52a8\u6267\u884c ",(0,r.jsx)(e.code,{children:"alter system minor freeze;"})," \u8fdb\u884c\u8f6c\u50a8\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aparallel_servers_target \u5e76\u53d1\u53c2\u6570\u600e\u4e48\u7406\u89e3\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aparallel_servers_target \u8fd9\u4e2a\u6307\u6807\u90fd\u662f\u9488\u5bf9 px \u7c7b\u578b\u7684 SQL \u8fdb\u884c\u7ea6\u675f\u7684\uff0c\u5f53\u8d85\u8fc7\u8fd9\u4e2a\u9608\u503c\uff0c\u963b\u585e\u7684\u662f\u540e\u7eed\u7684 px \u7c7b\u578b SQL \u7684\u6267\u884c\uff0c\u4e0d\u963b\u585e\u672c\u5730 SQL \u7684\u6267\u884c\u3002\u4e5f\u5c31\u662f\u5e76\u53d1 SQL \u4e0d\u4f1a\u5360\u7528\u6240\u6709\u7ebf\u7a0b\uff0c\u4f1a\u7ed9\u666e\u901a SQL \u9884\u7559\u4e00\u4e9b\u7ebf\u7a0b\u8d44\u6e90\u3002\u6240\u4ee5 parallel \u6570\u91cf\u7684\u8bbe\u7f6e\u5e94\u8be5\u6839\u636e\u9700\u6c42\u548c\u8d44\u6e90\u6765\u786e\u5b9a\uff0c\u5982\u679c\u5168\u90fd\u8bbe\u6210\u5e76\u53d1 SQL\uff0c\u5c31\u4f1a\u4e92\u76f8\u963b\u585e\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u7528\u6237\u7684 SQL \u8bf7\u6c42\u548c RPC \u4e4b\u95f4\u6709\u4ec0\u4e48\u5173\u7cfb\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOBServer \u8282\u70b9\u4e4b\u95f4\u6c9f\u901a\u4f7f\u7528\u7684\u662f RPC 2882 \u7aef\u53e3\uff0c\u6700\u7b80\u5355\u7684\u4ee5\u5e7f\u64ad\u67e5\u8be2 SQL\uff0c\u662f\u5efa\u7acb\u4e00\u5f20\u5206\u533a\u8868\uff0c\u4f46\u662f SQL \u8bed\u53e5\u4e0d\u5e26\u5206\u533a\u952e\uff0c\u7528\u6237\u6267\u884c SQL \u662f\u53d1\u5230\u4e86\u4e00\u53f0 OBServer \u8282\u70b9\u673a\u5668\u4e0a\uff0c\u4f46\u662f\u5206\u533a\u8868\u7684\u5404\u4e2a\u5206\u533a\u7684\u4e3b\u526f\u672c\u662f\u5728\u591a\u53f0 OBServer \u8282\u70b9\u673a\u5668\u4e0a\u7684\uff0c\u9700\u8981\u5c06 OceanBase \u6570\u636e\u5e93\u63a5\u6536 SQL \u7684\u8bf7\u6c42\u62c6\u5206\uff0c\u8c03\u7528\u5404\u4e2a\u5206\u533a\u4e3b\u526f\u672c\u6240\u5728\u7684 OceanBase \u6570\u636e\u5e93\u83b7\u53d6\u6570\u636e\uff0c\u7136\u540e\u518d\u805a\u5408\u540e\u8fd4\u56de\u7ed9\u7528\u6237\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aGLOBAL \u7684\u53d8\u91cf\u4f1a\u6301\u4e45\u5316\u5230\u4ec0\u4e48\u5730\u65b9\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4ec5 GLOBAL \u7ea7\u522b\u7684\u53d8\u91cf\u4f1a\u6301\u4e45\u5316\uff0cSESSION \u7ea7\u522b\u7684\u53d8\u91cf\u4e0d\u4f1a\u8fdb\u884c\u6301\u4e45\u5316\u3002\u6301\u4e45\u5316\u5230\u5185\u90e8\u8868\u4e0e\u914d\u7f6e\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728 /home/admin/oceanbase/etc/observer.config.bin \u4e0e /home/admin/oceanbase/etc/observer.config.bin.history \u6587\u4ef6\u4e2d\u67e5\u8be2\u914d\u7f6e\u9879"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.0 \u7248\u672c\u4e2d\uff0cGV$OB_SERVER_SCHEMA_INFO \u89c6\u56fe\u4e2d\u7684 SCHEMA \u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOceanbase \u6570\u636e\u5e93\u7684 schema \u6cdb\u6307\u4e00\u5207\u9700\u8981\u5728\u96c6\u7fa4\u8303\u56f4\u5185\u540c\u6b65\u7684\u6570\u636e\u5e93\u5bf9\u8c61\u5143\u4fe1\u606f\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e table\u3001database\u3001user \u7b49\u5143\u4fe1\u606f\u3002\u6b64\u5916 Oceanbase \u6570\u636e\u5e93\u7684 schema \u662f\u591a\u7248\u672c\u4e14\u5404\u79df\u6237\u72ec\u7acb\uff0c\u5728\u96c6\u7fa4\u8303\u56f4\u540c\u6b65\u662f\u6700\u7ec8\u4e00\u81f4\u7684\u3002",(0,r.jsx)(e.br,{}),"\n","GV$OB_SERVER_SCHEMA_INFO \u53ef\u4ee5\u7406\u89e3\u4e3a\u6bcf\u53f0 OBServer \u8282\u70b9\u673a\u5668\u4e2d\u6bcf\u4e2a\u79df\u6237\u5df2\u7ecf\u5237\u65b0\u7684\u6700\u65b0\u7248\u672c\u7684 schema \u7684\u4fe1\u606f\uff0c\u8fd9\u4e2a\u89c6\u56fe\u7528\u6237\u6bd4\u8f83\u5173\u6ce8\u7684 schema \u4fe1\u606f\u662f REFRESHED_SCHEMA_VERSION\u3001SCHEMA_COUNT\u3001SCHEMA_SIZE\uff0c\u5176\u542b\u4e49\u5982\u4e0b\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"REFRESHED_SCHEMA_VERSION\uff1a\u5bf9\u5e94\u79df\u6237\u5728\u5bf9\u5e94\u673a\u5668\u5df2\u5237\u65b0\u5230\u7684 schema \u7248\u672c\u3002"}),"\n",(0,r.jsx)(e.li,{children:"SCHEMA_COUNT\uff1a\u5bf9\u5e94 schema \u7248\u672c\u4e0b\uff0c\u5404 schema \u5bf9\u8c61\u6570\u76ee\u7684\u603b\u548c\u3002"}),"\n",(0,r.jsx)(e.li,{children:"SCHEMA_SIZE\uff1a\u5bf9\u5e94 schema \u7248\u672c\u4e0b\uff0c\u5404 schema \u5bf9\u8c61\u603b\u5171\u6240\u5360\u7684\u5185\u5b58\u5927\u5c0f\uff08\u5355\u4f4d B\uff09\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u6267\u884c\u8ba1\u5212\u4e2d\u7684 px partition iterator\uff0cpx block iterator \u662f\u4ec0\u4e48\u610f\u601d\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1apartition iterator \u662f\u4ee5\u5206\u533a\u7c92\u5ea6\u8fed\u4ee3\u6570\u636e\uff0cblock iterator \u662f\u4ee5 block \u7c92\u5ea6\u8fed\u4ee3\u6570\u636e\uff0cIterator \u662f\u5bf9\u6570\u636e\u7684\u62bd\u8c61\uff0c\u5b83\u628a\u6570\u636e\u62bd\u8c61\u6210\u4e00\u5757\u4e00\u5757\u7684\uff0c\u4ee5\u4fbf\u591a\u4e2a\u7ebf\u7a0b\u5e76\u53d1\u5730\u5904\u7406\u8fd9\u4e9b\u6570\u636e\u3002\u4e00\u5757\u6570\u636e\u5982\u679c\u5bf9\u5e94\u7684\u662f\u4e00\u4e2a\u5206\u533a\uff0c\u5219\u662f partition iterator\u3002\u4e00\u5757\u6570\u636e\u5982\u679c\u5bf9\u5e94\u7684\u662f\u4e00\u4e2a\u6216\u6570\u4e2a\u5b8f\u5757\uff0c\u5219\u662f block iterator\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u662f\u5982\u4f55\u521b\u5efa\u7d22\u5f15\uff0c\u4e0d\u5f71\u54cd\u66f4\u65b0\u64cd\u4f5c\u7684\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOceanBase \u6570\u636e\u5e93\u5728\u521b\u5efa\u7d22\u5f15\u7684\u65f6\u5019\uff0c\u662f\u4e00\u4e2a\u6e10\u8fdb\u7684\u8fc7\u7a0b\uff0c\u9996\u5148\u4e0d\u5f71\u54cd\u5199\u5165\uff0c\u56e0\u4e3a OceanBase \u6570\u636e\u5e93\u662f\u8ffd\u52a0\u5199\u3002\u5bf9\u4e8e\u7d22\u5f15\u5217\u6709\u66f4\u65b0\u7684\u60c5\u51b5\uff0c\u4f1a\u8fdb\u884c\u8bb0\u5f55\u3002\u7136\u540e\u4f1a\u53bb\u626b\u63cf\u73b0\u6709\u6570\u636e\u53bb\u521b\u5efa\u7d22\u5f15\uff0c\u626b\u63cf\u5b8c\u6210\u4e4b\u540e\u5c06\u66f4\u65b0\u7684\u548c\u65b0\u589e\u7684\u6570\u636e\u505a\u4e00\u6b21\u5408\u5e76\uff0c\u6700\u540e\u518d\u5c06\u7d22\u5f15\u6807\u8bb0\u4e3a\u53ef\u7528\u72b6\u6001\uff0c\u5c31\u5b8c\u6210\u4e86\u7d22\u5f15\u7684\u521b\u5efa\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 4.0 \u7248\u672c\u751f\u4ea7\u73af\u5883\u6700\u5c0f\u78c1\u76d8\u4f7f\u7528\u7a7a\u95f4\u9650\u5236\u4e3a\u4ec0\u4e48\u662f 54G\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a54G \u662f\u76ee\u524d\u8ba1\u7b97\u51fa\u6765 OceanBase \u6570\u636e\u5e93\u542f\u52a8\u9700\u8981\u7684\u7a7a\u95f4\uff0c\u4e0b\u9762\u662f\u8ba1\u7b97\u516c\u5f0f\u3002",(0,r.jsx)(e.br,{}),"\n","slog \u7edf\u8ba1\u89c4\u5219\uff1aslog \u7edf\u8ba1 10G\uff0c\u76ee\u524d\u662f\u786c\u7f16\u7801\uff0c\u6709\u8ba1\u5212\u4f18\u5316\u5230 2G\u30014G \u5de6\u53f3\u3002",(0,r.jsx)(e.br,{}),"\n","SSTable \u7edf\u8ba1\u89c4\u5219\uff1a\u7a7a\u96c6\u7fa4\u542f\u52a8\u540e\u8f6c\u50a8\u5408\u5e76\u5b9e\u6d4b\u5927\u6982\u4f1a\u6709 1G \u78c1\u76d8\u5f00\u9500\uff0c\u4ee3\u7801\u6ca1\u6709\u9488\u5bf9 SSTable \u505a\u9650\u5236\uff0c\u4f46\u662f\u6309\u7167\u957f\u7a33\u8fd0\u884c\u9700\u8981 20G\u3002",(0,r.jsx)(e.br,{}),"\n","clog \u7edf\u8ba1\u89c4\u5219\u5982\u4e0b\u3002"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u7406\u8bba\u6700\u5c0f\u503c\uff1a\u65b0\u5efa\u4e00\u4e2a\u79df\u6237\u9884\u671f\u9700\u8981\u521b\u5efa 4 \u4e2a\u65e5\u5fd7\u6d41\uff0c\u6bcf\u4e2a\u65e5\u5fd7\u6d41\u76ee\u524d\u7a7a\u95f4\u9700\u6c42\u6700\u4f4e 512M\uff0c\u8fd9\u91cc\u7b97\u51fa\u9700\u8981\u7684\u6700\u5c0f\u78c1\u76d8\u662f 2G\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u7528\u6237\u8bbe\u7f6e\u503c\uff1a\u7cfb\u7edf\u79df\u6237\uff1a\u53d6 max\uff082G\uff0c\u7528\u6237\u8bbe\u7f6e\uff09\uff1b\u666e\u901a\u79df\u6237\uff1a\u53d6 max\uff082G\uff0c\u6240\u5728\u76d8\u5168\u90e8\uff09\u3002"}),"\n",(0,r.jsx)(e.li,{children:"OBD \u8ba1\u7b97\uff1a\u6839\u636e OceanBase \u6570\u636e\u5e93\u6700\u5c0f\u89c4\u5219\uff084C8G\uff09\u8ba1\u7b97\uff0c\u5373 8 * 3 = 24\uff0c\u5176\u4e2d 3 \u4e3a OceanBase \u6570\u636e\u5e93\u4e2d 4.x \u4e2d\u5bf9\u4e8e clog \u5185\u5b58\u548c\u78c1\u76d8\u5360\u7528\u7684\u5927\u6982\u4f30\u7b97\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u6240\u4ee5\u76ee\u524d\uff0c\u9009\u4e86 24G+10G+20G = 54G \u4f5c\u4e3a\u542f\u52a8\u6700\u5c0f\u4f9d\u8d56\u7684\u5185\u5b58\uff0c\u4e0d\u8fc7\u540e\u7eed\u6709\u4f18\u5316\u7684\u8ba1\u5212\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u5185\u5b58\u662f\u600e\u4e48\u89c4\u5212\u7684\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(49716).A+"",width:"964",height:"475"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u4e2d SQL \u6267\u884c\u6d41\u7a0b",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(95462).A+"",width:"938",height:"551"})," > ",(0,r.jsx)(e.img,{alt:"image.png",src:s(48155).A+"",width:"1022",height:"523"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1asql_audit \u6027\u80fd\u89c6\u56fe\u4e2d\u5404\u4e2a\u5b57\u6bb5\u8868\u8ff0\u7684\u542b\u4e49\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53c2\u770b\u6587\u7ae0:\n",(0,r.jsx)(e.code,{children:"https://open.oceanbase.com/blog/6621094960?_gl=1*5whfs0*_ga*ODQzNDgzMjU4LjE2NjM1NzU0MjE.*_ga_T35KTM57DZ*MTcwNDE4MTM5OC4xNzAzLjEuMTcwNDE4MjMxNi40My4wLjA"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOB4.x \u7248\u672c medium_merge \u7684\u5408\u5e76\u7b56\u7565\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5efa\u8bae\u770b\u6e90\u7801 ObAdaptiveMergePolicy \u7c7b\uff0c\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd\u4e0b\u3002\nmedium_merge \u7684\u89e6\u53d1\u6761\u4ef6\u57fa\u4e8e\u4e00\u4e9b\u6309\u5206\u533a\u6536\u96c6\u7684\u5199\u5165\u3001\u67e5\u8be2\u3001\u6570\u636e\u64cd\u4f5c\u7c7b\u578b\u7b49\u65b9\u9762\u7684\u4fe1\u606f\uff0c\u7ecf\u8fc7\u67d0\u4e9b\u7b56\u7565\u8ba1\u7b97\u540e\u5224\u65ad\u662f\u5426\u89e6\u53d1\u3002\n\u7b80\u5355\u8bf4\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u573a\u666f\uff1a\nLOAD_DATA_SCENE = 1, -- \u5bfc\u6570\u573a\u666f\uff0c\u8f6c\u50a8\u591a\u4e14\u63d2\u5165\u591a\nTOMBSTONE_SCENE = 2, -- \u5220\u9664\u3001\u66f4\u65b0\u591a\u573a\u666f\nINEFFICIENT_QUERY = 3, -- \u6162\u67e5\u8be2\u591a\u573a\u666f\nFREQUENT_WRITE = 4, -- \u65b0\u589e\u6570\u636e\u91cf\u591a"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1amemtable \u4e2d\u7684 transnode \u538b\u7f29\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5c06\u591a\u4e2a transnode\uff0c\u5982\u591a\u4e2a update \u6574\u5408\u5230\u4e00\u4e2a TransNode\uff0c\u5f97\u5230\u4e00\u4e2a\u96c6\u5408\u4e86\u8fd9\u4e9b update \u7684 update \u884c\uff0c\u548c compact \u8fc7\u7a0b\u6709\u70b9\u7c7b\u4f3c\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aSUBPLAN SCAN \u4e0e SUBPLAN FILTER \u7b97\u5b50\u5206\u522b\u4f1a\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u751f\u6210?",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5f53\u8bfb\u89c6\u56fe\u4e2d\u7684\u5185\u5bb9\u65f6\uff0c\u6267\u884c\u8ba1\u5212\u4e2d\u4f1a\u5206\u914d subplan scan \u7b97\u5b50\uff1b\u7c7b\u4f3c\u5730\uff0c\u8bfb\u5b9e\u4f53\u8868\u5c31\u4f1a\u5206\u914d table scan \u7b97\u5b50\u3002\nSQL \u5728\u4f18\u5316\u5668\u91cc\u9996\u5148\u4f1a\u88ab\u6539\u5199\uff0c\u5982\u679c\u6539\u5199\u4e4b\u540e\u8fd8\u662f\u4e00\u4e2a\u5b50\u67e5\u8be2\uff0c\u90a3\u4e48\u5c31\u4f1a\u751f\u6210 SUBPLAN FILTER \u7b97\u5b50\uff0c\u7528\u4e8e\u9a71\u52a8\u5b50\u67e5\u8be2\u7684\u8ba1\u7b97\uff1b\u5982\u679c\u975e\u76f8\u5173\u5b50\u67e5\u8be2\u88ab\u6539\u5199\u6210\u4e86\u7b49\u4ef7\u7684 JOIN\uff0c\u5c31\u4e0d\u4f1a\u751f\u6210 SUBPLAN FILTER \u7b97\u5b50\u4e86\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aSUBPLAN SCAN \u4e0e SUBPLAN FILTER \u7b97\u5b50\u7684\u533a\u522b\u662f\u4ec0\u4e48?",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aSUBPLAN FILTER \u7684\u7b97\u5b50\u529f\u80fd\u662f\u9a71\u52a8\u8868\u8fbe\u5f0f\u4e2d\u7684\u5b50\u67e5\u8be2\u6267\u884c\uff0c\u4ee5 nested-loop \u7b97\u6cd5\u6267\u884c\u53bb subplan filter \u7b97\u5b50\u3002\u5982\u679c\u662f\u76f8\u5173\u5b50\u67e5\u8be2\uff0c\u6267\u884c\u65f6\u6bcf\u4ece\u5de6\u8fb9\u53d6\u4e00\u884c\u6570\u636e\uff0c\u7136\u540e\u5c31\u4f1a\u6267\u884c\u4e00\u904d\u53f3\u8fb9\u7684\u5b50\u8ba1\u5212\uff1b\u5982\u679c\u662f\u975e\u76f8\u5173\u5b50\u67e5\u8be2\uff0c\u8fd8\u662f\u4ece\u5de6\u8fb9\u9010\u884c\u53d6\u6570\u636e\uff0c\u4e0d\u8fc7\u53f3\u8fb9\u7684\u5b50\u8ba1\u5212\u5b9e\u9645\u53ea\u4f1a\u7b97\u4e00\u6b21\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1atablet \u7684\u4f5c\u7528\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1atablet \u662f\u5206\u7247\uff0c\u5177\u5907\u5b58\u50a8\u6570\u636e\u7684\u80fd\u529b\uff0c\u652f\u6301\u5728\u673a\u5668\u4e4b\u95f4\u8fc1\u79fb\uff08transfer\uff09\uff0c\u662f\u6570\u636e\u5747\u8861\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u5206\u533a\u5305\u62ec\u591a\u4e2a\u5206\u7247\uff0csstable \u662f\u57fa\u7ebf\u6570\u636e\uff0c\u4f1a\u5305\u542b\u591a\u4e2a tablet.\u5206\u533a\u5206\u88c2\u548c\u5408\u5e76\u6839\u636e\u5206\u533a\u89c4\u5219\u3002\u6700\u7b80\u5355\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u4e00\u4e2a\u5206\u533a\u5bf9\u5e94\u4e00\u4e2a Tablet\uff0c\u4e00\u4e2a Tablet \u5bf9\u5e94\u4e00\u4e2a SSTable\u3002\u66f4\u591a\u590d\u6742\u60c5\u51b5\u4e0b\uff0c\u8fd9\u90fd\u4e0d\u4e00\u5b9a\uff0c\u5bf9\u5e94\u5173\u7cfb\u4f1a\u6bd4\u8f83\u590d\u6742\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u62a5\u9519",children:(0,r.jsx)(e.strong,{children:"\u62a5\u9519"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aoblogproxy \u7684 config.setTableWhiteList(\u201csys.abc.*\u201d) \u5982\u4f55\u8bbe\u7f6e\u6307\u5b9a\u8868\u7684\u4fe1\u606f\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"|"})," \u5206\u9694\u7b26\uff0c\u4f8b\u5982 ",(0,r.jsx)(e.code,{children:"sys.abc.tableA|sys.abc.tableB"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93 V3.1.0 \u5347\u7ea7\u5230 V3.1.4 \u7248\u672c\u5931\u8d25\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOceanBase \u6570\u636e\u5e93 V3.1.0 \u4e0d\u652f\u6301\u672c\u5730\u5347\u7ea7\uff0c\u53ea\u80fd\u505a\u6570\u636e\u8fc1\u79fb\u903b\u8f91\u5347\u7ea7\uff0c\u5e76\u4e14 3.x \u7248\u672c\u4e0d\u652f\u6301\u76f4\u63a5\u5347\u7ea7\u81f3 4.x \u7248\u672c\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u62a5\u9519 OceanBase \u6570\u636e\u5e93 D-1006: Failed to connect to oceanbase-ce \u7684\u539f\u56e0\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6709\u5982\u4e0b\u51e0\u79cd\u60c5\u51b5\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"OBD \u548c\u76ee\u6807\u673a\u5668\u4e4b\u95f4\u7f51\u7edc\u4e0d\u8fde\u901a\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5bf9\u5e94\u7684\u7ec4\u4ef6\u8fdb\u7a0b\u5df2\u7ecf\u9000\u51fa\u6216\u8005\u4e0d\u63d0\u4f9b\u670d\u52a1\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u8d26\u53f7\u5bc6\u7801\u4e0d\u5339\u914d\u3002"}),"\n",(0,r.jsx)(e.li,{children:"OceanBase \u6570\u636e\u5e93\u65e5\u5fd7\u78c1\u76d8\u4e0d\u8db3\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"oceanbase-ce's servers list is empty "}),"\u7684\u539f\u56e0\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u68c0\u67e5\u90e8\u7f72\u914d\u7f6e\u6587\u4ef6 oceanbase-ce \u6a21\u5757\u4e0b\u7684 servers \u4e2d ip \u683c\u5f0f\u662f\u5426\u586b\u5199\u6b63\u786e\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4f7f\u7528 OBLOADER \u5bfc\u5165\u6570\u636e\u5931\u8d25\uff0c\u672a\u8fd4\u56de\u62a5\u9519\u600e\u4e48\u529e\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOBLOADER \u9ed8\u8ba4\u7684\u884c\u4e3a\u662f\uff1a\u8fd0\u884c\u9519\u8bef\u65e5\u5fd7\u8bb0\u5f55\u5728 logs/ob-loader-dumper.error\uff0c\u5177\u4f53\u9519\u8bef\u7684\u8bb0\u5f55\u4f1a\u8bb0\u5f55\u5728 logs/ob-loader-dumper.bad\u3002",(0,r.jsx)(e.br,{}),"\n","\u5982\u679c\u8981\u6c42\u9047\u5230\u9519\u8bef\u5feb\u901f\u5931\u8d25\uff0c\u53ef\u4ee5\u6307\u5b9a --max-errors \u9009\u9879\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOCP \u754c\u9762\u65e0\u64cd\u4f5c\u9000\u51fa\u767b\u9646\uff0c\u600e\u4e48\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u9ed8\u8ba4\u662f 30m \u65e0\u64cd\u4f5c\u9000\u51fa\uff0c\u53ef\u5728 OCP \u7cfb\u7edf\u53c2\u6570\u4e2d\u8bbe\u7f6e server.servlet.session.timeout\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOCP \u4e0a\u96c6\u7fa4\u72b6\u6001\u663e\u793a\u8fd0\u7ef4\u4e2d\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u201c\u4efb\u52a1\u201d\u4e2d\u53ef\u80fd\u6709\u4efb\u52a1\u5728\u6267\u884c\u6216\u6267\u884c\u5931\u8d25\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u95ee\uff1a\u7528 benchmarksql \u5bfc\u5165\u6570\u636e\u65f6\uff0c\u51fa\u73b0\u5982\u4e0b 3 \u7c7b\u9519\u8bef\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Worker 089: ERROR: Failed to init SQL parser"}),"\n",(0,r.jsx)(e.li,{children:"Worker 044: ERROR: No memory or reach tenant memory limit"}),"\n",(0,r.jsx)(e.li,{children:"Worker 083: ERROR: Internal error"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u7b54\uff1a\u9996\u5148\u770b\u4e0b\u76f8\u5173\u65e5\u5fd7\u6587\u4ef6\uff0c\u5982 benchmarksql.log\u3002"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\u786e\u8ba4\u4f7f\u7528\u7684\u79df\u6237\uff0c\u56e0\u4e3a sys \u79df\u6237\u5185\u5b58\u592a\u5c0f\uff0c\u5f88\u53ef\u80fd\u4e0d\u591f\u7528\uff0c\u6240\u4ee5\u4e0d\u5efa\u8bae\u4f7f\u7528 sys \u79df\u6237\u3002 \u53ef\u901a\u8fc7\u547d\u4ee4 ",(0,r.jsx)(e.code,{children:"select a.tenant_id,max(tenant_name), round(sum(used)/1024/1024/1024,2) \u201cmem_quota_used(G)\u201d from gv$memory a, __all_tenant b where a.tenant_id=b.tenant_id;"})," \u67e5\u8be2\uff0c\u5982\u679c\u67e5\u8be2\u7ed3\u679c tenant_id > 1000 \u5219\u662f\u666e\u901a\u79df\u6237\uff0c\u8fd9\u6837\u53ef\u4ee5\u5224\u65ad\u79df\u6237\u7684\u60c5\u51b5\u3002"]}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u662f\u666e\u901a\u79df\u6237\uff0c\u67e5\u770b memory_limit \u7684\u503c\u662f\u4e0d\u662f\u592a\u5c0f\uff0c\u5efa\u8bae\u8c03\u5927\u4e9b\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u67e5\u770b props.ocenbase \u914d\u7f6e\u6587\u4ef6\uff0c\u91cc\u9762\u914d\u7f6e\u4e86\u5f88\u591a\u6d4b\u8bd5\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u6bd4\u5982\u6570\u636e\u5e93\uff0c\u4ed3\u5e93\u6570\u7b49\u7b49\u3002props.oceanbase \u6587\u4ef6\u4e2d\u53c2\u6570 warehouses \u548c loadWorkers \u7684\u503c\u9700\u8981\u4fee\u6539\u6210\u8f83\u5c0f\u7684\u503c\uff0c\u7136\u540e\u767b\u5f55\uff08\u7528 user \u53c2\u6570\u503c\u767b\u5f55\uff09\uff0c\u518d\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u5982\u679c\u6ca1\u95ee\u9898\uff0c\u8bf4\u660e\u6d4b\u8bd5\u8d44\u6e90\u4e0d\u8db3\uff0c\u53ef\u80fd\u662f\u79df\u6237\u8d44\u6e90\uff0c\u4e5f\u53ef\u80fd\u662f\u673a\u5668\u8d44\u6e90\u6709\u95ee\u9898\uff0c\u6b64\u65f6\u53ef\u4ee5\u53c2\u8003\u79df\u6237\u8d44\u6e90\u548c\u673a\u5668\u914d\u7f6e\u5206\u6790\u539f\u56e0\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:['\u95ee\uff1a\u4f7f\u7528 myloader \u60f3 OB4.2 \u5bfc\u5165\u6570\u636e\u62a5\u9519\uff1aCannot parse integer value "-u" for -P',(0,r.jsx)(e.br,{}),"\n",'\u7b54\uff1a\u9700\u8981\u5728 -u\uff0c-P\uff0c-p \u53c2\u6570 \u540e\u589e\u52a0\u7a7a\u683c\uff0c\u4f8b\u5982\uff1a-u test -P 2881 -p "123"\u3002']}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aubuntu \u7cfb\u7edf\u4e0b obclient2.2.2 \u7248\u672c\u65e0\u6cd5\u4f7f\u7528\u65b9\u5411\u952e\u548c\u9000\u683c\u952e\u3002",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aobclient2.2.3 \u4fee\u590d\uff0c\u6216\u8005\u4f7f\u7528 mysql \u5ba2\u6237\u7aef\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5173\u4e8e\u5c55\u793a\u7269\u7406\u6062\u590d\u79df\u6237\u3001\u5907\u79df\u6237\u7684\u65e5\u5fd7\u6062\u590d\u6e90\u7684\u89c6\u56fe CDB_OB_LOG_RESTORE_SOURCE \u4e2d\u7684 RECOVERY_UNTIL_SCN \u5b57\u6bb5\u4e3a\u65e5\u5fd7\u83b7\u53d6\u4e0a\u9650\uff0c\u4e3a\u4ec0\u4e48\u4f1a\u6709\u4e0a\u9650\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aRECOVERY_UNTIL_SCN \uff1a\u8868\u793a\u79df\u6237\u53ef\u6062\u590d\u5230\u7684\u7ec8\u70b9\uff0c\u5982\u679c\u503c\u4e3a 4611686018427387903 \uff0c\u5219\u8868\u793a\u6062\u590d\u5230\u65e0\u7a77\u3002\n\u5982\u679c RECOVERY_UNTIL_SCN \u4e3a\u67d0\u4e2a\u6307\u5b9a\u7684\u503c\uff08\u975e 4611686018427387903 \uff09\uff0c\u5219\u5f53\u79df\u6237\u7684\u540c\u6b65\u4f4d\u70b9 SYNC_SCN \u4e0e\u79df\u6237\u53ef\u6062\u590d\u5230\u7684\u7ec8\u70b9 RECOVERY_UNTIL_SCN \u76f8\u7b49\u65f6\uff0c\u79df\u6237\u4e0d\u518d\u540c\u6b65\u65e5\u5fd7\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u6545\u969c\u6062\u590d",children:(0,r.jsx)(e.strong,{children:"\u6545\u969c\u6062\u590d"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u670d\u52a1\u5668\u786c\u4ef6\u6545\u969c\u6216\u8005\u9700\u8981\u957f\u65f6\u95f4\u505c\u6b62\u67d0\u4e2a\u8282\u70b9\u6216\u67d0\u4e2a Zone\uff0c\u600e\u4e48\u64cd\u4f5c\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u9700\u8981\u8c03\u6574 server_permanent_offline_time \u53c2\u6570\uff0c\u9632\u6b62\u88ab\u6c38\u4e45\u4e0b\u7ebf\u3002\u9ed8\u8ba4\u662f 1 \u5c0f\u65f6\u3002\u8be5\u914d\u7f6e\u9879\u7684\u9002\u7528\u573a\u666f\u53ca\u5efa\u8bae\u503c\u5982\u4e0b\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"OceanBase \u6570\u636e\u5e93\u7248\u672c\u5347\u7ea7\u573a\u666f\uff1a\u5efa\u8bae\u5c06\u8be5\u914d\u7f6e\u9879\u7684\u503c\u8bbe\u7f6e\u4e3a 72h\uff08OCP \u5347\u7ea7 OceanBase \u6570\u636e\u5e93\u53ef\u5ffd\u7565\uff0c\u9ed8\u8ba4\u4f1a\u8c03\u6574\uff09\u3002"}),"\n",(0,r.jsx)(e.li,{children:"OceanBase \u6570\u636e\u5e93\u786c\u4ef6\u66f4\u6362\u573a\u666f\uff1a\u5efa\u8bae\u624b\u52a8\u5c06\u8be5\u914d\u7f6e\u9879\u7684\u503c\u8bbe\u7f6e\u4e3a 4h\u3002"}),"\n",(0,r.jsx)(e.li,{children:"OceanBase \u6570\u636e\u5e93\u6e05\u7a7a\u4e0a\u7ebf\u573a\u666f\uff1a\u5efa\u8bae\u5c06\u8be5\u914d\u7f6e\u9879\u7684\u503c\u8bbe\u7f6e\u4e3a 10m\uff0c\u4f7f\u96c6\u7fa4\u5feb\u901f\u4e0a\u7ebf\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u521b\u5efa\u5206\u533a\u8868\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Too many partitions (including subpartitions) were defined"}),"\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6709\u5982\u4e0b\u4e24\u4e2a\u539f\u56e0\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u8d85\u51fa\u5355\u8868\u6700\u5927\u5206\u533a\u6570\u9650\u5236\uff088192 \u4e2a\uff09\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u79df\u6237\u5185\u5b58\u4e0d\u8db3\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u7cfb\u7edf\u79df\u6237 root@sys \u7528\u6237\u5bc6\u7801\u5fd8\u8bb0\u4e86\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6839\u636e\u90e8\u7f72\u65b9\u5f0f\u7684\u4e0d\u540c\u6709\u4e24\u79cd\u65b9\u6cd5\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["OCP \u90e8\u7f72\u65f6\u53ef\u5bf9\u5e94\u96c6\u7fa4\u603b\u89c8\u754c\u9762 - ",(0,r.jsx)(e.strong,{children:"\u4fee\u6539\u5bc6\u7801"}),"\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(27001).A+"",width:"1500",height:"203"})]}),"\n",(0,r.jsxs)(e.li,{children:["OBD \u90e8\u7f72\u65f6\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster edit-config \u90e8\u7f72\u540d\u79f0"})," \u547d\u4ee4\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u5bc6\u7801\u4fe1\u606f\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOMS4.x \u5982\u4f55\u8df3\u8fc7 DDL \u64cd\u4f5c\uff1f",(0,r.jsx)(e.br,{}),"\n",'\u7b54\uff1a\u76ee\u524d OMS4.x \u5df2\u652f\u6301\u754c\u9762\u64cd\u4f5c\u8df3\u8fc7 DDL\uff0c\u524d\u63d0\u662f\u589e\u91cf\u540c\u6b65\u62a5\u9519\u540e\uff0c\u4eba\u4e3a\u754c\u9762\u786e\u8ba4\u5e76\u8df3\u8fc7\uff0c\u4e14\u5e76\u975e\u6240\u6709 DDL \u90fd\u652f\u6301\u8df3\u8fc7\u3002\u624b\u52a8\u8df3\u8fc7\u65b9\u5f0f\u5982\u4e0b\uff1a\n\u67e5\u770b\u7ec4\u4ef6\u76d1\u63a7 -> \u66f4\u65b0 Incr-Sync \u7ec4\u4ef6 -> skipDdl \u9879\n\u8df3\u8fc7 1 \u4e2a ddl \u5199\u6cd5\uff1a["create table a as select * from b"]\n\u8df3\u8fc7\u591a\u4e2a ddl \u5199\u6cd5\uff1a["create table a as select * from b","create table c as select * from d""]\n\u8df3\u8fc7\u5305\u542b\u5173\u952e\u5b57\u7684 ddl \u5199\u6cd5\uff1a["utf8mb4_unicode_ci"] \u8868\u793a\u589e\u91cf\u4e2d\u8df3\u8fc7\u6240\u6709\u5305\u542b utf8mb4_unicode_ci \u5173\u952e\u5b57\u7684 DDL \u8bed\u53e5\u3002']}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOMS \u589e\u91cf\u540c\u6b65\u70b9\u4f4d\u914d\u7f6e\u65b9\u6cd5\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5206\u4e3a 2 \u79cd\u573a\u666f\uff0cOMS4.1.1 \u4e4b\u524d\u7248\u672c\u548c OMS4.1.1 \u4ee5\u53ca\u4e4b\u540e\u7248\u672c\u914d\u7f6e\u65b9\u5f0f"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["OMS 4.1.1-CE \u53ca\u4ee5\u540e\u7248\u672c\uff0c\u8fc1\u79fb\u94fe\u8def\u9009\u62e9\u589e\u91cf\u540c\u6b65\u65f6\uff0c\u524d\u7aef\u9875\u9762\u53ef\u4ee5\u76f4\u63a5\u8c03\u6574\u589e\u91cf\u540c\u6b65\u4f4d\u70b9\u3002\n",(0,r.jsx)(e.img,{src:s(69506).A+"",width:"2058",height:"626"})]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"OMS 4.1.0-CE \u7248\u672c\uff0c\u524d\u7aef\u9875\u9762\u65e0\u6cd5\u9009\u62e9 \u589e\u91cf\u540c\u6b65\u8d77\u59cb\u4f4d\u70b9\uff0c\u4fee\u6539\u65b9\u6cd5\u5982\u4e0b\uff1a"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u8fd0\u7ef4\u76d1\u63a7 -> \u7ec4\u4ef6 -> store -> \u65b0\u589e -> \u586b\u5199\u540c\u6b65\u8d77\u59cb\u70b9\u4f4d\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u518d\u901a\u8fc7\u8fc1\u79fb\u94fe\u8def\u505c\u6b62\u539f\u6765\u8fc1\u79fb\u94fe\u8def\u7684 store \u7ec4\u4ef6\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5728\u522b\u7684\u670d\u52a1\u5668\u4e0a\u91cd\u65b0\u90e8\u7f72\u4e86 OBD\uff0c\u600e\u4e48\u628a\u539f\u6765\u7684 OBD \u96c6\u7fa4\u4fe1\u606f\u63a5\u7ba1\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u4ee5\u628a\u539f\u90e8\u7f72\u7684 obd \u7528\u6237\u4e0a\u7684~/.obd/\u4e0a\u7684\u4fe1\u606f\u590d\u5236\u5230\u65b0\u7684\u73af\u5883\u4e0a~/.obd/\u4e0b\uff08obd \u7684\u90e8\u7f72\u7528\u6237\u9700\u8981\u4fdd\u6301\u4e00\u81f4\uff09\uff0c\u540c\u65f6\u9700\u8981\u4fdd\u8bc1\u514d\u5bc6\u7b49\u64cd\u4f5c\u7684\u4e00\u81f4\u6027\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOCP \u7ba1\u7406\u7684 OB \u6570\u636e\u78c1\u76d8\u9884\u5360\u7528\u592a\u5927\uff0c\u4e5f\u65e0\u6cd5\u6269\u78c1\u76d8\uff0c\u600e\u4e48\u529e\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aOB \u7684\u6570\u636e\u78c1\u76d8\u53c2\u6570 datafile_size \u548c datafile_disk_percentage \u662f\u4e0d\u652f\u6301\u7f29\u5c0f\u7684\uff0c\u4e00\u65e6\u9884\u5360\u7528\u592a\u5927\uff0c\u7279\u522b\u662f\u540c\u76d8\u573a\u666f\uff0c\u5176\u4ed6\u6587\u4ef6\u5360\u7528\u78c1\u76d8\u540e\uff0c\u4f1a\u51fa\u73b0\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\u7b49\u95ee\u9898\uff0c\u5f71\u54cd\u96c6\u7fa4\u6b63\u5e38\u4f7f\u7528\u3002\u591a\u8282\u70b9\u96c6\u7fa4\u73af\u5883\u662f\u53ef\u4ee5\u901a\u8fc7\u8282\u70b9\u66ff\u6362\u65b9\u6848\u8f6e\u8be2\u91cd\u88c5\u5355\u8282\u70b9\u91cd\u65b0\u8bbe\u7f6e\u6570\u636e\u76d8\u5927\u5c0f\u7684\u3002\u5355\u673a\u53ef\u4ee5\u90e8\u7f72\u65b0\u73af\u5883\uff0c\u91c7\u7528\u6570\u636e\u5bfc\u51fa\u5bfc\u5165/ODC \u6570\u636e\u5f52\u6863/OMS \u6570\u636e\u8fc1\u79fb/\u5907\u4efd\u6062\u590d/\u4e3b\u5907\u79df\u6237\u65b9\u5f0f\u6062\u590d\u6570\u636e\u3002\u4ee5\u4e0b\u4ee5\u591a\u8282\u70b9\u96c6\u7fa4\u65b9\u6848\u540e\u53f0\u64cd\u4f5c\u65b9\u5f0f\u8c03\u6574\u6d41\u7a0b\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u8be5\u65b9\u6cd5\u4f7f\u7528\u9650\u5236\uff1a\n\u4ec5\u9002\u7528\u4e8e OB \u96c6\u7fa4\u73af\u5883\uff0c\u5355\u8282\u70b9\u7981\u6b62\u4f7f\u7528\u3002\n\u7528\u6237\u90e8\u7f72 OB \u7684\u65f6\u5019 datafile_size \u6216\u8005 datafile_disk_percentage \u91c7\u7528\u9ed8\u8ba4\u503c\uff0c\u540e\u7eed\u89c9\u5f97\u592a\u5927\uff0cdatafile \u53c2\u6570\u4e0d\u652f\u6301\u8c03\u5c0f\u3002"}),"\n",(0,r.jsxs)(e.p,{children:["4.x \u786e\u8ba4 data/clog disk \u4f7f\u7528\u60c5\u51b5\n",(0,r.jsx)(e.code,{children:"select zone,svr_ip,svr_port, round(log_disk_capacity/1024/1024/1024,2) as log_disk_capacity_gb, round(log_disk_assigned/1024/1024/1024,2) as log_disk_assigned_gb, round((log_disk_capacity-log_disk_assigned)/1024/1024/1024,2) as log_disk_free_gb, round((data_disk_capacity/1024/1024/1024),2) as data_disk_gb, round((data_disk_in_use/1024/1024/1024),2) as data_disk_used_gb, round((data_disk_capacity-data_disk_in_use)/1024/1024/1024,2) as data_disk_free_gb from gv$ob_servers;"})]}),"\n",(0,r.jsxs)(e.p,{children:["3.x \u786e\u8ba4 disk \u4f7f\u7528\u60c5\u51b5\n",(0,r.jsx)(e.code,{children:"select svr_ip,svr_port, round(total_size/1024/1024/1024,2) as total_size_gb, round(used_size/1024/1024/1024,2) as used_size_gb, round(free_size/1024/1024/1024,2) as free_size_gb from __all_virtual_disk_stat ;"})]}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u8fc7\u4e0a\u9762\u7684 sql \u53ef\u4ee5\u8bc4\u4f30\u5b9e\u9645\u6570\u636e\u5360\u7528\u7684\u78c1\u76d8\u5927\u5c0f\uff0c\u5982\u679c\u5b9e\u9645\u4f7f\u7528\u91cf\u5c0f\uff0c\u53ef\u4ee5\u91c7\u7528\u91cd\u5efa\u8282\u70b9\u6765\u51cf\u5c0f datafile \u5927\u5c0f\u3002"}),"\n",(0,r.jsxs)(e.p,{children:["\u786e\u8ba4\u8981 delete server \u7684\u8282\u70b9\u4e0a\u6d89\u53ca\u7684\u79df\u6237:\n",(0,r.jsx)(e.code,{children:"select tenant_id,tenant_name from dba_ob_tenants where tenant_id in (select tenant_id from dba_ob_units where svr_ip='xxx');"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u786e\u8ba4\u8981 delete server \u6240\u5c5e\u7684 zone:\n",(0,r.jsx)(e.code,{children:"select svr_ip,zone from gv$ob_units where tenant_id=xxx and svr_ip='xxx';"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u8c03\u6574\u79df\u6237\u7684 locality:\n",(0,r.jsx)(e.code,{children:'alter tenant test2 locality="F@zone1,F@zone2";'})]}),"\n",(0,r.jsxs)(e.p,{children:["\u786e\u8ba4 locality \u662f\u5426\u6267\u884c\u5b8c\u6210:\n",(0,r.jsx)(e.code,{children:"select * from DBA_OB_TENANT_JOBS where sql_text like 'alter tenant test2 localit%';"})]}),"\n",(0,r.jsx)(e.p,{children:"\u8bf4\u660e\uff1a\nenable_rereplication=true\uff0c\u5bf9\u5e94\u7684\u79df\u6237 ls_gc_delay_time \u9ed8\u8ba4\u662f 1 \u5c0f\u65f6 gc\uff0c\u53ef\u4ee5\u8c03\u5c0f\u52a0\u5feb\u65e5\u5fd7\u6d41 gc\u3002"}),"\n",(0,r.jsxs)(e.p,{children:["\u8c03\u6574\u79df\u6237\u7684 resource pool list:\n",(0,r.jsx)(e.code,{children:"select * from dba_ob_resource_pools where tenant_id=xxx and zone_list='xxx';"})," > ",(0,r.jsx)(e.code,{children:"alter tenant test2 resource_pool_list=('pool_test2_zone1_dgu', 'pool_test2_zone2_brw');"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u5220\u9664 resource pool:\n",(0,r.jsx)(e.code,{children:"drop resource pool xxx3;"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u8bf4\u660e\uff1a\n\u5982\u679c\u8981\u5220\u9664\u7684 resource pool \u5728\u591a\u4e2a zone \u4e0a\u5b58\u5728\u590d\u7528\u7684\u60c5\u51b5\uff0c\u9700\u8981\u5148\u6267\u884c split \u64cd\u4f5c\uff0c\u793a\u4f8b\uff1a\n",(0,r.jsx)(e.code,{children:"ALTER RESOURCE POOL pool1 SPLIT INTO ('pool10','pool11') ON ('zone1','zone2');"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u6267\u884c delete server:\n",(0,r.jsx)(e.code,{children:"alter system delete server 'xxx:2882';"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u786e\u8ba4\u5f85\u5220\u9664\u7684\u8282\u70b9\u5728 dba_ob_servers \u91cc\u4e0d\u5b58\u5728\u4e86\n",(0,r.jsx)(e.code,{children:"select * from dba_ob_servers where svr_ip='xxx';"})]}),"\n",(0,r.jsxs)(e.p,{children:["kill \u6389\u5f85\u91cd\u5efa\u7684\u8282\u70b9\u4e0a\u7684 observer \u8fdb\u7a0b:\n",(0,r.jsx)(e.code,{children:"kill -9 xxx"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u5bfc\u51fa etc \u914d\u7f6e\u6587\u4ef6\u5185\u5bb9:\n",(0,r.jsx)(e.code,{children:"strings observer.config.bin > observer_config.txt"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u5220\u9664\u6587\u4ef6(\u6ce8\u610f\uff1a\u5982\u679c\u6709\u8f6f\u8fde\u63a5\uff0c\u9700\u8981\u4fdd\u7559\uff0c\u4ec5\u5220\u9664\u5bf9\u5e94\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6)\uff1a\n",(0,r.jsx)(e.code,{children:"rm -rf  sstable/*"})," > ",(0,r.jsx)(e.code,{children:"rm -rf clog/*"})," > ",(0,r.jsx)(e.code,{children:"rm -rf slog/*"})," > ",(0,r.jsx)(e.code,{children:"rm -rf  etc/observer.config.bin"}),(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"rm -rf etc/observer.config.bin.history"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u6ce8\u610f\u5728\u6b63\u786e\u7684\u7528\u6237\u4e0b\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u5e76\u542f\u52a8:\n",(0,r.jsx)(e.code,{children:"export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/admin/oceanbase/lib"}),"\n\u542f\u52a8 observer\uff08\u6ce8\u610f\u8c03\u6574 datafile_size \u5927\u5c0f\uff0c\u5176\u4ed6\u914d\u7f6e\u89c1\u524d\u9762\u5bfc\u51fa\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u503c\uff09\n",(0,r.jsx)(e.code,{children:"/home/admin/oceanbase/bin/observer -r 'xx.xx.xx.xx:2882:2881;xx.xx.xx.xx:2882:2881;xx.xx.xx.xx:2882:2881' -p 2881 -P 2882 -z zone3 -c 4 -d /home/admin/oceanbase/store/obcluster -i eth0 -o \"__min_full_resource_pool_memory=1073741824,memory_limit=24G,system_memory=2G,datafile_size=20G,enable_syslog_wf=False,enable_syslog_recycle=True,max_syslog_file_count=100,obconfig_url=http://xx.xx.xx.xx:8080/services?Action=ObRootServiceInfo&User_ID=alibaba&UID=ocpmaster&ObRegion=obcluster\""})]}),"\n",(0,r.jsxs)(e.p,{children:["\u5c06\u5904\u7406\u8fc7\u7684\u8282\u70b9\u52a0\u8fdb\u96c6\u7fa4\n",(0,r.jsx)(e.code,{children:"alter system add server '172.24.255.51:2882' zone 'zone3';"})]}),"\n",(0,r.jsx)(e.p,{children:"\u7ed9\u5bf9\u5e94\u7684\u79df\u6237\u6dfb\u52a0\u526f\u672c"}),"\n",(0,r.jsx)(e.p,{children:"\u5f00\u59cb\u5176\u4ed6\u8282\u70b9\u7684\u64cd\u4f5c\uff0c\u6b65\u9aa4\u540c\u4e0a\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u6027\u80fd\u8c03\u4f18",children:(0,r.jsx)(e.strong,{children:"\u6027\u80fd\u8c03\u4f18"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aexplain \u9884\u4f30\u8017\u65f6\u4e0d\u51c6\uff0c\u6709\u5177\u4f53\u8fc7\u7a0b\u6267\u884c\u8017\u65f6\u5417\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u4ee5\u67e5\u770b\u89c6\u56fe\u8868 gv$sql_plan_monitor\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u4ebf\u7ea7\u522b\u6570\u636e\u521b\u5efa\u7d22\u5f15\u8017\u65f6\u8d85\u957f\u600e\u4e48\u4f18\u5316\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u589e\u52a0\u5e76\u884c\u52a0\u5feb\u7d22\u5f15\u521b\u5efa\uff0c\u8bbe\u7f6e\u5e76\u53d1"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SET GLOBAL OB_SQL_WORK_AREA_PERCENTAGE = 30;   ---  \u589e\u52a0SQL\u6267\u884c\u5185\u5b58\u767e\u5206\u6bd4\nSET SESSION_FORCE_PARALLEL_DDL_DOP = 32;  --- \u8bbe\u7f6eDDL\u5e76\u884c\u5ea6\nSET GLOBAL PARALLEL_SERVERS_TARGET = 64;   --- \u5e76\u884c\u5ea6\u589e\u52a0\u9700\u8981\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u6bd4\u6240\u6709\u5e76\u884c\u5ea6\u548c\u5927\u5373\u53ef\uff0c\u6240\u6709 DDL \u7684\u5e76\u884c\u5ea6\u52a0\u8d77\u6765\u4e0d\u8d85\u8fc7\u79df\u6237 max_cpu \u7684\u4e0a\u9650\nALTER SYSTEM SET _TEMPORARY_FILE_IO_AREA_SIZE = '5';  --- \u8c03\u5927\u4e34\u65f6\u6587\u4ef6\u5185\u5b58\u7f13\u5b58\uff0c\u5efa\u8bae\u5c0f\u4e8e10\n-- \u5982\u679c\u6709\u9650\u6d41\u53ef\u4ee5\u5173\u95ed\n\u5173\u95ed IO \u9650\u6d41\uff1aalter resource unit xxxx max_iops=10000000, min_iops=10000000;  --- 1 \u4e2a Core \u5bf9\u5e94 1 \u4e07 IOPS \u7684\u503c\n\u5173\u95ed\u7f51\u7edc\u9650\u6d41\uff1aalter system set sys_bkgd_net_percentage = 100;   --- \u9ed8\u8ba460\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5927\u6570\u636e\u91cf\u63d2\u5165\u5982\u4f55\u63d0\u9ad8\u6548\u7387\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u4ee5\u4ece\u5e94\u7528\u5c42\u3001\u6570\u636e\u5e93\u5c42\u3001\u5de5\u5177\u5c42\u4e09\u4e2a\u5c42\u9762\u63d0\u9ad8\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5e94\u7528\u5c42\uff1a\njdbc url \u4e0a\u5f00\u542f\u6279\u91cf\u53c2\u6570\uff0c\u91cd\u5199\u6279\u91cf\uff0cps \u7f13\u5b58\u76f8\u5173\u53c2\u6570\u6253\u5f00\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cacheServerConfiguration=true\nrewriteBatchedStatements=true\nuseServerPrepStmts=true\ncachePrepStmts=true\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u7136\u4ee3\u7801\u4e5f\u662f\u8981 addBatch\uff0cexecuteBatch\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u6570\u636e\u5e93\u5c42\uff1a","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["OceanBase \u6570\u636e\u5e93 4.1 \u7248\u672c\u652f\u6301\u65c1\u8def\u5bfc\u5165\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1\u5b98\u7f51 OceanBase \u6570\u636e\u5e93\u6587\u6863 ",(0,r.jsx)(e.a,{href:"https://www.oceanbase.com/docs/common-oceanbase-database-cn-10000000001687926",children:"\u65c1\u8def\u5bfc\u5165\u6982\u8ff0"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["4.x \u7248\u672c\u652f\u6301\u5e76\u884c\u5bfc\u5165\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1\u5b98\u7f51 OceanBase \u6570\u636e\u5e93\u6587\u6863 ",(0,r.jsx)(e.a,{href:"https://www.oceanbase.com/docs/community-observer-cn-10000000000900958",children:"\u4f53\u9a8c\u5e76\u884c\u5bfc\u5165 & \u6570\u636e\u538b\u7f29"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5de5\u5177\u5c42\uff1a\n\u4f7f\u7528 OBLOADER \u5bfc\u6570\u5de5\u5177\uff0c\u5e76\u6309\u9700\u8fdb\u884c\u8c03\u4f18\uff0c\u8be6\u60c5\u8bf7\u53c2\u89c1\u5b98\u7f51 OceanBase \u5bfc\u6570\u5de5\u5177\u6587\u6863 ",(0,r.jsx)(e.a,{href:"https://www.oceanbase.com/docs/community-obloaderdumper-cn-10000000002035960",children:"\u6027\u80fd\u8c03\u4f18"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u7cfb\u7edf\u65e5\u5fd7\u6253\u5370\u592a\u5927\u592a\u591a\u600e\u4e48\u529e\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u53c2\u8003\u5982\u4e0b\u547d\u4ee4\u4f18\u5316\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"# \u8fdb\u5165 OceanBase \u6570\u636e\u5e93\u7684\u65e5\u5fd7\u76ee\u5f55\ncd ~/observer/log\n# \u5220\u9664 wf \u548c\u65e5\u671f\u7ed3\u5c3e\u7684\u65e5\u5fd7\nrm -f observer*.wf observer.log.2023*\n# \u767b\u5f55\u7cfb\u7edf\u79df\u6237\uff08root@sys\uff09\uff0c\u8bbe\u7f6e\u7cfb\u7edf\u65e5\u5fd7\u53c2\u6570\nalter system set enable_syslog_recycle=true  -- \u5f00\u542f\u65e5\u5fd7\u56de\u6536\nalter system set enable_syslog_wf=false  --\u5173\u95ed wf \u65e5\u5fd7\u6253\u5370\nalter system set max_syslog_file_count=10  --\u9650\u5236\u65e5\u5fd7\u4e2a\u6570\uff0c\u6309\u9700\u8c03\u6574\uff08\u5355\u4e2a\u65e5\u5fd7 256M\uff09\nalter system set syslog_level ='ERROR';   --\u8bbe\u7f6e\u7cfb\u7edf\u65e5\u5fd7\u7ea7\u522b\uff08DEBUG/TRACE/INFO/WARN/USER_ERR/ERROR\uff09\uff0c\u751f\u4ea7\u73af\u5883\u5efa\u8bae\u4fdd\u6301 INFO \u7ea7\u522b\uff0c\u65b9\u4fbf\u95ee\u9898\u6392\u67e5\u5b9a\u4f4d\u3002\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOBProxy \u65e5\u5fd7\u6253\u5370\u592a\u5927\u592a\u591a\u600e\u4e48\u529e\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u53ef\u4f7f\u7528\u7cfb\u7edf\u79df\u6237\uff08root@sys\uff09\u6216\u8005 root@proxysys \u8fde\u63a5 OceanBase \u96c6\u7fa4\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4fee\u6539\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"show proxyconfig like '%log_file_percentage%';\nalter proxyconfig set log_file_percentage=75;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4ee5\u4e0b\u662f OBProxy \u65e5\u5fd7\u76f8\u5173\u53c2\u6570\u3002"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"\u53c2\u6570"}),(0,r.jsx)(e.th,{children:"\u9ed8\u8ba4\u503c"}),(0,r.jsx)(e.th,{children:"\u53d6\u503c\u8303\u56f4"}),(0,r.jsx)(e.th,{children:"\u89e3\u91ca"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"log_file_percentage"})}),(0,r.jsx)(e.td,{children:"80"}),(0,r.jsx)(e.td,{children:"[0, 100]"}),(0,r.jsx)(e.td,{children:"OBProxy \u65e5\u5fd7\u767e\u5206\u6bd4\u9608\u503c\u3002\u8d85\u8fc7\u9608\u503c\u5373\u8fdb\u884c\u65e5\u5fd7\u6e05\u7406\u3002"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"log_dir_size_threshold"})}),(0,r.jsx)(e.td,{children:"64GB"}),(0,r.jsx)(e.td,{children:"[256MB, 1T]"}),(0,r.jsx)(e.td,{children:"OOBProxy \u65e5\u5fd7\u5927\u5c0f\u9608\u503c\u3002\u8d85\u8fc7\u9608\u503c\u5373\u8fdb\u884c\u65e5\u5fd7\u6e05\u7406\u3002"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"max_log_file_size"})}),(0,r.jsx)(e.td,{children:"256MB"}),(0,r.jsx)(e.td,{children:"[1MB, 1G]"}),(0,r.jsx)(e.td,{children:"\u5355\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u6700\u5927\u5c3a\u5bf8\u3002"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"syslog_level"})}),(0,r.jsx)(e.td,{children:"INFO"}),(0,r.jsx)(e.td,{children:"DEBUG, TRACE, INFO, WARN, USER_ERR, ERROR"}),(0,r.jsx)(e.td,{children:"\u65e5\u5fd7\u7ea7\u522b\u3002"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase \u6570\u636e\u5e93\u600e\u4e48\u5f00\u542f\u6162\u67e5\u8be2\u8bb0\u5f55\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1aSQL \u6267\u884c\u65f6\u95f4\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8d85\u8fc7 1s \u5c31\u4f1a\u8bb0\u5f55\u5230 observer.log \u65e5\u5fd7\u6216\u8005\u5728 OCP \u767d\u5c4f\u76d1\u63a7\u6709\u8bb0\u5f55\u3002\u8be5\u914d\u7f6e\u53d7\u79df\u6237\u53c2\u6570 ",(0,r.jsx)(e.code,{children:"trace_log_slow_query_watermark"})," \u63a7\u5236\uff0c\u53ef\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u4fee\u6539\u914d\u7f6e\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- \u67e5\u770b\u53c2\u6570\u914d\u7f6e\nshow parameters like '%trace_log_slow_query_watermark%';\n-- \u4fee\u6539\u53c2\u6570\nalter system set trace_log_slow_query_watermark='2s';\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1a\u5982\u4f55\u67e5\u770b\u67d0\u4e2a\u5b9e\u4f8b\uff08\u79df\u6237\uff09\u4e0b\u5e93\u8868\u5206\u533a\u4e3b\u526f\u672c\u7684\u4f4d\u7f6e\u548c\u5927\u5c0f\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u6839\u636e\u4e0d\u540c\u7248\u672c\u6709\u5982\u4e0b\u4e24\u79cd\u65b9\u5f0f\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93 3.x \u7248\u672c\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT t.tenant_id, a.tenant_name, t.table_name, d.database_name, tg.tablegroup_name , t.part_num , t2.partition_id, t2.ZONE, t2.svr_ip , round(t2.data_size/1024/1024/1024) data_size_gb\n, a.primary_zone , IF(t.locality = '' OR t.locality IS NULL, a.locality, t.locality) AS locality FROM oceanbase.__all_tenant AS a\nJOIN oceanbase.__all_virtual_database AS d ON ( a.tenant_id = d.tenant_id )\nJOIN oceanbase.__all_virtual_table AS t ON (t.tenant_id = d.tenant_id AND t.database_id = d.database_id)\nJOIN oceanbase.__all_virtual_meta_table t2 ON (t.tenant_id = t2.tenant_id AND (t.table_id=t2.table_id OR t.tablegroup_id=t2.table_id) AND t2.ROLE IN (1) )\nLEFT JOIN oceanbase.__all_virtual_tablegroup AS tg ON (t.tenant_id = tg.tenant_id and t.tablegroup_id = tg.tablegroup_id)\nWHERE a.tenant_id IN (1006 ) AND t.table_type IN (3)\nAND d.database_name = 'T_FUND60PUB'  -- \u5e93\u540d\nand table_name in ('BMSQL_HISTORY')  -- \u8868\u540d\nORDER BY t.tenant_id, tg.tablegroup_name, d.database_name, t.table_name, t2.partition_id;\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"select svr_ip,count(1) from__all_virtual_ls_meta_table where tenant_id=1002 groupby svr_ip;\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOceanBase4.1 \u5347\u7ea7\u5230 OB4.2 \u7248\u672c\uff0cNLJ \u7b97\u5b50\u8fde\u63a5\u987a\u5e8f\u53d8\u5316\u5bfc\u81f4\u67e5\u8be2\u6162\u95ee\u9898\u3002",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u67e5\u770b\u4ee5\u4e0b 2 \u4e2a\u6267\u884c\u8ba1\u5212\uff0c"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7b2c\u4e00\u4e2a\u7ea2\u6846\u4e2d\u7684\u662f st \u8868\u4f5c\u4e3a\u9a71\u52a8\u8868\u548c(od,cs)\u7684 NLJ \u7ed3\u679c\u8fdb\u884c\u5173\u8054\uff0c (od,cs)\u7684\u7ed3\u679c\u4f5c\u4e3a\u7269\u5316\u8868\uff1b"}),"\n",(0,r.jsxs)(e.li,{children:["\u7b2c\u4e8c\u4e2a\u7ea2\u6846\u7684\u662f(od,cs)\u7684 NLJ \u7684\u7ed3\u679c\u4f5c\u4e3a\u9a71\u52a8\u8868\u548c st \u8868\u8fdb\u884c\u5173\u8054\uff0cst \u8868\u7684\u7ed3\u679c\u4f5c\u4e3a\u7269\u5316\u8868\uff1b\nOB4.2 \u6267\u884c\u8ba1\u5212\uff1a\n",(0,r.jsx)(e.img,{src:s(9462).A+"",width:"1290",height:"774"}),"\nOB4.1 \u6267\u884c\u8ba1\u5212\uff1a\n",(0,r.jsx)(e.img,{src:s(34551).A+"",width:"1398",height:"758"}),"\n\u4f18\u5316\u601d\u8def: \u65e2\u7136\u662f\u5b50\u67e5\u8be2\u7684 NLJ \u987a\u5e8f\u53d8\u4e86\uff0c\u5bfc\u81f4 4.2 \u7248\u672c\u7684\u67e5\u8be2\u53d8\u6162\uff0c\u53ef\u4ee5\u901a\u8fc7 hint \u7684\u65b9\u5f0f\u5c06\u9a71\u52a8\u8868\u987a\u5e8f\u6362\u56de\u6765 4.1 \u7684\u6267\u884c\u8ba1\u5212\u3002\u5b50\u67e5\u8be2\u52a0\u4e0a\u8fd9\u4e2a hint, \u786e\u4fdd od,sc,st \u505a\u8fde\u63a5\u7684\u65f6\u5019 od,sc \u5728\u524d\uff0ccs \u5728\u540e\uff1b\u4e3a\u4e86\u80fd\u8ba9 od,sc \u8868\u5173\u8054\u8d70 NLJ\uff0c\u53ef\u4ee5\u518d\u52a0\u4e00\u4e2a hint \u786e\u4fdd od,cs \u8d70\u7684\u65f6\u5019\u4f1a\u7528 NLJ \u7b97\u5b50\uff0c\u6240\u4ee5\u603b\u4f53\u4e0a\u5e94\u8be5\u52a0\u7684 Hint \u662f /",(0,r.jsx)(e.em,{children:"+leading(od,cs,st) use_nl(od, cs)"}),"/ \u8017\u65f6\u4ece 5min \u4f18\u5316\u5230 3s\u3002\n\u4f8b\u5982\uff1aSELECT ... FROM ... s, ... p WHERE 1=1 and ... AND NOT EXISTS\n( SELECT /",(0,r.jsx)(e.em,{children:"+leading(od,cs,st) use_nl(od, cs)"}),"/ 1 FROM ... st, ... od, ... cs WHERE 1=1 and ..."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u95ee\uff1aOBCDC \u5982\u4f55\u6309\u7167\u5efa\u8868\u8bed\u53e5\u7684\u987a\u5e8f\u83b7\u53d6\u5217\u540d\uff1f",(0,r.jsx)(e.br,{}),"\n","\u7b54\uff1a\u5728 OBCDC \u542f\u52a8\u65f6\u6307\u5b9a\u914d\u7f6e\u9879 enable_output_by_table_def=1\uff08\u914d\u7f6e\u9879\u81ea OBCDC4.1.0.1 \u7248\u672c\u751f\u6548\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"obd-\u90e8\u7f72\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"OBD \u90e8\u7f72\u95ee\u9898"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 V3.1.4 \u65f6\u63d0\u793a Warn \u7ea7\u522b\u62a5\u9519\u4fe1\u606f ",(0,r.jsx)(e.code,{children:"[WARN] (x.x.x.x) clog and data use the same disk (/)"}),"\uff0c\u5b89\u88c5\u6d41\u7a0b\u53ef\u6b63\u5e38\u8fdb\u884c\uff0c\u7a0b\u5e8f\u6b63\u5e38\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u751f\u4ea7\u73af\u5883\u4e0b\u8981\u6c42\u6570\u636e\u76ee\u5f55\u548c\u5b89\u88c5\u76ee\u5f55\u914d\u7f6e\u4e3a\u4e0d\u540c\u76d8\u3002\u5c0f\u89c4\u6a21\u4e14\u77ed\u671f\u7684\u6d4b\u8bd5\u73af\u5883\u53ef\u4ee5\u5ffd\u7565\uff0c\u751f\u4ea7\u73af\u5883\u5fc5\u987b\u4fdd\u8bc1\u5b89\u88c5\u76ee\u5f55\u3001\u6570\u636e\u76ee\u5f55\u3001\u65e5\u5fd7\u76ee\u5f55\u5747\u662f\u5206\u76d8\u76ee\u5f55\uff0c\u5426\u5219\u540e\u671f\u4f7f\u7528\u4f1a\u51fa\u73b0\u975e\u4e1a\u52a1\u6570\u636e\u5360\u6ee1\u78c1\u76d8\u800c\u51fa\u73b0\u78c1\u76d8\u4f7f\u7528\u7387\u6ee1\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster edit-config xxx"})," \u547d\u4ee4\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff0c\u5c06 data_dir \u548c redo_dir \u8bbe\u7f6e\u4e3a\u4e0d\u540c\u78c1\u76d8\u76ee\u5f55\uff0c\u4fdd\u5b58\u540e\u6839\u636e\u9ed1\u5c4f\u8f93\u51fa\u6267\u884c\u5bf9\u5e94\u547d\u4ee4\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u96c6\u7fa4\u540e\uff0c\u901a\u8fc7 OBProxy \u767b\u5f55\u6570\u636e\u5e93\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR 2013 (HY000): Lost connection to MySQL server at \u2018reading authorization packet\u2019"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u914d\u7f6e\u6587\u4ef6\u4e2d proxyro_password \u548c observer_sys_password \u4e24\u4e2a\u914d\u7f6e\u9879\u8bbe\u7f6e\u672a\u4fdd\u6301\u4e00\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster edit-config xxx"})," \u547d\u4ee4\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff0c\u5c06\u914d\u7f6e\u9879 proxyro_password \u548c observer_sys_password \u4fdd\u6301\u4e00\u81f4\uff0c\u4fdd\u5b58\u540e\u4e4b\u540e\u6839\u636e\u9ed1\u5c4f\u8f93\u51fa\u547d\u4ee4\u6267\u884c\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:'obd web \u90e8\u7f72 ob \u5931\u8d25\uff0c\u767d\u5c4f\u663e\u793a\uff1a(2003, "Can\'t connect to MySQL server on \'xx.xx.xx.xx\' ([Errno 113] No route to host))"\nobserver.log \u65e5\u5fd7\u62a5\u9519\uff0cERROR \u7ea7\u522b\u4fe1\u606f\uff1aUnexpected internal error happen, please checkout the internal errcode(errcode=-4009, file="ob_local_device.cpp", line_no=1405, info="Fail to fallocate block file, ")'}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u7528\u6237\u4f7f\u7528\u7684 ext3 \u6587\u4ef6\u7cfb\u7edf\uff0cob \u9884\u5360\u7528\u4f7f\u7528 fallocate -l 3G /data/xx/block_file \u65b9\u5f0f\u7533\u8bf7\u78c1\u76d8\u7a7a\u95f4\uff0cext3 \u6587\u4ef6\u7cfb\u7edf\u6267\u884c\u4f1a\u62a5\u9519 Operation not supported\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6570\u636e\u76d8\u548c\u65e5\u5fd7\u76d8\u4f7f\u7528 ext4 \u6216\u8005 xfs \u6587\u4ef6\u7cfb\u7edf\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u96c6\u7fa4\u540e\uff0c\u901a\u8fc7 OBProxy \u767b\u5f55\u6570\u636e\u5e93\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR 2013 (HY000): Lost connection to MySQL server at \u2018reading authorization packet\u2019"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u914d\u7f6e\u6587\u4ef6\u4e2d proxyro_password \u548c observer_sys_password \u4e24\u4e2a\u914d\u7f6e\u9879\u8bbe\u7f6e\u672a\u4fdd\u6301\u4e00\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster edit-config xxx"})," \u547d\u4ee4\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff0c\u5c06\u914d\u7f6e\u9879 proxyro_password \u548c observer_sys_password \u4fdd\u6301\u4e00\u81f4\uff0c\u4fdd\u5b58\u540e\u4e4b\u540e\u6839\u636e\u9ed1\u5c4f\u8f93\u51fa\u547d\u4ee4\u6267\u884c\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD V1.6.0 \u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Open ssh connection x"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u673a\u5668\u4e4b\u95f4\u8df3\u8f6c\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 user \u6a21\u5757\u4e0b\u7684 ssh \u8fde\u63a5\u4fe1\u606f\uff0c\u65e0\u6cd5\u8fde\u63a5\u53ef\u80fd\u662f\u672a\u914d\u7f6e\u6216\u914d\u7f6e\u7528\u6237\u4fe1\u606f\u4e0d\u6b63\u786e\u7b49\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u67e5\u770b config.yaml \u5185\u5173\u4e8e user \u90e8\u5206\u8bbe\u7f6e\u662f\u5426\u6b63\u786e\u3002\u82e5\u4f7f\u7528\u7684 password \u7684\u65b9\u5f0f\uff0c\u53ef\u5c1d\u8bd5\u4e0b\u624b\u52a8\u4f7f\u7528\u6539\u5bc6\u7801\u548c\u5bf9\u5e94\u7528\u6237\u80fd\u5426\u767b\u5f55\u5230\u5bf9\u5e94\u673a\u5668\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OBD V2.0.0 \u4e2d\u6267\u884c obd web \u547d\u4ee4\u540e\u65e0\u6cd5\u8bbf\u95ee\u5230\u767d\u5c4f\u90e8\u7f72\u754c\u9762\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u9632\u706b\u5899\u95ee\u9898"}),"\n",(0,r.jsx)(e.li,{children:"\u5176\u4ed6\u5b89\u5168\u7a0b\u5e8f\u7981\u6b62 IP \u6216\u7aef\u53e3\u8bbf\u95ee"}),"\n",(0,r.jsx)(e.li,{children:"\u5185\u5916\u7f51\u73af\u5883\uff0c\u90e8\u7f72\u4f7f\u7528\u5185\u7f51 IP\uff0c\u8bbf\u95ee\u9700\u8981\u4f7f\u7528\u5916\u7f51 IP"}),"\n",(0,r.jsx)(e.li,{children:"obd web \u8fdb\u7a0b\u88ab\u624b\u52a8\u6740\u6389"}),"\n",(0,r.jsx)(e.li,{children:"\u79bb\u7ebf\u7f51\u7edc\u73af\u5883\uff0c\u672a\u5173\u95ed\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u5bfc\u81f4 8680 \u7aef\u53e3\u672a\u8d77"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u60a8\u53ef\u68c0\u67e5\u662f\u5426\u662f\u4e0a\u8ff0\u539f\u56e0\u5f15\u8d77\uff0c\u5e76\u6839\u636e\u5177\u4f53\u539f\u56e0\u8fdb\u884c\u5904\u7406\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster deploy obce-single -c obce-single.yaml"})," \u547d\u4ee4\u4e0d\u6210\u529f\uff0c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"[ERROR] Failed to download [mirrors.aliyun.com/oceanbase/community/stable/el/None/aarch64///repodata/repomd.xml](http://mirrors.aliyun.com/oceanbase/community/stable/el/None/aarch64///repodata/repomd.xml) to /home/admin/.obd/mirror/remote/OceanBase-community-stable-elNone/repomd.xml"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u540e\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster list"})," \u547d\u4ee4\u67e5\u770b Cluster \u72b6\u6001\u662f configured\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OBD \u9ed8\u8ba4\u5f00\u542f\u8fdc\u7a0b\u955c\u50cf\u4e0b\u8f7d\uff0c\u65e0\u6cd5\u8054\u7f51\u73af\u5883\u5c06\u4e0b\u8f7d\u5931\u8d25\uff0c\u9700\u8981\u5173\u95ed\u8fdc\u7a0b\u955c\u50cf\u83b7\u53d6\uff0c\u5c06\u5b89\u88c5\u5305\u5bfc\u5165\u672c\u5730\u4ed3\u5e93\uff0c\u672c\u5730\u5b89\u88c5\u5373\u53ef\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd mirror disable remote"})," \u547d\u4ee4\u7981\u7528\u8fdc\u7a0b\u955c\u50cf\u4ed3\u5e93\uff0c\u5e76\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd mirror clone"})," \u547d\u4ee4\u5c06\u5b89\u88c5\u5305\u590d\u5236\u672c\u5730\u4ed3\u5e93\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 V3.1.3 \u65f6\u62a5\u9519 NTP \u670d\u52a1\u672a\u540c\u6b65 ",(0,r.jsx)(e.code,{children:"[ERROR] Cluster NTP is out of sync"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OBD \u90e8\u7f72\u65f6\u505a\u4e86\u65f6\u5dee\u6821\u9a8c\uff0c\u5f53\u670d\u52a1\u5668\u4e4b\u95f4\u65f6\u5dee\u8d85\u8fc7 100ms \u65f6\uff0c\u4f1a\u51fa\u73b0 Root Server \u65e0\u4e3b\u60c5\u51b5\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b89\u88c5 NTP\uff0c\u8fdb\u884c\u65f6\u949f\u540c\u6b65\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 V4.0.0 \u65f6\u521d\u59cb\u5316\u5931\u8d25\uff0c\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"[ERROR] Cluster init failed"}),"\u3002\u67e5\u770b observer.log \u65e5\u5fd7\u51fa\u73b0 ",(0,r.jsx)(e.code,{children:"fail to send rpc(tmp_ret=-4122"})," \u5b57\u6bb5\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"image.png",src:s(31107).A+"",width:"611",height:"189"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u73b0\u573a\u9632\u706b\u5899\u505a\u4e86\u9650\u5236\uff0c\u5bfc\u81f4 rpc \u65e0\u6cd5\u4e92\u76f8\u901a\u4fe1\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5173\u95ed\u9632\u706b\u5899\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 pymysql \u6a21\u5757\u5df2\u5b89\u88c5\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528 OBD V1.6.0 \u5b89\u88c5 OceanBase V4.0.0 \u96c6\u7fa4\u7684\u65f6\u5019\u63d0\u793a\u7f3a\u5c11 pymysql \u6a21\u5757\uff1a",(0,r.jsx)(e.code,{children:"ModuleNotFoundError\uff1aNo module name 'pymysql'"}),"\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.img,{alt:"image.png",src:s(73706).A+"",width:"1500",height:"275"})," > ",(0,r.jsx)(e.img,{alt:"image.png",src:s(76659).A+"",width:"823",height:"176"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\u4e2d\u662f\u542f\u52a8\u7528\u6237\u4e0d\u5bf9\uff0c\u76f4\u63a5\u4f7f\u7528 root \u5373\u53ef\uff0c\u4e0d\u8981\u5207\u6362\u7528\u6237\u518d sudo\uff0c\u5e76\u4e14\u770b\u62a5\u9519\u7f3a\u5c11 /usr/obd/lib/site-packages \u76ee\u5f55\u5e94\u8be5\u662f OBD \u5b89\u88c5\u6709\u95ee\u9898\uff0c\u53ef\u4ee5\u91cd\u65b0\u5b89\u88c5 OBD\uff0c\u73b0\u573a\u901a\u8fc7\u521b\u5efa\u76ee\u5f55\u62f7\u8d1d\u65b9\u5f0f\u6700\u7ec8\u4e5f\u80fd\u89e3\u51b3\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b89\u88c5\u65f6\u4e0d\u8981\u4f7f\u7528 sudo \u65b9\u5f0f\uff0c\u5b89\u88c5\u4f7f\u7528\u7684\u662f\u5f53\u524d\u7528\u6237\u8fdb\u884c\u7684\uff0c\u521b\u5efa\u7f3a\u5c11\u7684 /usr/obd/lib/site-packages \u76ee\u5f55\uff0c\u5e76\u628a python \u6a21\u5757\u62f7\u8d1d\u8fdb\u53bb\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD \u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u65f6\u90e8\u7f72\u5361\u5728 Remote oceanbase-ce* repository install \u9636\u6bb5\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(83766).A+"",width:"1500",height:"266"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6b64\u5904\u4f1a\u6d89\u53ca\u662f\u62c9\u5305\u548c\u4f20\u5305\u8fc7\u7a0b\uff0c\u6d89\u53ca\u57fa\u7840\u547d\u4ee4\uff0c\u5982\u679c\u975e\u516c\u7f51\u662f\u65e0\u6cd5\u4f7f\u7528\u8fdc\u7a0b\u4ed3\u5e93\u7684\uff0c\u5982\u679c\u78c1\u76d8\u53ef\u4f7f\u7528\u7a7a\u95f4\u4e0d\u8db3\uff0c\u4e5f\u65e0\u6cd5\u4e0b\u8f7d\u6210\u529f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5177\u4f53\u9700\u6839\u636e OBD \u65e5\u5fd7\u5206\u6790\uff0c\u76ee\u524d\u5df2\u77e5\u6709\u5982\u4e0b\u53ef\u80fd\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u672c\u673a\u7f3a\u5c11 rsync \u547d\u4ee4\uff1a\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"yum install -y rsync"})," \u547d\u4ee4\u5b89\u88c5 rsync \u547d\u4ee4\u3002"]}),"\n",(0,r.jsx)(e.li,{children:"sftp-server \u4e0d\u4e00\u81f4\uff1a/etc/ssh/sshd_config \u914d\u7f6e\u548c\u672c\u673a sftp-server \u8def\u5f84\u4fdd\u6301\u4e00\u81f4\uff0c\u5e76\u91cd\u542f sshd \u670d\u52a1\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u975e\u516c\u7f51\u73af\u5883\uff0c\u4f7f\u7528\u4e86\u5728\u7ebf\u5b89\u88c5\u65b9\u5f0f\uff1a\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd mirror disable remote"})," \u547d\u4ee4\u5173\u95ed\u8fdc\u7a0b\u4ed3\u5e93\u62c9\u53d6\u5b89\u88c5\u5305\uff0c\u91c7\u7528\u79bb\u7ebf\u5b89\u88c5\u3002"]}),"\n",(0,r.jsx)(e.li,{children:"\u672c\u5730\u78c1\u76d8\u6ee1\uff1a\u4e0b\u8f7d\u5305\u8f83\u5927\uff0c\u78c1\u76d8\u6ee1\u4e0b\u8f7d\u5c06\u5931\u8d25\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b89\u88c5\u8fc7 obd2.1 \u7248\u672c\u540e\uff0c\u91cd\u65b0\u5b89\u88c5 obd \u4f4e\u7248\u672c 2.0.1 \u540e\uff0cobd web \u6267\u884c\u754c\u9762\u62a5\u9519\uff0ctype object 'ConfigUtil' has no attribute 'get_random_pwd_by_rule'"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"obd2.1 \u7248\u672c\u652f\u6301\u968f\u673a\u5bc6\u7801\u529f\u80fd\uff0c\u4f46\u91cd\u65b0\u5b89\u88c5\u7684 2.0.1 \u7248\u672c\u4e0d\u652f\u6301\uff0c\u5bfc\u81f4\u6b64\u7c7b get_random_pwd_by_rule \u65e0\u6cd5\u88ab\u627e\u5230\u3002obd \u4e0d\u652f\u6301\u964d\u7ea7\uff0c\u5982\u679c\u9700\u8981\u964d\u7ea7\uff0c\u9700\u8981\u6e05\u7406\u73af\u5883\u518d\u5b89\u88c5 obd\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u65b9\u6848 1\uff1a\uff08\u9002\u7528\u4e8e\u751f\u4ea7\u73af\u5883\uff09\n1\uff09cd ~/.obd/",(0,r.jsx)(e.br,{}),"\n","2\uff09rm -f versiom (\u9690\u85cf\u6587\u4ef6)",(0,r.jsx)(e.br,{}),"\n","3\uff09\u6267\u884c obd --version\uff0c\u4f1a\u91cd\u65b0\u751f\u6210\u65b0\u7684 plugins\n4\uff09obd web \u90e8\u7f72\u5373\u53ef"]}),"\n",(0,r.jsxs)(e.li,{children:["\u65b9\u6848 2\uff1a\uff08\u9002\u7528\u4e8e\u6d4b\u8bd5\u73af\u5883\uff09\n1\uff09rpm -e \u5378\u8f7d obd \u5305",(0,r.jsx)(e.br,{}),"\n","2\uff09rm -rf ~/.obd/ \u5220\u9664.obd \u76ee\u5f55",(0,r.jsx)(e.br,{}),"\n","3\uff09\u91cd\u65b0 install.sh \u5b89\u88c5 obd \u521d\u59cb\u5316\u73af\u5883\n4\uff09obd web \u90e8\u7f72\u5373\u53ef"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBD2.4.0 \u767d\u5c4f\u90e8\u7f72 OB \u9884\u68c0\u67e5\u5931\u8d25\uff0c\u62a5\u9519\uff1aOBD-2007: xx.xx.xx.xx ens192 fail to ping xx.xx.xx.xx. Please check configuration ",(0,r.jsx)(e.code,{children:"devname"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7f51\u5361\u4fe1\u606f\u4e0d\u6b63\u786e\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u9632\u706b\u5899\u6216 selinux \u672a\u5173\u95ed\u6216\u7981\u6b62 ping\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u666e\u901a\u7528\u6237\u65e0 ping \u6743\u9650\uff1b"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u767d\u5c4f\u90e8\u7f72\u65f6 \u66f4\u591a\u914d\u7f6e\u4e2d \u9700\u8981\u6307\u5b9a devname \u53c2\u6570\u5bf9\u5e94\u7684\u5b9e\u9645\u7f51\u5361\u540d\u79f0\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5173\u95ed\u9632\u706b\u5899\u6216 selinux\uff0c\u6216\u8005\u9632\u706b\u5899\u89c4\u5219\u53bb\u6389\u7981 ping \u884c\u4e3a\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u90e8\u5206\u7cfb\u7edf\u666e\u901a\u7528\u6237\u65e0 ping \u6743\u9650\uff0croot \u6267\u884c\uff1achmod u+s /usr/sbin/ping"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBD2.3.1 \u90e8\u7f72 OBProxy \u65f6\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"[ERROR] failed to extract file from /root/.obd/mirror/remote/OceanBase-community-stable-el7/obproxy-ce-4.2.1.0-11.el7.x86_64.rpm"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd\u5b58\u5728\u5305\u4e0d\u5b8c\u6574\uff0c\u6216\u8005\u5305\u635f\u574f\u7b49\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5efa\u8bae\u53bb ",(0,r.jsx)(e.code,{children:"~/.obd/repository"}),"\uff0c",(0,r.jsx)(e.code,{children:" ~/.obd/mirror/local"})," \u8def\u5f84\u5220\u9664\u5bf9\u5e94\u5b89\u88c5\u5305\uff0c\u91cd\u65b0 obd mirror clone \u5230\u672c\u5730\u4ed3\u5e93\uff0c\u91cd\u65b0\u90e8\u7f72\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"OBD2.3.1 \u5728 ky10 \u94f6\u6cb3\u9e92\u9e9f\u7cfb\u7edf\u4e2d\u90e8\u7f72 OB \u5361\u5728 Initialize oceanbase-ce \u9636\u6bb5\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OBD2.3.1 \u7248\u672c\u6682\u672a\u548c ky10 \u7cfb\u7edf\u505a\u517c\u5bb9\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"OBD2.4.0 \u7248\u672c\u5df2\u7ecf\u517c\u5bb9 ky10 \u7cfb\u7edf\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OBD250 \u767d\u5c4f\u90e8\u7f72 OB \u65e0\u6cd5\u9009\u62e9\u6bcf\u4e2a\u8282\u70b9\u7684\u7f51\u5361\u540d\u79f0\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u767d\u5c4f\u90e8\u7f72\u6682\u4e0d\u652f\u6301\u6307\u5b9a\u6bcf\u53f0\u673a\u5668\u7684\u7f51\u5361\u540d\u79f0\uff0c\u53ef\u4ee5\u9ed1\u5c4f\u90e8\u7f72\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u6307\u5b9a\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u7ec4\u4ef6\u4e0b\u7684 servers \u6a21\u5757\u6307\u5b9a\u5404\u4e2a\u8282\u70b9\u7684\u7f51\u5361\u540d\u3002\u4f8b\u5982\uff1a",(0,r.jsx)(e.br,{}),"\n","oceanbase-ce:",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{})," ",(0,r.jsx)(e.code,{children:" "})," servers:",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," - name: server1",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ip: xx.xx.xx.1",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," - name: server2",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ip: xx.xx.xx.2",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{})," ",(0,r.jsx)(e.code,{children:" "})," servere1:",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," zone: zone1",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," devname: eth0",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," zone: zone2",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," ",(0,r.jsx)(e.code,{children:" "})," devname: eth1"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBD2.4.0 \u90e8\u7f72\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"[ERROR] OBD-2000: (127.0.0.1) not enough memory. (Available: 2.6G, Need: 3.0G)"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u91cc\u770b\u51fa\u662f\u53ef\u7528\u5185\u5b58\u4e0d\u8db3\u3002 obd \u68c0\u67e5\u7684\u5185\u5b58\u662f\u53ef\u7528\u7684 \u975e\u7f13\u5b58\u7684\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u670d\u52a1\u5668\u6ca1\u5176\u4ed6\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u6e05\u7406\u4e00\u4e0b\u7f13\u5b58\uff0c\u91ca\u653e\u5185\u5b58\u3002\n",(0,r.jsx)(e.code,{children:"echo 3 > /proc/sys/vm/drop_caches"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBD2.4.0 \u5728 ubuntu \u90e8\u7f72 OB \u5931\u8d25,\u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"OBD-1002: Fail to init dip(127.0.0.1) home path: /home/admin/oceanbase/ is not empty"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u76ee\u5f55\u975e\u7a7a\uff0c\u90e8\u7f72\u9700\u8981\u68c0\u6d4b\u5b89\u88c5\u76ee\u5f55\u662f\u5426\u975e\u7a7a\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u7528\u6237\u73af\u5883\u53d8\u91cf\u95ee\u9898\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5220\u9664\u76ee\u5f55\uff0c\u91cd\u65b0\u90e8\u7f72\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u521b\u5efa\u7528\u6237\u9700\u8981\u6307\u5b9a-s /bin/bash\uff0c\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:"useradd -U admin -d /home/admin -s /bin/bash"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"obd-\u4f7f\u7528\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"OBD \u4f7f\u7528\u95ee\u9898"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD V1.5.0 \u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster display xx"})," \u547d\u4ee4\u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR Another app is currently holding the obd lock"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6709\u5176\u4ed6\u8fdb\u7a0b\u5728\u4f7f\u7528 OBD\uff0cOBD \u4e0d\u652f\u6301\u591a\u8fdb\u7a0b\u540c\u65f6\u64cd\u4f5c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u786e\u8ba4\u662f\u5426\u6709\u672a\u7ed3\u675f\u7684 OBD \u5176\u4ed6\u64cd\u4f5c\uff0c\u6216\u8005\u6709\u4eba\u4e5f\u5728\u8c03\u7528 OBD\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8fde\u63a5 OceanBase \u6570\u636e\u5e93\u5e76\u6267\u884c\u547d\u4ee4\u4fee\u6539\u5b8c\u5bc6\u7801\uff0c\u4f7f\u7528 OBProxy \u767b\u5f55\u6570\u636e\u5e93\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR 2013 (HY000): Lost connection to MySQL server at 'reading authorization packet'"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u4e2a\u62a5\u9519\u57fa\u672c\u662f\u5bc6\u7801\u4e0d\u4e00\u81f4\u5bfc\u81f4\uff0c\u540e\u53f0\u4fee\u6539\u5bc6\u7801\u4e0d\u4f1a\u540c\u6b65\u5230 OBD \u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5bfc\u81f4\u65e0\u6cd5\u4f7f\u7528 OBD \u914d\u7f6e\u4e2d\u7684\u5bc6\u7801\u767b\u5f55\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u540e\u53f0\u767b\u5f55\u6570\u636e\u5e93\u8fd8\u539f\u6210 OBD \u914d\u7f6e\u4e2d\u7684\u5bc6\u7801\uff0c\u518d\u901a\u8fc7 ",(0,r.jsx)(e.code,{children:"obd cluster edit-config"})," \u547d\u4ee4\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u5bc6\u7801\uff0c\u4fdd\u5b58\u540e\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster reload"})," \u91cd\u8f7d\u96c6\u7fa4\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD2.3 \u5347\u7ea7 OB4.1 \u5230 OB4.2 \u65f6\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"tenant tenant_cube does not meet rolling upgrade conditions\uff08zone number greater then 2\uff09"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OBD2.3 \u5347\u7ea7 OB \u65f6\u7684\u8f6e\u8f6c\u5347\u7ea7\u6761\u4ef6\u68c0\u67e5\u5b58\u5728\u7f3a\u9677\uff0cOBD2.4.0 \u4fee\u590d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7 OBD \u7248\u672c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBD2.3.1 \u5347\u7ea7 OB4.x \u65f6\uff0c\u5728 exec upgrade_post.py \u9636\u6bb5\u5931\u8d25\u3002\u5347\u7ea7\u65e5\u5fd7 upgrade_post.log \u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"check enable_rebalance:True sync timeout"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OBD2.3.1 \u7248\u672c\u5347\u7ea7 OB \u65f6\uff0c\u9700\u8981\u68c0\u67e5 enable_rebalance \u53c2\u6570\u662f\u5f00\u542f\u72b6\u6001\uff0c\u9ed8\u8ba4\u662f\u5f00\u542f\u3002\u5982\u679c\u6709\u4eba\u4e3a\u5173\u95ed\u81ea\u52a8\u8d1f\u8f7d\u53c2\u6570\uff0c\u5347\u7ea7\u4f1a\u5931\u8d25\uff0c\u540e\u7eed OBD \u7248\u672c\u4f1a\u4f18\u5316\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u67e5\u770b\u54ea\u4e9b\u79df\u6237 enable_rebalance \u53c2\u6570\u975e true\uff1a\n",(0,r.jsx)(e.code,{children:"select * from oceanbase.GV$OB_PARAMETERS where name = 'enable_rebalance';"}),"\n\u767b\u5f55\u5bf9\u5e94\u79df\u6237\u4fee\u6539\u53c2\u6570\uff1a\n",(0,r.jsx)(e.code,{children:"ALTER SYSTEM SET enable_rebalance = true;"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OBD2.3.1 \u6269\u5bb9 OB \u8282\u70b9\u540e\uff0cocp-express \u4e0d\u663e\u793a\u6269\u5bb9\u7684\u8282\u70b9\u4fe1\u606f\u3002\u754c\u9762\u62a5\u9519 404\uff1a\u6ca1\u6709\u627e\u5230\u6307\u5b9a obagent \u7c7b\u578b\u7684\u8bb0\u5f55\uff0c\u53c2\u6570\uff1axx.xx.xx.xx\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u540e\u7eed\u7248\u672c\u4f1a\u4f18\u5316\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u9700\u8981\u5e26\u53c2\u6570\u91cd\u542f\u4e0b ocp-express\nobd cluster restart \u90e8\u7f72\u540d\u79f0 -c ocp-express --wp"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OBD2.3.1 \u8fdb\u884c\u767d\u5c4f\u90e8\u7f72\u65f6\uff0c\u914d\u7f6e\u7684\u7528\u6237\u6709 sudo \u548c\u514d\u5bc6\uff0c\u9884\u68c0\u67e5 ssh \u76f8\u5173\u64cd\u4f5c\u8fd8\u662f\u4e0d\u901a\u8fc7\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u5b89\u88c5 obd web \u547d\u4ee4\u7528\u6237\u9700\u8981\u548c\u514d\u5bc6\u7528\u6237\u4e0d\u662f\u540c\u4e00\u4e2a\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u540c\u4e00\u4e2a\u7528\u6237\u6267\u884c obd web \u90e8\u7f72\u3002\n\u6216\u8005\u754c\u9762\u4e0a\u9009\u62e9\u4e3b\u673a\u7528\u6237\u65f6\u586b\u5199\u5bc6\u7801\u4e5f\u53ef\u4ee5\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBD2.3.1 \u6267\u884c deploy \u547d\u4ee4\u90e8\u7f72\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"[ERROR] No such install plugin for oceanbase-ce-4.2.1.1"})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"}),"\nobd \u7684\u5b89\u88c5\u6709 all-in-one \u548c\u72ec\u7acb\u5b89\u88c5\u5305\u5b89\u88c5 ,\u53ef\u4ee5\u901a\u8fc7 command -v obd \u67e5\u770b\u4e00\u4e0b obd \u6765\u6e90"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"obd \u73af\u5883\u53d8\u91cf\u4e0d\u6b63\u786e\uff0c\u90e8\u7f72\u4e86\u591a\u4e2a obd\u3002"}),"\n",(0,r.jsx)(e.li,{children:"obd \u73af\u5883\u6c61\u67d3\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5982\u679c command -v obd \u6307\u5411\u7684 all-in-one \u76f8\u5173\u7684\u8def\u5f84 \u53ef\u4ee5\u53bb\u7528\u6237\u4e0b\u7684.bash_profile \u73af\u5883\u53d8\u91cf\u91cc\u9762\u5220\u9664\u8fd9\u4e2a\u8bb0\u5f55\uff0c\u7ee7\u7eed\u6267\u884c\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u5982\u679c command -v obd \u662f/usr/bin/obd\uff0c\u53ef\u80fd\u662f\u63d2\u4ef6\u751f\u6210\u65f6\u5019\u88ab\u6c61\u67d3\u4e86\u3002","\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u5220\u9664 obd \u7248\u672c\u6807\u8bc6 rm -rf ~/.obd/version"}),"\n",(0,r.jsx)(e.li,{children:"\u6267\u884c obd cluster list \u4f1a\u66f4\u65b0\u63d2\u4ef6\uff0c\u6709\u62a5\u9519\u53ef\u4ee5\u76f4\u63a5\u5ffd\u7565\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u91cd\u65b0\u6267\u884c deloy \u5b89\u88c5\u90e8\u7f72\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBD2.4.0 \u91cd\u542f ocp-express \u670d\u52a1\u5931\u8d25\uff0cjdbc \u8fde\u63a5 ocp-expresss \u6570\u636e\u5e93\u65f6\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"Get Location Cache Fail"}),"\u3002\u5ba2\u6237\u7aef\u8fde\u63a5\u79df\u6237\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"Server is initializing"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["Server is initializing \u8bf4\u660e\u4e0d\u662f\u8fde\u63a5\u4e32\u79df\u6237\u540d\u79f0\u4e0d\u6b63\u786e\uff0c\u800c\u662f\u79df\u6237\u8fd8\u5728\u521d\u59cb\u5316\u3002\n\u67e5\u770b observer.log\uff1a",(0,r.jsx)(e.code,{children:"allocate memory fail"}),"\u3002\u5bfc\u81f4\u521d\u59cb\u5316\u7533\u8bf7\u4e0d\u5230\u5185\u5b58\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u68c0\u67e5\u672c\u673a\u662f\u5426\u6709\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u5360\u7528\u5185\u5b58\uff0c\u6216\u8005\u5185\u5b58\u8bbe\u7f6e\u662f\u5426\u5408\u7406\u3002\n\u8be5\u6848\u4f8b\u662f\u5176\u4ed6\u7a0b\u5e8f\u5360\u7528\u5185\u5b58\uff0c\u5bfc\u81f4\u5185\u5b58\u4e0d\u8db3\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBD2.4.0 \u542f\u505c\u96c6\u7fa4\u65f6\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"UnicodeEncodeError: 'latin-1' codec can't encode characters in position 77-80: ordinal not in range(256)"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"python \u7684\u9ed8\u8ba4\u7f16\u7801\u662f latin-1\uff0c\u7528\u6237\u7684\u73af\u5883\u53d8\u91cf\u53ef\u80fd\u7f16\u7801\u6709\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"echo 'export LANG=en_US.UTF-8' >> ~/.bashrc"}),(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"echo 'export LC_CTYPE=en_US.UTF-8' >> ~/.bashrc"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBD240 \u91cd\u542f OCP \u5931\u8d25\uff0c\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"KeyError\uff1a'tenant_name'"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OBD240 \u7f3a\u9677"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"OBD \u542f\u52a8 OCP \u7684\u547d\u4ee4\u52a0\u4e0a --skip-create_tenant \u53c2\u6570\u53ef\u89c4\u907f\uff0c\u540e\u7eed\u7248\u672c\u4f1a\u4f18\u5316\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD2.4.0 \u6267\u884c obd mirror clone \u5bfc\u5165\u6587\u4ef6\u5931\u8d25\uff0c\u62a5\u9519\uff1a",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"[ERROR] Running Error: 'LocalMirrorRepository' object has no attribute 'self'"}),"\u3002",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"OSError: [Errno 28] No space left on device"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd\u662f obd \u5b58\u653e\u6587\u4ef6\u7684\u76ee\u5f55\u5feb\u6ee1\u4e86\uff0c\u5bfc\u5165\u6587\u4ef6\u592a\u5927\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u624b\u52a8\u6e05\u7406\u672c\u5730\u6587\u4ef6\u91ca\u653e\u7a7a\u95f4\u3002\n~/.obd/repository/\uff1a \u89e3\u538b\u7ec4\u4ef6\u540e\u5b58\u653e\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u968f\u4fbf\u5220\u3002\n~/.obd/mirror/local/\uff1aobd \u7684\u672c\u5730\u4ed3\u5e93\uff0c\u5efa\u8bae\u5220\u9664\u4e0d\u9700\u8981\u4f7f\u7528\u7684\u5b89\u88c5\u5305\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"oceanbase-\u6570\u636e\u5e93\u4f7f\u7528\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"OceanBase \u6570\u636e\u5e93\u4f7f\u7528\u95ee\u9898"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u624b\u52a8\u90e8\u7f72 OceanBase \u6570\u636e\u5e93 V3.1.3\uff0c\u521d\u59cb\u5316 alter system bootstrap \u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR 4015 (HY000): System error"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8d44\u6e90\u4e0d\u8db3\uff0c\u5b98\u65b9\u8981\u6c42\u6700\u5c0f 2.5 \u4e2a\u6838\u5fc3\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u8c03\u5927\u865a\u62df\u673a CPU \u6838\u6570\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\u65b0\u5bfc\u5165\u7684\u6570\u636e\u65f6\uff0c\u505a count \u67e5\u8be2\u7279\u522b\u6162\uff1f"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"OceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\u652f\u6301\u81ea\u52a8\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f\uff0c\u5982\u679c\u8fd8\u672a\u89e6\u53d1\u81ea\u52a8\u6536\u96c6\u7edf\u8ba1\uff0c\u9700\u8981\u624b\u52a8\u6536\u96c6\u7edf\u8ba1\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u6570\u636e\u91cf\u5927\u548c\u6570\u636e\u573a\u666f\u590d\u6742\u7684\u65f6\u5019\uff0c\u9700\u8981\u624b\u52a8\u89e6\u53d1\u5408\u5e76\u4f1a\u91cd\u6574\u6570\u636e\uff0c\u52a0\u5feb\u67e5\u8be2\u6548\u7387\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u67e5\u8be2\u5982\u679c\u975e\u5355\u7eaf count \u8868\uff0c\u4e14\u79df\u6237\u8d44\u6e90\u4e0d\u8db3\u6269\u5c55\u65f6\uff0ccount \u6027\u80fd\u5c31\u4f1a\u5f88\u6162\uff0c\u9700\u8981\u589e\u5927 ob_query_timeout \u53c2\u6570\u9632\u6b62\u67e5\u8be2\u8d85\u65f6\u4e2d\u65ad\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u624b\u52a8\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f"}),"\n",(0,r.jsx)(e.li,{children:"\u89e6\u53d1\u8f6c\u50a8\u5408\u5e76"}),"\n",(0,r.jsx)(e.li,{children:"\u589e\u52a0 ob_query_timeout \u8d85\u65f6\u53c2\u6570"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V4.1 \u521b\u5efa\u79df\u6237\u9636\u6bb5\uff0c\u521b\u5efa\u8d44\u6e90\u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"[1235] [0A000]: (conn=3221487627) unit MEMORY_SIZE less than __min_full_resource_pool_memory not supported"}),"\u3002\xb7"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8be5\u62a5\u9519\u4e3b\u8981\u662f\u8bbe\u7f6e\u7684 memory_limit \u6bd4 **min_full_resource_pool_memory \u5c0f\u5bfc\u81f4\uff0c**min_full_resource_pool_memory \u5728 4.x \u7248\u672c\u9ed8\u8ba4\u662f 2G\uff0c3.x \u7248\u672c\u9ed8\u8ba4\u662f 5G\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c MEMORY_SIZE \u8bbe\u7f6e\u592a\u5c0f\uff0c\u5efa\u8bae\u662f\u589e\u5927\u8d44\u6e90\u5355\u5143 unit \u7684 MEMORY_SIZE \u53c2\u6570\u5927\u5c0f\uff0c\u547d\u4ee4\u5982\u4e0b\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"alter resource unit your_unit_name MEMORY_SIZE='2G';\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c MEMORY_SIZE \u65e0\u6cd5\u518d\u589e\u5927\u4e86\uff0c\u53ef\u4ee5\u964d\u4f4e\u6700\u5c0f\u8d44\u6e90\u6c60\u53c2\u6570\u9650\u5236 __min_full_resource_pool_memory\u3002\u53ef\u53c2\u8003\u793a\u4f8b\u67e5\u770b\u548c\u4fee\u6539\u8be5\u9690\u85cf\u53c2\u6570\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- \u67e5\u770b\nSELECT * FROM oceanbase.__all_virtual_sys_parameter_stat WHERE name='__min_full_resource_pool_memory';\n-- \u4fee\u6539\uff0c\u793a\u4f8b\u4e2d 2147483648 \u4e3a 2G\nalter system __min_full_resource_pool_memory=2147483648;\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OB4.0 \u7248\u672c\u6e90\u7801\u7f16\u8bd1\u518d\u90e8\u7f72\u65f6\u5931\u8d25",(0,r.jsx)(e.br,{}),"\n","\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"[ERROR] oceanbase-ce start failed"}),(0,r.jsx)(e.br,{}),"\n","\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR [SHARE] operator() (ob_common_config.cpp:128) [20728][][T0][Y0-0000000000000000-0-0] [lt=5] Invalid config, value out of [1073741824,) (for reference only).name=min_full_resource_pool_memory, value=268435456, ret=-4147"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"__min_full_resource_pool_memory \u8be5\u53c2\u6570\u4e3a OB \u9690\u85cf\u53c2\u6570\uff0c\u662f\u5141\u8bb8\u4ee5\u6700\u5c0f\u591a\u5c11\u5185\u5b58\u7684\u89c4\u683c\u521b\u5efa\u79df\u6237\u7684\u3002\u4e0d\u540c\u7248\u672c\uff0c\u4e0d\u540c\u90e8\u7f72\u65b9\u5f0f\uff0c\u8be5\u53c2\u6570\u5747\u6709\u4e0d\u540c\u9ed8\u8ba4\u8bbe\u7f6e\uff0cOB \u9ed8\u8ba4\u662f 2G \u5927\u5c0f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u914d\u7f6e\u6587\u4ef6\u4e2d\u8c03\u5927**min_full_resource_pool_memory \u53c2\u6570\u7684\u503c 2147483648",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"alter system set min_full_resource_pool_memory= '2147483648';"}),(0,r.jsx)(e.br,{}),"\n","\u9690\u85cf\u53c2\u6570\u67e5\u770b\u65b9\u5f0f\uff1a",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"SELECT \\* FROM oceanbase.**all_virtual_sys_parameter_stat WHERE name='\\_\\_min_full_resource_pool_memory';"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93 V4.0 \u4e2d\u4f7f\u7528 select outfile \u8bed\u6cd5\u62a5\u9519\u6743\u9650\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"obclient [jydb]> select * into outfile \u2018/tmp/a.csv\u2019 from a;\nERROR 1227 (42501): Access denied\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5bfc\u51fa\u662f\u5230\u672c\u5730\u4f4d\u7f6e\uff0cOBProxy \u4ee3\u7406\u4e0d\u662f\u672c\u5730\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u8fc7\u76f4\u8fde OBServer \u8282\u70b9\u8fde\u63a5\u96c6\u7fa4\uff0c\u4e0d\u80fd\u901a\u8fc7 OBProxy \u4ee3\u7406\u8fde\u63a5\u96c6\u7fa4"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V4.0 \u4e2d\u63d2\u5165 1W \u6761\u6570\u636e\uff0c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"1203 (42000): Too many sessions"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fde\u63a5\u6c60\u9700\u8981\u7a0b\u5e8f\u8bbe\u7f6e\u56de\u6536\u3002OBProxy \u81ea\u8eab\u7684\u6545\u969c\u6216\u8005\u56e0\u6d41\u91cf\u4e0a\u5347\uff0cOBProxy \u7ebf\u7a0b\u7528\u6ee1\uff08\u62a5\u9519\u4fe1\u606f\u7c7b\u4f3c too many sessions\uff09\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5e94\u7528\u5c42\u4f7f\u7528\u672a\u914d\u7f6e\u8fde\u63a5\u6c60\u56de\u6536\u65f6\uff0c\u53ef\u53c2\u8003\u5b98\u7f51 OceanBase \u6570\u636e\u5e93\u6587\u6863 ",(0,r.jsx)(e.a,{href:"https://www.oceanbase.com/docs/common-oceanbase-database-cn-10000000001579566",children:"ODP \u7ebf\u7a0b\u6ee1"})," \u589e\u52a0 proxy \u670d\u52a1\u7ebf\u7a0b\u6570 client_max_connections \u53c2\u6570\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["OBProxy \u81ea\u8eab\u6545\u969c\u53ef\u53c2\u8003\u5b98\u7f51 Oceanbase \u6570\u636e\u5e93\u6587\u6863 ",(0,r.jsx)(e.a,{href:"https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-10000000001579572",children:"ODP \u7aef\u6545\u969c"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6d4b\u8bd5\u73af\u5883\uff0c\u5185\u5b58\u6709\u9650\uff0c\u65e5\u5fd7\u62a5 1001 \u79df\u6237\u5185\u5b58\u4e0d\u8db3 ",(0,r.jsx)(e.code,{children:"WARN [COMMON] try_flush_washable_mb (ob_kvcache_store.cpp:630) [52886][T1001_ReplaySrv][T1001][Y0-0000000000000000-0-0] [lt=4] can not find enough memory block to wash(ret=-4273, size_washed=0, size_need_washed=2097152)"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V4.0 \u5f15\u5165\u4e86\u7528\u6237\u7684 meta \u79df\u6237\u6982\u5ff5\uff0c\u5176\u89c4\u683c\u914d\u7f6e\u4e0d\u652f\u6301\u7528\u6237\u72ec\u7acb\u8bbe\u7f6e\uff0c\u5177\u4f53\u7684\u89c4\u5219\u8be6\u89c1\u5b98\u7f51 OceanBase \u6570\u636e\u5e93\u6587\u6863 ",(0,r.jsx)(e.a,{href:"https://www.oceanbase.com/docs/community-observer-cn-10000000000901425",children:"\u79df\u6237\u7684\u8d44\u6e90\u7ba1\u7406"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574 1001 \u79df\u6237\u7684\u89c4\u683c\u6765\u81ea\u52a8\u8c03\u6574\u5bf9\u5e94 meta \u79df\u6237\u7684\u89c4\u683c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u96c6\u7fa4\u4e2d\u6709\u4e09\u4e2a Zone\uff0c\u505c\u6b62 Zone \u64cd\u4f5c\u5931\u8d25 ",(0,r.jsx)(e.code,{children:"ERROR 4660 (HY000): cannot stop server or stop zone in multiple zones"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u505c\u6b62 Zone \u65f6\u9700\u8981\u786e\u4fdd\u591a\u6570\u6d3e\u526f\u672c\u5747\u5728\u7ebf\uff0c\u5426\u5219\u64cd\u4f5c\u4f1a\u5931\u8d25\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u73af\u5883\u662f\u4e09\u4e2a Zone\uff0c\u505c\u6b62\u4e00\u4e2a Zone \u540e\uff0c\u518d\u505c\u6b62\u4e00\u4e2a\u662f\u4e0d\u5141\u8bb8\u7684\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V3.1.4 \u65b0\u5efa\u79df\u6237\u540e\uff0c\u4f7f\u7528\u79df\u6237\u4fe1\u606f\u65e0\u6cd5\u767b\u5f55\u96c6\u7fa4\uff0c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR 1227 (42501): Access denied"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u521b\u5efa\u79df\u6237\u65f6\u9ed8\u8ba4\u5bc6\u7801\u4e3a\u7a7a\uff0c\u5982\u679c\u4e0d\u80fd\u767b\u5f55\uff0c\u4e00\u822c\u662f\u672a\u8bbe\u7f6e\u767d\u540d\u5355\uff0c\u5bfc\u81f4\u65e0\u8bbf\u95ee\u6743\u9650\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u767b\u5f55\u7cfb\u7edf\u79df\u6237\uff08root@sys\uff09\u4e3a\u65b0\u521b\u5efa\u7684\u79df\u6237\u8bbe\u7f6e\u767d\u540d\u5355\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"ALTER TENANT xxx SET VARIABLES ob_tcp_invited_nodes='%';\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 -h127.0.0.1 \u767b\u5f55\u4e1a\u52a1\u79df\u6237\uff0c\u6267\u884c\u547d\u4ee4\u4e3a\u672c\u79df\u6237\u8bbe\u7f6e\u767d\u540d\u5355\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SET GLOBAL ob_tcp_invited_nodes='%';\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5b57\u6bb5\u4e3a\u5916\u952e\u65f6\u63d2\u5165\u6570\u636e\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"1235 - Not supported feature or function"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u7684\u662f sys \u79df\u6237\uff0csys \u79df\u6237\u4ec5\u505a\u96c6\u7fa4\u7ba1\u7406\u4f7f\u7528\uff0c\u4e0d\u53ef\u5f53\u505a\u4e1a\u52a1\u79df\u6237\u3002\u666e\u901a\u79df\u6237\u4e0b\u5b57\u6bb5\u4e3a\u5916\u952e\u65f6\u53ef\u4ee5\u6b63\u5e38\u63d2\u5165\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u65b0\u5efa\u666e\u901a\u79df\u6237\u8fdb\u884c\u4e1a\u52a1\u4f7f\u7528\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u96c6\u7fa4\u65e0\u6cd5\u8fde\u63a5\uff0cobserver \u8fdb\u7a0b\u6302\u6389\uff0c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"worker cnt larger than max cnt"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u57fa\u672c\u4e3a\u79df\u6237 CPU \u8d44\u6e90\u4e0d\u8db3\u591f\u5bfc\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u8c03\u5927 sys_cpu_limit_trigger \u53c2\u6570\uff0c\u4f7f\u5176\u5927\u4e8e 16\uff0c\u6216\u8005\u66f4\u5927\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["load data \u5bfc\u5165\u6570\u636e\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR 1227 (42501): Access denied"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8bbf\u95ee\u6570\u636e\u6587\u4ef6\u65e0\u6743\u9650\u5bfc\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5c06\u5bfc\u5165\u7684\u6570\u636e\u6587\u4ef6\u653e\u5230\u542f\u52a8 OceanBase \u6570\u636e\u5e93\u7684\u7528\u6237\u6743\u9650\u4e0b\u6267\u884c\uff0c\u6216\u8005\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"set global secure_file_priv = '/tmp\u2019;\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 Anolis8.6 \u673a\u5668\u4e0b\uff0c\u90e8\u7f72 OceanBase \u6570\u636e\u5e93 V3.1.4 \u65f6\uff0ceth0 \u7f51\u5361 ping \u670d\u52a1\u5668\u6b63\u5e38\uff0c\u4f46\u90e8\u7f72\u62a5\u9519 ping \u5931\u8d25\uff1aeth0 fail to ping xxx.xxx.xxx.xxx. Please check configuration ",(0,r.jsx)(e.code,{children:"devname"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u540e\u7eed\u7248\u672c\u4fee\u590d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6267\u884c ",(0,r.jsx)(e.code,{children:"chmod u+s /usr/sbin/ping"})," \u547d\u4ee4\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5347\u7ea7 OceanBase \u6570\u636e\u5e93 V3.1.0 \u81f3 V3.1.4 \u5931\u8d25\uff0c\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"fail to get upgrade graph: \u2018NoneType\u2019 object has no attribute 'version'"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93 V3.1.0 \u4e0d\u652f\u6301\u672c\u5730\u5347\u7ea7\uff0c\u53ea\u80fd\u505a\u6570\u636e\u8fc1\u79fb\u8fd9\u79cd\u903b\u8f91\u5347\u7ea7\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u91cd\u65b0\u642d\u5efa\u4e00\u5957 OceanBase \u6570\u636e\u5e93 V3.1.4 \u73af\u5883\uff0c\u901a\u8fc7 OMS \u8fdb\u884c\u6570\u636e\u8fc1\u79fb\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V3.1.4 \u4e2d\u4f7f\u7528\u4e1a\u52a1\u79df\u6237\u4fee\u6539 lower_case_table_names \u53c2\u6570\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Variable 'lower_case_table_names'is a read only variable"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"MySQL \u7684\u53ea\u8bfb\u53d8\u91cf\u5728 MySQL \u91cc\u5373\u4f7f\u662f root \u4e5f\u4e0d\u80fd\u4fee\u6539\uff0c\u9700\u8981\u62e5\u6709\u4e3b\u673a\u8bbf\u95ee\u6743\u9650\u7684\u4eba\u5728\u5916\u90e8\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u540e\u91cd\u542f\u5b9e\u4f8b\u751f\u6548\u3002OceanBase \u6570\u636e\u5e93\u7684 MySQL \u79df\u6237\u662f\u903b\u8f91\u5b9e\u4f8b\uff0c\u6ca1\u6709\u72ec\u7acb\u8fdb\u7a0b\uff0c\u4e0d\u5b58\u5728\u91cd\u542f\u64cd\u4f5c\u3002\u6240\u4ee5\u9700\u4f7f\u7528\u6709 sys \u79df\u6237\u6743\u9650\u7684\u8d85\u7ea7\u7ba1\u7406\u5458\u53bb\u4fee\u6539\u79df\u6237\u7684\u5168\u5c40\u53c2\u6570\u53d8\u91cf\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u7cfb\u7edf\u79df\u6237 root@sys \u64cd\u4f5c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V3.1.4 \u4e2d\u4e00\u6b21\u6027\u5bfc\u5165\u5927\u6279\u6570\u636e\u62a5\u9519\u79df\u6237\u5185\u5b58\u4e0d\u8db3 ",(0,r.jsx)(e.code,{children:"ERROR: No memory or reach tenant memory limit"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6709\u5982\u4e0b\u4e24\u79cd\u539f\u56e0\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7cfb\u7edf\u79df\u6237\u672c\u8eab\u4f5c\u4e3a\u7cfb\u7edf\u7ba1\u7406\u8005\uff0c\u8d44\u6e90\u6709\u9650\uff0c\u4e0d\u9002\u5408\u4e1a\u52a1\u4f7f\u7528\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u78c1\u76d8\u5199\u6ee1\uff0c\u65e0\u6cd5\u89e6\u53d1\u8f6c\u50a8\u5408\u5e76\uff0c\u79df\u6237\u5185\u5b58\u4f1a\u5199\u6ee1\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6839\u636e\u4e0d\u540c\u539f\u56e0\u6709\u5982\u4e0b\u51e0\u79cd\u89e3\u51b3\u65b9\u6848\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4e0d\u80fd\u4f7f\u7528\u7cfb\u7edf\u79df\u6237 root@sys \u5f53\u4e1a\u52a1\u79df\u6237\u4f7f\u7528\u3002"}),"\n",(0,r.jsx)(e.li,{children:"datafile_size \u4e0d\u80fd\u592a\u5c0f\uff0c\u9632\u6b62\u79df\u6237\u7684\u78c1\u76d8\u88ab\u5199\u6ee1\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u901a\u8fc7\u53c2\u6570\u8c03\u4f18\uff0c\u53ef\u4ee5\u964d\u4f4e\u5185\u5b58\u5199\u6ee1\u98ce\u9669","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u79df\u6237\u5185\u5b58\u9608\u503c memstore_limit_percentage \u8c03\u5927\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u89e6\u53d1\u7248\u672c\u51bb\u7ed3\u7684\u9608\u503c freeze_trigger_percentage \u8c03\u5c0f\u3002"}),"\n",(0,r.jsx)(e.li,{children:"MemStore \u5199\u5165\u9650\u901f\u9608\u503c writing_throttling_trigger_percentage \u8bbe\u7f6e 70\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBClient\uff082.x \u7248\u672c\uff09\u901a\u8fc7 OBProxy \u8fde\u63a5 OceanBase \u6570\u636e\u5e93\uff08V4.0.0\uff09proxysys \u79df\u6237\u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR 2027 (HY000): received malformed packet"}),"\uff0c\u4f46\u662f\u4f7f\u7528 MySQL \u5ba2\u6237\u7aef\u8fde\u63a5\u6b63\u5e38\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OBClient 2.x \u7248\u672c\u4f7f\u7528 root@proxysys \u7528\u6237\u8fde\u63a5\u5230 OceanBase \u6570\u636e\u5e93\u4e4b\u540e\uff0c\u4f1a\u53d1\u9001 SQL \u8bed\u53e5\u67e5\u8be2 version\uff0cOBProxy \u4f1a\u76f4\u63a5\u56de\u590d EOF \u5305\uff0c\u8fd9\u4e2a\u5305\u5728 OBClient 1.x \u7248\u672c\u65f6\u662f\u4f1a\u88ab\u5ffd\u7565\uff0c\u5728 OBClient 2.x \u7248\u672c\u65f6\u4f1a\u89e3\u6790\u5f02\u5e38\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u6682\u65f6\u4f7f\u7528 MySQL \u5ba2\u6237\u7aef\uff0c\u8be5\u95ee\u9898\u4e0b\u4e2a\u8fed\u4ee3\u4fee\u590d\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V4.0.0 \u4e2d\u5bfc\u5165\u8868\u7684\u65f6\u5019\u603b\u662f\u62a5 ",(0,r.jsx)(e.code,{children:"ERROR 4263 (HY000): Minor freeze not allowed now"}),"\uff0c\u4e14\u65e0\u6cd5 truncate \u8868\u6570\u636e\u3002\u67e5\u770b\u65e5\u5fd7\u663e\u793a\u5982\u4e0b\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"WARN [STORAGE.BLKMGR] alloc_block (ob_block_manager.cpp:305) [9021][T1_MINI_MERGE][T1][YB42C0A81FCA-0005EC7D0FFFD8D6-0-0] [lt=22] Failed to alloc block from io device(ret=-4184)\nWARN [STORAGE] alloc_block (ob_macro_block_writer.cpp:1132) [9021][T1_MINI_MERGE][T1][YB42C0A81FCA-0005EC7D0FFFD8D6-0-0] [lt=4] Fail to pre-alloc block for new macro block(ret=-4184, current_index=0, current_macro_seq=0)\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"Minor freeze not allowed now \u6307\u7684\u662f\u65e0\u6cd5\u8fdb\u884c\u8f6c\u50a8\uff0c\u539f\u56e0\u4e00\u822c\u6709\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u79df\u6237\u5206\u914d\u78c1\u76d8\u7a7a\u95f4\u5360\u6ee1\uff0c\u5185\u5b58\u7684\u6570\u636e\u65e0\u6cd5\u8f6c\u50a8\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u4f7f\u7528\u4e86\u7cfb\u7edf\u79df\u6237\u5f53\u4e1a\u52a1\u79df\u6237\u4f7f\u7528\uff0c\u7cfb\u7edf\u79df\u6237\u8d44\u6e90\u8f83\u5c11\uff0c\u8f6c\u50a8\u6027\u80fd\u8ddf\u4e0d\u4e0a\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u4f7f\u7528\u4e86\u4e1a\u52a1\u79df\u6237\uff0c\u4f46\u8be5\u79df\u6237\u7684\u5185\u5b58\u8d44\u6e90\u8f83\u5c11\uff0c\u8f6c\u50a8\u6027\u80fd\u8ddf\u4e0d\u4e0a\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u589e\u5927\u5bf9\u5e94\u79df\u6237\u7684\u78c1\u76d8\u8d44\u6e90\uff0c\u547d\u4ee4\u5982\u4e0b\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"alter resource unit xxx datafile_size='xxG'\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u90e8\u7f72 OceanBase \u6570\u636e\u5e93 V4.0.0 \u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"[ERROR] OBD-1006: Failed to connect to oceanbase-ce"}),"\u3002",(0,r.jsx)(e.br,{}),"\n","\u67e5\u770b observer.log \u65e5\u5fd7\u663e\u793a ",(0,r.jsx)(e.code,{children:"ERROR [CLOG] resize (ob_server_log_block_mgr.cpp:183) [2790][][T0][Y0-0000000000000000-0-0] [lt=5] The size of reserved disp space need greater than 1GB!!!(ret=-4007"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"log_disk_size \u7528\u4e8e\u8bbe\u7f6e Redo \u65e5\u5fd7\u78c1\u76d8\u7684\u5927\u5c0f\uff0c\u4e0d\u80fd\u5c0f\u4e8e 1G \u7684\u9650\u5236\uff0c\u9ed8\u8ba4\u4e3a\u5206\u914d\u5185\u5b58\u7684 3~4 \u500d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u914d\u7f6e\u6587\u4ef6\u4e2d\u8c03\u5927 log_disk_size \u53c2\u6570\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u5355\u673a demo \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 V4.0.0 \uff0c\u901a\u8fc7 OBProxy \u8fde\u63a5\u6570\u636e\u5e93\u65f6\u7ecf\u5e38\u51fa\u73b0\u65ad\u8fde\u73b0\u8c61\uff0c\u4f46\u662f\u901a\u8fc7 OBServer \u76f4\u8fde\u5374\u6ca1\u6709\u95ee\u9898\u3002\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"ERROR 2013 (HY000): Lost connection to MySQL server during query\nERROR 2006 (HY000): MySQL server has gone away\nNo connection. Trying to reconnect\u2026\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u73b0\u5728 demo \u6a21\u5f0f\u4e2d OBProxy \u7ed9\u7684\u5185\u5b58\u6bd4\u8f83\u5c11\uff08200M\uff09\uff0c\u53ef\u80fd\u6709\u89e6\u53d1\u5185\u5b58\u8d85\u9650\u91cd\u542f\u7684\u95ee\u9898\uff0c\u540e\u7eed\u7248\u672c\u4f1a\u4f18\u5316\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u8c03\u5927 proxy_mem_limited \u53c2\u6570\u4e3a 500M \u6216 1G\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"alter proxyconfig set proxy_mem_limited ='1G';\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u901a\u8fc7 OBD \u5355\u673a\u90e8\u7f72 OceanBase \u6570\u636e\u5e93 V3.1.4 \u540e\u542f\u52a8\u5931\u8d25\uff0c\u901a\u8fc7 OBProxy \u8fde\u63a5\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR 2013 (HY000): Lost connection to MySQL server at 'reading authorization packet', system error: 0"}),"\uff0c\u65e5\u5fd7\u62a5\u9519\u5982\u4e0b\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"ERROR [SERVER.OMT] alloc (ob_worker_pool.cpp:93) [24864][454][Y0-0000000000000000] [lt=22] [dc=0] worker cnt larger than max cnt(worker_cnt_=256, max_cnt_=256)\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93\u6700\u4f4e\u4ee5 cpu_count 16 \u542f\u52a8\uff0c\u5982\u679c\u4fee\u6539\u8fc7\u8be5\u53c2\u6570\u53ef\u80fd\u5bfc\u81f4\u65e0\u6cd5\u542f\u52a8\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster edit-config"})," \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff0c\u8c03\u5927 cpu_count \u914d\u7f6e\u9879\uff0c\u4fdd\u5b58\u4fee\u6539\u540e\u6839\u636e\u9ed1\u5c4f\u8f93\u51fa\u6267\u884c\u5bf9\u5e94\u547d\u4ee4\u91cd\u542f\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5bfc\u5165\u6570\u636e\u5230 OceanBase \u6570\u636e\u5e93 V4.0.0 \u671f\u95f4\u51fa\u73b0\u5207\u4e3b\u62a5\u9519\u4fe1\u606f ",(0,r.jsx)(e.code,{children:"ERROR [ELECT] leader_revoke (ob_election.cpp:2151) [42767][1849][Y0-0000000000000000] [lt=13] [dc=0] leader_revoke, please attention!(revoke reason=\u201cclog sliding_window timeout\u201d"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"Leader \u540c\u6b65 Clog \u8d85\u65f6\u5bfc\u81f4\u5207\u4e3b\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u5c1d\u8bd5\u8c03\u5c0f\u5ba2\u6237\u7aef\u538b\u529b\uff0c\u6216\u8005\u8c03\u5927 _ob_clog_timeout_to_force_switch_leader\uff0c\u8fd9\u662f\u65e5\u5fd7\u540c\u6b65\u8d85\u65f6\u914d\u7f6e\u9879\uff0c\u53ef\u4ee5\u901a\u8fc7 oceanbase.__all_sys_parameter \u8868\u67e5\u770b\uff0c\u9ed8\u8ba4\u503c\u4e3a 10 \u79d2\uff0c\u53ef\u9002\u5f53\u8c03\u5927\uff0c\u5f71\u54cd\u662f leader \u5f02\u5e38\u65f6\uff0c\u76f8\u5e94\u7684 RTO \u4e5f\u4f1a\u53d8\u957f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V3.1.0 \u7533\u8bf7\u4e0d\u5230\u5185\u5b58\uff0c\u5408\u5e76\u8d85\u65f6\uff0c\u8f6c\u50a8\u5361\u4f4f\u3002\u65e5\u5fd7\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"Fail to alloc data block, (ret=-9202)"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6709\u5982\u4e0b\u4e24\u79cd\u53ef\u80fd\u539f\u56e0\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u53ef\u80fd\u662f\u78c1\u76d8\u88ab\u5360\u6ee1\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,r.jsx)(e.code,{children:"df -h"})," \u67e5\u770b\u3002"]}),"\n",(0,r.jsx)(e.li,{children:"\u53ef\u80fd\u662f\u8bbe\u7f6e\u7684 datafile \u4f7f\u7528\u5b8c\u4e86\uff0c\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2 __all_virtual_disk_stat \u67e5\u770b OceanBase \u6570\u636e\u5e93\u6574\u4f53\u78c1\u76d8\u5360\u7528\u4fe1\u606f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u901a\u8fc7\u6269\u5bb9\u89e3\u51b3\uff0c\u6216\u8005\u589e\u5927 datafile_size / datafile_disk_percentage \u914d\u7f6e\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V3.1.4 \u6267\u884c\u5408\u5e76\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR 4179 (HY000): Operation not allowed now"}),"\uff0crootserver \u65e5\u5fd7\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"enable_major_freeze is off, refuse to to major_freeze"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"enable_major_freeze \u9ed8\u8ba4\u662f\u5f00\u542f\u7684\uff0c\u6d4b\u8bd5\u73af\u5883\u4fee\u6539\u4e86\u53c2\u6570\uff0c\u5bfc\u81f4\u65e0\u6cd5\u624b\u52a8\u89e6\u53d1\u5408\u5e76\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6267\u884c ",(0,r.jsx)(e.code,{children:"alter system set enable_major_freeze='true';"})," \u6253\u5f00\u5408\u5e76\u53c2\u6570\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93 V4.1 \u4e2d sys \u79df\u6237\u8bbe\u7f6e\u6570\u636e\u5907\u4efd\u8def\u5f84\u62a5\u9519\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u6267\u884c SQL\uff1a ",(0,r.jsx)(e.code,{children:"ALTER SYSTEM SET data_backup_dest=\u2018file:///data/bak\u2019;"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR 1235 (0A000): Not supported feature or function"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u65e5\u5fd7\u4fe1\u606f\uff1a",(0,r.jsx)(e.code,{children:"WARN log_user_error_inner (ob_table_modify_op.cpp:1042) [7800][EvtHisUpdTask][T1][YB42ACAC1F54-0005F645ABA8855E-0-0] [lt=18] Data too long for column \u2018value2\u2019 at row 1"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\u4e3a\u79df\u6237\u7ea7\u522b\u5907\u4efd\uff0c\u4e14 sys \u79df\u6237\u4e0d\u80fd\u4e3a\u5176\u81ea\u8eab\u5907\u4efd\uff0csys \u79df\u6237\u767b\u5f55\u64cd\u4f5c\u7684\u8bdd\uff0c\u9700\u8981\u6307\u5b9a\u5907\u4efd\u7684\u79df\u6237\uff0c\u5176\u4e2d log_archieve_dest/data_backup_dest \u4e5f\u53ea\u80fd\u4e3a\u4e1a\u52a1\u79df\u6237\u5907\u4efd\u8bbe\u7f6e\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8bbe\u7f6e\u65f6\u6307\u5b9a\u4e3a\u4e1a\u52a1\u79df\u6237\uff1a",(0,r.jsx)(e.code,{children:"ALTER SYSTEM SET data_backup_dest=\u2018file:///data/bak/\u2019 TEANT = $your_tenant_name;"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93 V4.1 \u540e\u53f0\u8bbe\u7f6e\u65e5\u5fd7\u5f52\u6863\u5907\u4efd\u8def\u5f84\u62a5\u9519\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u6267\u884c SQL\uff1a ",(0,r.jsx)(e.code,{children:"ALTERSYSTEMSET LOG_ARCHIVE_DEST='LOCATION=file:///data/bak' TENANT = fund;"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR 9081 (HY000): the content of the format file at the destination does notmatch"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93 4.x \u7248\u672c\uff0c\u65e5\u5fd7\u5907\u4efd\u76ee\u5f55 log_archive_dest \u548c\u6570\u636e\u76ee\u5f55 data_backup_dest \u4e0d\u80fd\u5728\u540c\u7ea7\u76ee\u5f55\u4e0b\u3002\u56e0\u4e3a\u6bcf\u4e00\u4e2a\u8def\u5f84\u4e0b\u90fd\u6709\u4e00\u4e2a format \u6821\u9a8c\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u8bb0\u5f55\u8be5\u8def\u5f84\u7684\u4e00\u4e9b\u76f8\u5173\u5c5e\u6027\uff0c\u8bbe\u8ba1\u4e0a\u4e0d\u5141\u8bb8\u5907\u4efd\u76ee\u5f55\u76f8\u540c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5c06\u65e5\u5fd7\u5907\u4efd\u76ee\u5f55\u548c\u6570\u636e\u76ee\u5f55\u8bbe\u7f6e\u5230\u4e0d\u540c\u76ee\u5f55\u5c42\u7ea7\u4e0b\uff0c\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:"ALTER SYSTEM SET data_backup_dest='file:///data/bak/logdir';"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP \u5907\u4efd\u548c\u624b\u52a8\u53d1\u8d77 ALTER SYSTEM ARCHIVELOG \u547d\u4ee4\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR 1235 (0A000): start log archive backup when not STOP is not supported"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u65e5\u5fd7\u5907\u4efd\u8fdb\u7a0b\u4ecd\u5728\uff0c\u4e0d\u80fd\u91cd\u590d\u6267\u884c\u5907\u4efd\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u662f\u521d\u6b21\u5168\u91cf\u5907\u4efd\uff0c\u53ef\u4ee5\u5173\u505c\u5907\u4efd\u5e76\u6e05\u7406\u5907\u4efd\u4efb\u52a1\u548c\u8fdb\u7a0b\uff0c\u91cd\u65b0\u53d1\u8d77\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"--\u5173\u95ed\u65e5\u5fd7\u5907\u4efd\n ALTER SYSTEM NOARCHIVELOG;\n--\u5f3a\u5236\u53d6\u6d88\u6240\u6709\u5907\u4efd\u4efb\u52a1\uff08\u5907\u4efd\u76ee\u5f55\u4f1a\u91cd\u7f6e\uff09\nALTER SYSTEM CANCEL ALL BACKUP FORCE;\n--\u67e5\u770b\u5907\u4efd\u8def\u5f84\nSHOW PARAMETERS LIKE 'backup_dest'\n--\u4fee\u6539\u5907\u4efd\u76ee\u5f55\nALTER SYSTEM SET backup_dest='file:///data/obbackup';\n--\u542f\u52a8\u65e5\u5fd7\u5907\u4efd\nALTER SYSTEM ARCHIVELOG\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V3.1.4 \u542f\u52a8\u65e5\u5fd7\u5907\u4efd\u540e\uff0c\u5f88\u5feb\u5c31\u663e\u793a\u65ad\u6d41 interrupted\u3002\u67e5\u770b\u65e5\u5fd7\u663e\u793a ",(0,r.jsx)(e.code,{children:"log archive status is interrupted, need manual process(sys_info={status:{tenant_id:1, copy_id:0, start_ts:1671070878595931, checkpoint_ts:1671070878595931, status:5, incarnation:1, round:3, status_str:\u201cINTERRUPTED\u201d, is_mark_deleted:false, is_mount_file_created:true, compatible:1, backup_piece_id:0, start_piece_id:0}, backup_dest:\u201cfile:///home/nfs_server/backup\u201d})"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6709\u5982\u4e0b\u4e24\u79cd\u53ef\u80fd\u539f\u56e0\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"nfs \u5ba2\u6237\u7aef\u914d\u7f6e\u9519\u8bef\u3002"}),"\n",(0,r.jsx)(e.li,{children:"nfs \u670d\u52a1\u5668\u76ee\u5f55\u6743\u9650\u4e0d\u591f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6839\u636e\u4ee5\u4e0a\u539f\u56e0\uff0c\u6709\u5982\u4e0b\u4e24\u79cd\u89e3\u51b3\u529e\u6cd5\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"OceanBase \u6570\u636e\u5e93\u4e3a NFS \u5ba2\u6237\u7aef\uff0c\u9700\u8981\u6240\u6709 OBServer \u8282\u70b9\u672c\u5730\u521b\u5efa\u5907\u4efd\u76ee\u5f55\u6302\u8f7d\u5230\u670d\u52a1\u7aef\u7684 NFS \u5730\u5740\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u5c06 NFS \u670d\u52a1\u5668\u4e0a backup \u76ee\u5f55\u4fee\u6539\u5c5e\u7ec4 nfsnobody",":nfsnobody","\uff0c\u6216\u8005 777 \u6743\u9650\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u7528 OBD \u7ba1\u7406\u96c6\u7fa4\u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"OBD-1006: Failed to connect to oceanbase-ce"}),"\uff0c\u5b9e\u9645\u96c6\u7fa4\u72b6\u6001\u6b63\u5e38\uff0cOBD \u65e5\u5fd7\u62a5\u9519\u5bc6\u7801\u4e0d\u6b63\u786e ",(0,r.jsx)(e.code,{children:"Access denied for user"}),"\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(73827).A+"",width:"1500",height:"368"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u7528\u6237\u672a\u901a\u8fc7 OBD \u65b9\u5f0f\u4fee\u6539\u5bc6\u7801\uff0c\u800c\u662f\u76f4\u63a5\u767b\u5f55\u6570\u636e\u5e93\u4fee\u6539\uff0c\u4f46 OBD \u914d\u7f6e\u6587\u4ef6\u4e0d\u4f1a\u540c\u6b65\u4fee\u6539\uff0c\u5bfc\u81f4\u5bc6\u7801\u914d\u7f6e\u4e0d\u4e00\u81f4\uff0c\u4e14\u5f53\u524d\u60c5\u51b5\u4e0b\u56e0\u4e3a\u5bc6\u7801\u5df2\u7ecf\u4e0d\u4e00\u81f4\uff0c\u65e0\u6cd5\u518d\u901a\u8fc7 OBD \u4fee\u6539\u5bc6\u7801\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u767b\u5f55\u6570\u636e\u5e93\u8bbe\u7f6e\u7cfb\u7edf\u79df\u6237\u5bc6\u7801\u548c OBD \u914d\u7f6e\u6587\u4ef6\u4e2d ",(0,r.jsx)(e.code,{children:"root_password"})," \u914d\u7f6e\u9879\u4fdd\u6301\u4e00\u81f4\uff0c\u6b64\u65f6\u53ef\u4ee5\u6210\u529f\u901a\u8fc7 OBD \u7ba1\u7406\u96c6\u7fa4\u3002\u82e5\u4ecd\u60f3\u4fee\u6539\u5bc6\u7801\uff0c\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster edit-config"})," \u547d\u4ee4\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539 ",(0,r.jsx)(e.code,{children:"root_password"})," \u914d\u7f6e\u9879\u4e3a\u60f3\u8981\u4fee\u6539\u7684\u5bc6\u7801\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["ODC \u4e0a \u6267\u884c SQL \u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Unkown thread id"}),"\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(62922).A+"",width:"1500",height:"461"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["unknow thread id \u662f\u56e0\u4e3a\u5728 JDBC \u4ee3\u7801\u6267\u884c SQL \u65f6\uff0c\u8bbe\u7f6e\u4e86 ob_query_timeout\uff0c\u8d85\u65f6\u540e\u9a71\u52a8\u5c31\u4f1a\u6267\u884c ",(0,r.jsx)(e.code,{children:"kill query connectionId"})," \u547d\u4ee4\u5c06\u8d85\u65f6\u6267\u884c\u7684 SQL \u53d6\u6d88\u6389\u3002\u4f46\u662f\u8fd9\u4e2a\u547d\u4ee4\u5728\u5b58\u5728\u591a\u4e2a OBProxy \u65f6\uff0c\u53ef\u80fd\u4f1a\u53d1\u7ed9\u5176\u4ed6\u7684 OBProxy\uff0c\u5c31\u4f1a\u62a5\u9519 unknow thread id\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u589e\u5927\u8d85\u65f6\u53c2\u6570 ob_query_timeout\uff0c\u540c\u65f6\u4e5f\u5efa\u8bae\u589e\u5927\u4e8b\u52a1\u53c2\u6570 ob_trx_timeout\u3001ob_trx_idle_timeout\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V3.1.4 \u52a8\u4fee\u6539 observer.config.bin \u6587\u4ef6\u540e\u542f\u52a8\u5931\u8d25\uff0c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"check data checksum failed(ret=-4103)"}),"\u3002",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(84146).A+"",width:"1500",height:"207"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["\u9996\u5148\u4e0d\u652f\u6301\u76f4\u63a5\u624b\u52a8\u4fee\u6539\u8be5\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u914d\u7f6e\u53c2\u6570\u662f\u901a\u8fc7 alter system \u65b9\u5f0f\u6301\u4e45\u5316\u6b64\u5904\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,r.jsx)(e.code,{children:"./bin/observer -o \u53c2\u6570=\u53c2\u6570\u503c"})," \u7684\u65b9\u5f0f\u542f\u52a8\uff0c\u542f\u52a8\u6210\u529f\u540e\u4e5f\u4f1a\u6301\u4e45\u5316\u5230\u8be5\u914d\u7f6e\uff0c\u5f53\u7136\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"etc2 \u548c etc3 \u4e0b\u6709\u5907\u4efd\u6587\u4ef6\uff0c\u8be5\u914d\u7f6e\u6587\u4ef6\u52a0\u4e0a history \u4e00\u5171\u6709\u516d\u4efd\uff0c\u53ef\u4ee5 cp etc2/observer.conf.bin etc/observer.config.bin \u6062\u590d\u914d\u7f6e\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:'find /home/admin/oceanbase  |grep  "observer.conf"\n/home/admin/oceanbase/etc3/observer.conf.bin\n/home/admin/oceanbase/etc3/observer.conf.bin.history\n/home/admin/oceanbase/etc2/observer.conf.bin\n/home/admin/oceanbase/etc2/observer.conf.bin.history\n/home/admin/oceanbase/etc/observer.config.bin\n/home/admin/oceanbase/etc/observer.config.bin.history\n'})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["springboot \u9879\u76ee\u4f7f\u7528 OceanBase \u6570\u636e\u5e93 V4.0.0\uff0c\u6570\u636e\u5e93\u4e2d\u5b57\u6bb5\u662f datetime \u683c\u5f0f\uff0c\u7528 bean \u63a5\u6536 SQL \u67e5\u8be2\u7684\u7ed3\u679c\uff0cbean \u4e2d\u4f7f\u7528 string \u6765\u63a5\u6536\uff0c\u51fa\u73b0",(0,r.jsx)(e.code,{children:"2022-12-08 12:23:56.0"}),"\uff0c\u9884\u671f\u7ed3\u679c\u662f ",(0,r.jsx)(e.code,{children:"2022-12-08 12:23:56"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5bf9\u4e8e OceanBase \u6570\u636e\u5e93\u7684 datatime \u683c\u5f0f\uff0c\u5efa\u8bae\u4f7f\u7528 Date \u7684\u6570\u636e\u7c7b\u578b\u63a5\u6536\u3002\u5982\u679c\u60f3\u8981\u7528 String \u63a5\u6536 OceanBase \u6570\u636e\u5e93\u7684\u65f6\u95f4\u7c7b\u578b\uff0c\u5efa\u8bae\u5c1d\u8bd5\u5c06\u6570\u636e\u5e93\u6539\u4e3a timestamp \u683c\u5f0f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V4.0.0 \u5728\u7ed9\u65e5\u671f\u7c7b\u578b datetime \u7684\u5b57\u6bb5\u6309\u5e74\u5206\u533a\u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ERROR 1564:This partition function is not allowed"}),"\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(16434).A+"",width:"3048",height:"258"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u539f\u751f MySQL \u4e5f\u5982\u6b64\u8868\u73b0\uff0c\u62a5\u9519\u7b26\u5408\u9884\u671f\uff0cHash \u5206\u533a\u952e\u7684\u8868\u8fbe\u5f0f\u5fc5\u987b\u8fd4\u56de INT \u7c7b\u578b\uff0cleft \u622a\u53d6\u65b9\u5f0f\u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u6309\u5982\u4e0b\u51fd\u6570\u8bed\u6cd5\u83b7\u53d6\u5e74/\u6708\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"PARTITION BY RANGE( YEAR(dt) )"}),"\n",(0,r.jsx)(e.li,{children:"SUBPARTITION BY HASH( MONTH(dt) )"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V4.0.0 \u5728 write only \u573a\u666f\u65f6\uff0c\u78c1\u76d8\u8bfb\u5728\u4e00\u4e2a\u8f83\u9ad8\u7684\u9891\u7387\uff0c\u7eaf\u5199\u573a\u666f\u4e3a\u4ec0\u4e48\u4f1a\u6709\u8fd9\u4e2a\u9ad8\u7684\u8bfb\u64cd\u4f5c\uff1f",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(18985).A+"",width:"704",height:"487"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93\u7684\u5b58\u50a8\u6574\u4f53\u662f\u4e00\u4e2a LSM \u67b6\u6784\uff0c\u4ece\u4e0a\u5230\u4e0b\u662f MemTable\uff0cMinor SSTable\uff0cMajor SSTable\uff0c\u6570\u636e\u4ece MemTable \u5230 SSTable \u4f1a\u5199\u76d8\uff0c\u4ece Minor \u5230 Minor/Major \u4f1a\u8bfb\u76d8 + \u5199\u76d8\uff0cMinor SSTable \u7d2f\u79ef\u4e00\u5b9a\u6570\u91cf\u540e\u4e5f\u4f1a\u89e6\u53d1\u5408\u5e76\uff0c\u5408\u5e76\u9700\u8981\u91cd\u6392\u5217\uff0c\u9700\u8981\u8bfb+\u5199\u78c1\u76d8\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u7b26\u5408\u9884\u671f\uff0c\u65e0\u9700\u89e3\u51b3\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"500 \u79df\u6237\u5185\u5b58\u8d85\u9650\uff0c500 \u79df\u6237\u5185\u5b58\u4f7f\u7528\u8fc7\u591a\u4f1a\u5bfc\u81f4\u673a\u5668\u5185\u5b58\u8d44\u6e90\u8017\u5c3d\uff0cOBServer \u5185\u7684\u79df\u6237\u4f1a\u56e0\u4e3a\u5185\u5b58\u4e0d\u8db3\u800c\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5148\u770b\u4e0b 500 \u79df\u6237\u5185\u5b58\u5360\u7528\u6a21\u5757\u5927\u5c0f\u4fe1\u606f\uff1a",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"select * from __all_virtual_memory_info where tenant_id='500' order by hold desc limit 10;"}),(0,r.jsx)(e.br,{}),"\n","\u5f00\u542f\u5185\u5b58\u6cc4\u9732\u76d1\u63a7",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"alter system set leak_mod_to_check= '$mod_name';"}),(0,r.jsx)(e.br,{}),"\n","\u67e5\u8be2\u6709\u660e\u663e\u7684\u589e\u957f\u65f6\u505c\u6b62",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"select * from __all_virtual_mem_leak_checker_info order by alloc_count;"}),"\n\u7136\u540e\u53ca\u65f6\u5173\u95ed\u5185\u5b58\u6cc4\u9732\u76d1\u63a7",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"alter system set leak_mod_to_check= ''"}),";",(0,r.jsx)(e.br,{}),"\n","\u67e5\u770b back_trace",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"SELECT * FROM __all_virtual_malloc_sample_info WHERE mod_name='IlogMemstoCurso' ORDER BY alloc_bytes DESC limit 10;"}),(0,r.jsx)(e.br,{}),"\n","\u6839\u636e addr2line \u89e3\u6790\u5bf9\u5e94\u7684 back_trace",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"addr2line -pCfe bin/observer 0x9a98f75 0x984dddc 0x9847352 0x22e173d 0x22e2886 0x22e3025 0x7c5931e 0x7c58854 0x7c58469 0x7c0b548 0x7b6c3aa 0x7b2d630 0x7b2bea9 0x7f91517 0x7f91ddc 0x7f92c71 0x84b8115 0x7c94650 0x7c9e717 0x7c9d391 0x3432bfa 0x3436070 0x340b9af 0x2cabf02 0x9820da5 0x981f792 0x981c24f "})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u6ca1\u6709 addr2line \u547d\u4ee4\uff0cyum install -y binutils \u8fdb\u884c\u5b89\u88c5\u5982\u679c\u65e0\u6cd5\u5206\u6790\u5806\u6808\uff0c\u53ef\u4ee5\u5f00\u6e90\u95ee\u7b54\u533a\u53d1\u5e16\uff0c\u793e\u533a\u503c\u73ed\u5f00\u53d1\u4f1a\u534f\u52a9\u5206\u6790\u3002\n\u5e94\u6025\u5904\u7406\uff1a\u91cd\u542f\u544a\u8b66\u5bf9\u5e94\u8282\u70b9 observer \u670d\u52a1\uff0c\u4f46\u53ef\u80fd\u65e0\u6cd5\u5206\u6790\u95ee\u9898\u539f\u56e0\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OB4.x \u7248\u672c\u5efa\u8868\u65f6\u63d0\u793a Caused by: java.sql.SQLException: Row size too large"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OB \u9650\u5236\u5355\u8868\u884c\u957f\u5ea6 1.5M\uff0c\u6307\u7684\u662f\u6240\u6709\u5b57\u6bb5\u7c7b\u578b\u957f\u5ea6\u52a0\u5728\u4e00\u8d77\u4e0d\u8d85\u8fc7 1.5M\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u5176\u4ed6\u5b57\u7b26\u96c6\u6216\u4f7f\u7528\u5176\u4ed6\u6570\u636e\u7c7b\u578b\uff0c\u5c06\u5927\u5b57\u6bb5\u6216\u957f\u5b57\u6bb5\u7c7b\u578b\u9002\u5f53\u8c03\u6574\u4e3a\u5176\u4ed6\u53ef\u66ff\u4ee3\u7c7b\u578b\u6216\u957f\u5ea6\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"oceanbase4.1 \u7248\u672c\u6269\u5bb9\u8282\u70b9\u540e\u6027\u80fd\u672a\u63d0\u5347\uff1f"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u4ee5\u67e5\u770b\u8868\u6570\u636e\u5206\u5e03\u60c5\u51b5\uff0c\u56e0\u4e3a OB4.1 \u4e0d\u652f\u6301\u6269\u5bb9\u524d\u7684\u6570\u636e\u5747\u8861\uff0c\u5373\u5386\u53f2\u6570\u636e\u65e0\u6cd5\u8d1f\u8f7d\u5230\u6240\u6709\u8282\u70b9\uff0c4.2 \u7248\u672c\u5f00\u59cb\u652f\u6301\u3002",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"select svr_ip,count(*) from dba_ob_table_locations where database_name='xx' group by svr_ip;"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7\u5230 OB4.2 \u7248\u672c\u6216\u6700\u65b0\u7248\u672c\uff0c\u6216\u8005\u91cd\u65b0\u90e8\u7f72\u6700\u65b0\u7248\u672c\u96c6\u7fa4\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP \u544a\u8b66 OceanBase \u5f52\u6863\u65e5\u5fd7\u5907\u4efd\u5ef6\u8fdf\uff0c",(0,r.jsx)(e.code,{children:'tailf observer.log |grep "get ls arcchive progress failed" '})," \u6216\u8005 ",(0,r.jsx)(e.code,{children:'"failed to stat file"'}),"\u6240\u6709\u79df\u6237\u7684 1 \u53f7\u65e5\u5fd7\u6d41\u90fd\u62a5\u9519 ret=-4023\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u79cd\u6240\u6709\u79df\u6237\u65e5\u5fd7\u6d41\u5931\u8d25\u57fa\u672c\u53ef\u4ee5\u5b9a\u4f4d\u662f\u5168\u5c40\u95ee\u9898\uff0c\u6d89\u53ca\u5907\u4efd\u7684\u5168\u5c40\u573a\u666f\u8981\u4e48\u662f\u96c6\u7fa4\u6545\u969c\uff0c\u6216\u8005\u662f nfs \u670d\u52a1\u6709\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6392\u67e5 NFS \u6302\u8f7d\u4fe1\u606f\u3002\u4f8b\u5982\u6587\u4ef6\u76ee\u5f55\u8bbf\u95ee\u6743\u9650\u3001\u7528\u6237\u7ec4\u6743\u9650\u3001NFS \u8fde\u901a\u6027\u7b49\u3002",(0,r.jsx)(e.br,{}),"\n","\u8be5\u6848\u4f8b\u6392\u67e5\u6bd4\u8f83\u7279\u6b8a\uff0cobserver \u7684\u8fdb\u7a0b\u7528\u6237 admin \u7684 uid \u88ab\u4fee\u6539\u4e86\uff0c\u5bfc\u81f4\u90e8\u5206\u6587\u4ef6\u548c\u8d44\u6e90\u65e0\u6cd5\u8bbf\u95ee\u3002",(0,r.jsx)(e.br,{}),"\n","\u8be5\u6848\u4f8b\u6062\u590d\u65b9\u5f0f\uff1a",(0,r.jsx)(e.code,{children:"usermod -u 1001 admin"})," #1001 \u6839\u636e\u5b9e\u9645\u7684 uid \u586b\u5199\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.2 \u7248\u672c\u521b\u5efa\u8868\u65f6\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR 1499 (HY000): Too many partitions (including subpartitions) were defined"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u5185\u5b58\u4e0d\u8db3\u4ee5\u652f\u6301\u66f4\u591a\u8868\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u521b\u5efa\u7684\u5355\u5206\u533a\u8868\u8d85\u8fc7 8192 \u4e2a\u5206\u533a\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u662f\u5f00\u542f\u4e86\u56de\u6536\u7ad9\uff0c\u5927\u91cf\u5e9f\u5f03\u7684\u8868\u672a\u5373\u4f7f\u6e05\u7406\u4e5f\u4f1a\u5360\u7528\u5206\u533a\u6570\uff1b"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"OB4.x \u7248\u672c\uff0c1G \u5185\u5b58\u7ea6\u652f\u6301 2 \u4e07 tablet\uff0c\u5982\u679c\u5185\u5b58\u592a\u5c0f\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u6269\u5927\u79df\u6237\u5185\u5b58\u6765\u652f\u6491\u66f4\u591a\u8868\u5206\u533a\u3002"}),"\n",(0,r.jsx)(e.li,{children:"OB \u5355\u5206\u533a\u8868\u9650\u5236\uff0c\u5355\u5206\u533a\u8868\u4e0d\u80fd\u8d85\u8fc7 8192 \u4e2a\u5b50\u5206\u533a\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u9700\u8981\u6e05\u7406\u56de\u6536\u7ad9\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB3.1.4 \u7248\u672c\u7684 sql \u4e2d\u6761\u4ef6 in \u8d85\u8fc7 1000 \u4e2a\u53c2\u6570\u540e\u6267\u884c\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"Size overflow"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5927 in \u573a\u666f\uff0c\u8be5\u7248\u672c\u5b58\u5728\u4f18\u5316\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u51cf\u5c11 in \u7684\u4e2a\u6570"}),"\n",(0,r.jsx)(e.li,{children:"\u6216\u8005\u8c03\u6574\u53c2\u6570 stack_size \u4e3a 15M\uff0c\u540c\u65f6\u8c03\u5927 system_memory=system_memory+OBserver \u7ebf\u7a0b\u6570*stack_size\u3002\u9002\u7528\u4e8e OB3.x \u7248\u672c\u73af\u5883\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB3.1.5 \u7248\u672c\u5728\u6267\u884c alter system restore \u505a\u6570\u636e\u6062\u590d\u65f6\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR 9011(HY000): cannot find backup file"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8be5\u62a5\u9519\u57fa\u672c\u662f\u6062\u590d sql \u8bed\u53e5 at \u548c with \u4e2d\u7684\u53c2\u6570\u548c\u5b9e\u9645\u914d\u7f6e\u4e0d\u7b26\u5408\u5bfc\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8be5\u6848\u4f8b\u662f with \u53c2\u6570\u4e2d\u7684\u96c6\u7fa4\u540d\u79f0\u586b\u5199\u9519\u8bef\u5bfc\u81f4\u3002\n\u96c6\u7fa4\u540d\u79f0\u67e5\u770b\uff1a",(0,r.jsx)(e.code,{children:"show parameters like '%cluster%';"})," \u8fd4\u56de\u7684 value \u5b57\u6bb5\u5bf9\u5e94\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.1 \u7248\u672c\u8fde\u63a5\u4e1a\u52a1\u79df\u6237\u957f\u65f6\u95f4\u7b49\u5f85\uff0c\u65e0\u6cd5\u767b\u5f55\u8fdb\u53bb\u3002",(0,r.jsx)(e.br,{}),"\n","observer.log \u62a5\u9519\uff1a",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"WDIAG [COMMON] wait (ob_io_define.cpp:859) [14132][][T500][Y0-0000000000000000-0-0] [lt=21][errcode=-4224] IO error, (ret=-4224 "}),(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"WDIAG [COMMON] read (ob_io_manager.cpp:159) [14132][][T500][Y0-0000000000000000-0-0] [lt=46][errcode=-4224] io handle wait failed(ret=-4224 "})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u8fc7\u65e5\u5fd7\u62a5\u9519\u89e3\u6790\u51fa\u73b0\u4e86\u78c1\u76d8 IO \u7b49\u5f85\u95ee\u9898\uff0c\u5982\u679c\u78c1\u76d8 IO \u8bfb\u5199\u6027\u80fd\u53d8\u6162\u6216\u8005\u8bfb\u5199\u5361\u987f\u4f1a\u51fa\u73b0\u8be5\u95ee\u9898\u73b0\u8c61\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u78c1\u76d8\u786c\u4ef6\u53ef\u80fd\u6709\u6545\u969c\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u78c1\u76d8 IO \u53ef\u80fd\u88ab\u5360\u6ee1\uff0c\u6bd4\u5982\uff1a\u4f7f\u7528\u6027\u80fd\u8f83\u4f4e\u7684\u673a\u68b0\u76d8\uff0c\u6216\u8005\u6570\u636e\u548c\u65e5\u5fd7\u540c\u76d8\uff0c\u6216\u8005\u4e1a\u52a1\u4e0d\u5408\u7406\u5360\u7528\u5927\u91cf\u78c1\u76d8 IO \u7b49\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u8be5\u6848\u4f8b\u662f\u78c1\u76d8\u6545\u969c\uff0c\u538b\u7f29\u548c\u89e3\u538b\u6587\u4ef6\u65f6\u4f1a\u51fa\u73b0\u957f\u65f6\u95f4\u5361\u4f4f\u65e0\u6cd5\u7ed3\u675f\uff0c\u9700\u8981\u66ff\u6362\u78c1\u76d8\u3002\n\u78c1\u76d8\u6545\u969c\u53ef\u4ee5\u4f7f\u7528 smart \u547d\u4ee4\u68c0\u67e5\u6216\u8005\u67e5\u770b/var/log/messages \u7cfb\u7edf\u65e5\u5fd7\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u78c1\u76d8 IO \u53ef\u4ee5\u901a\u8fc7",(0,r.jsx)(e.code,{children:"iostat -x 1"}),"\u547d\u4ee4\u68c0\u67e5\u78c1\u76d8 IO \u8bfb\u5199\u6216\u8005 IO \u7b49\u5f85\u3002\u5982\u679c\u662f\u751f\u4ea7\u73af\u5883\uff0c\u5b58\u5728\u673a\u68b0\u76d8\u6216\u8005\u540c\u76d8\u95ee\u9898\uff0c\u5f3a\u70c8\u5efa\u8bae\u66f4\u6362 SSD \u78c1\u76d8\u4e14\u6570\u636e\u548c\u65e5\u5fd7\u5206\u76d8\u90e8\u7f72\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.1 \u7248\u672c\u8c03\u6574\u79df\u6237 locality \u65f6\uff0c\u63d0\u793a\uff1a",(0,r.jsx)(e.code,{children:"operation not allowed now"}),(0,r.jsx)(e.br,{}),"\n","observer.log \u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"WARN  [RS] process_ (ob_rs_rpc_processor.h:117) [5653][DDLQueueTh0][T0][YB420A581A34-0005F940407C5D80-0-0] [lt=1] ddl operation not allow, can not process this request(ret=-4179, pcode=528)"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"operation not allowed now"}),"\u6bd4\u8f83\u5bbd\u6cdb\uff0c\u9700\u8981\u901a\u8fc7\u62a5\u9519\u65e5\u5fd7\u67e5\u770b\u5185\u6838\u4ee3\u7801(ob",(0,r.jsx)(e.em,{children:"rs_rpc_processor.h:117)\uff0c\u5bf9\u5e94\u7248\u672c\u548c\u884c\u53f7\u4ee3\u7801(!GCONF.enable_ddl && !is_allow_when_disable_ddl(pcode, ddl_arg"}),") \uff0c\u53ef\u4ee5\u5224\u65ad\u548c enable_ddl \u53c2\u6570\u76f8\u5173\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u8be5\u6848\u4f8b enable_ddl \u88ab\u4fee\u6539\u4e3a false\uff0c\u5c06\u6570\u636e\u5e93\u7cfb\u7edf\u53c2\u6570 enable_ddl \u8bbe\u7f6e\u4e3a true \u5373\u53ef\u3002\u8be5\u53c2\u6570\u88ab\u4fee\u6539\u5927\u6982\u7387\u662f\u5347\u7ea7 OB \u5931\u8d25\u5bfc\u81f4\uff0c\u5efa\u8bae\u7528\u6237\u5c06 OB \u5347\u7ea7\u5b8c\u6210\uff0c\u4e0d\u5efa\u8bae\u8df3\u8fc7\u4efb\u52a1\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB3.1.4 \u8282\u70b9\u5b95\u673a\u540e\u91cd\u65b0\u4e0a\u7ebf\u540e unit \u4e0d\u81ea\u52a8\u8d1f\u8f7d\u4e86\uff0cobserver.log \u62a5\u9519\u6709\u5173\u952e\u5b57\uff1a",(0,r.jsx)(e.code,{children:"ld tenant can't be dropped"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6709 unit \u7684 GC \u65e0\u6cd5\u5b8c\u6210\u3002\u5f53\u4e00\u4e2a zone \u5185\u6709\u8282\u70b9\u6c47\u62a5\u7ed9 RS \u7684\u8d44\u6e90\u5360\u7528\u4e0e\u5b9e\u9645\u4e0d\u7b26\u65f6\uff08\u5305\u62ec\u672a GC \u7684 unit\uff09\uff0c\u5219\u6b64\u65f6\u8be5 zone \u4e0d\u4f1a\u6267\u884c\u8d1f\u8f7d\u5747\u8861\uff0cunit \u4e5f\u65e0\u6cd5 GC\u3002\u540e\u7eed OB3.1.5 \u7248\u672c\u4f1a\u4f18\u5316\u4fee\u590d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u9700\u8981\u91cd\u542f observer.log \u6253\u5370",(0,r.jsx)(e.code,{children:"old tenant can't be dropped"}),"\u5173\u952e\u5b57\u7684\u8282\u70b9 ob \u670d\u52a1\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.2.0 \u7248\u672c\u4e3b\u5907\u79df\u6237\u573a\u666f\uff0c\u6267\u884c\u79df\u6237\u5347\u7ea7",(0,r.jsx)(e.code,{children:'ALTER SYSTEM RUN UPGRADE JOB "UPGRADE_ALL"'}),"\u7248\u672c\u672a\u7edf\u4e00\uff0c\u91cd\u590d\u6267\u884c\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"[4179][HY000]: Operation not allowed now"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e3b\u5907\u79df\u6237\u96c6\u7fa4\u9700\u8981\u4fdd\u6301\u7248\u672c\u4e00\u81f4\uff0c\u7eaf\u4e3b\u96c6\u7fa4\u548c\u7eaf\u5907\u96c6\u7fa4\u5347\u7ea7\u987a\u5e8f\uff1a\u5347\u7ea7\u5907\u96c6\u7fa4\uff0c\u518d\u5347\u7ea7\u4e3b\u96c6\u7fa4\uff0c\u4e24\u8fb9\u7684\u79df\u6237\u7248\u672c\u4f1a\u4fdd\u6301\u4e00\u81f4\uff0c\u65e0\u9700\u518d\u6267\u884c\u5347\u7ea7\u79df\u6237\u547d\u4ee4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e3b\u79df\u6237\u96c6\u7fa4\u4e5f\u5347\u7ea7\u81f3\u540c\u7248\u672c\u5373\u53ef\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.2.1 \u521d\u59cb\u5316\u5931\u8d25\uff0cobserver.log \u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:'Unexpected internal error happen, please checkout the internal errcode(errcode=-4013, file="protected_stack_allocator.cpp", line_no=85, info="alloc failed")'})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u542f\u52a8\u73af\u5883\u4e2d stack_size \u503c\u88ab\u4fee\u6539\uff0c\u9ed8\u8ba4\u53c2\u6570 512k\uff0c\u5bfc\u81f4\u7533\u8bf7\u7ebf\u7a0b\u6808\u5931\u8d25\uff0c\u8be5\u53c2\u6570\u4e0d\u5efa\u8bae\u7528\u6237\u8c03\u6574\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u624b\u52a8\u6307\u5b9a\u53c2\u6570\u542f\u52a8 ",(0,r.jsx)(e.code,{children:'./bin/observer -o "stack_size=512k"  '})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.1.1 \u7248\u672c\uff0c\u78c1\u76d8\u672a\u5360\u6ee1\uff0c\u4f46\u78c1\u76d8 IO \u7e41\u5fd9\uff0cOCP \u544a\u8b66\uff1a",(0,r.jsx)(e.code,{children:'Server out of disk space(msg="disk is almost full", ret=-4184'}),"\u3002observer.log \u6709\u76f8\u5173\u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"fail to check space full(ret=-4184)"}),(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"fail to write tmp block(ret=-4184)"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OB420 \u7248\u672c\u4fee\u590d\u78c1\u76d8\u8d1f\u8f7d\u8fc7\u9ad8\u65f6\uff0c\u4e34\u65f6\u6587\u4ef6 I/O \u5f02\u5e38\u53ef\u80fd\u5bfc\u81f4\u62a5\u9519 4184 \u78c1\u76d8\u6ee1\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7 OB420 \u7248\u672c\u6216\u4ee5\u4e0a\u7248\u672c\u5373\u53ef\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["obproxy \u8bbf\u95ee OB4.2.1 \u65f6\uff0c\u63d0\u793a",(0,r.jsx)(e.code,{children:"ERROR 4669 (HY000)\uff1acluster not exists"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"show parameters like '%cluster%';"})," value \u5b57\u6bb5\u5bf9\u5e94\u7684\u662f\u6b63\u786e\u7684\u96c6\u7fa4\u540d\u79f0\uff1b"]}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u96c6\u7fa4\u540d\u79f0\u6b63\u786e\u7684\u53ef\u80fd\u662f\u914d\u7f6e\u4e86 obproxy_config_server_url \u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4f18\u5148\u7ea7\u9ad8\u4e8e rootservice_list\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4f7f\u7528 value \u5b57\u6bb5\u5bf9\u5e94\u7684\u96c6\u7fa4\u540d\u79f0\u5373\u53ef\uff1b"}),"\n",(0,r.jsxs)(e.li,{children:["\u5982\u679c\u914d\u7f6e\u4e86 obproxy_config_server_url \u4e14\u548c\u5b9e\u9645\u96c6\u7fa4\u540d\u79f0\u4e0d\u4e00\u81f4\uff0c\u53ef\u4ee5\u628a\u53c2\u6570\u7f6e\u7a7a\uff0c",(0,r.jsx)(e.code,{children:"alter proxyconfig set obproxy_config_server_url='';"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.2.1 \u79df\u6237\u5408\u5e76\u5931\u8d25\uff0cobserver.log \u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"failed to merge partition(ret=-4184)"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd\u662f\u5269\u4f59\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\uff0c\u7528\u6237\u4e1a\u52a1\u6570\u636e\u5360\u7528\u63a5\u8fd1\u9600\u503c 90%\u65f6\uff0c\u5bfc\u81f4\u5408\u5e76\u5237\u5b8f\u5757\u65f6\uff0c\u78c1\u76d8 free block \u5bb9\u91cf\u4e0d\u8db3\uff0c\u65e0\u6cd5\u89e6\u53d1\u5408\u5e76\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6269\u6570\u636e\u78c1\u76d8\u5bb9\u91cf\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.2.1 \u505a sysbench \u538b\u6d4b\u62a5\u9519 lost connection\u3002\n\u5c4f\u5e55\u6253\u5370\uff1a",(0,r.jsx)(e.code,{children:"SQL error\uff0cerrno = 2013\uff0cstate = 'HY000' : Lost connection to server during query"}),(0,r.jsx)(e.br,{}),"\n","obproxy.log \u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"obproxy's memory is out of limit\uff0cwill be going to commit suicide"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"proxy_mem_limited \u592a\u5c0f\uff0c\u538b\u6d4b\u671f\u95f4\u5bfc\u81f4 obproxy \u5185\u5b58\u592a\u5c0f\u51fa\u73b0\u65ad\u8fde\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u589e\u5927 obproxy \u5185\u5b58\uff0cproxy_mem_limited \u53c2\u6570\uff0c\u9ed8\u8ba4\u503c\u4e3a 2G\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.2.1 \u6267\u884c sql \u62a5\u9519\u78c1\u76d8\u6545\u969c\uff0c",(0,r.jsx)(e.code,{children:"ERROR 4392 (HY000) : disk is hung"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u78c1\u76d8\u6027\u80fd\u4e0d\u8db3\u4f1a\u5bfc\u81f4\u8bfb\u5199\u5360\u7528\u5927\u91cf IO\uff0c\u51fa\u73b0\u7b49\u5f85\uff0c\u8d85\u51fa data_storage_warning_tolerance_time\uff0clog_storage_warning_tolerance_time \u9ed8\u8ba4\u65f6\u95f4\uff0c\u4f1a\u5224\u5b9a\u4e3a\u78c1\u76d8\u6545\u969c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u66f4\u6362 SSD \u6216\u8005\u9ad8\u6027\u80fd\u78c1\u76d8\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u786e\u5b9a\u78c1\u76d8\u6027\u80fd\u6b63\u5e38\uff0c\u53ef\u4ee5\u9002\u5f53\u8c03\u5927 log_storage_warning_tolerance_time \u6216\u8005 data_storage_warning_tolerance_time \u53c2\u6570\uff0c\u9ed8\u8ba4 5s\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.2.1 \u7248\u672c\u8868\u7ed3\u6784\u5b58\u5728\u751f\u6210\u5217\uff0cload data \u5bfc\u5165\u6570\u636e\u62a5\u9519",(0,r.jsx)(e.code,{children:"ERROR 1048 (23000): Column cannot be null"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u62a5\u9519\u6307\u7684\u662f\u751f\u6210\u5217\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u5f53\u5b58\u5728\u6709\u751f\u6210\u5217\u7684\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u6307\u5b9a\u975e\u751f\u6210\u5217\u5b57\u6bb5\u540d\u5bfc\u5165\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"load data infile '$path' into table $tableName fields terminated by ',' (field1,field2,field3,field4);"}),"\u63d2\u5165\u7684\u5b57\u6bb5\u4e0d\u6307\u5b9a\u751f\u6210\u5217\u5b57\u6bb5\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OB4.2.1 \u7684\u6536\u7ad9\u4e2d\u8fc7\u671f\u6570\u636e\u672a\u81ea\u52a8\u6e05\u7406\uff0c\u8bbe\u7f6e\u4e86\u5f88\u5c0f\u7684\u4fdd\u7559\u65f6\u95f4\u4e5f\u672a\u89e6\u53d1\u6e05\u7406\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u63a7\u5236\u56de\u6536\u7ad9\u6e05\u7406\u7684\u9664\u4e86\u8fc7\u671f\u65f6\u95f4\u53c2\u6570 recyclebin_object_expire_time\uff0c\u8fd8\u6709\u56de\u6536\u9891\u7387\u7684\u9690\u85cf\u53c2\u6570_recyclebin_object_purge_frequency\uff0c\u9ed8\u8ba4 10 \u5206\u949f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u7b49\u5f85 10 \u5206\u949f\u6216\u8005\u8bbe\u7f6e\u9690\u85cf\u53c2\u6570\u7684\u503c ",(0,r.jsx)(e.code,{children:"SELECT * FROM oceanbase.__all_virtual_sys_parameter_stat WHERE name='_recyclebin_object_purge_frequency';"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.1.0 \u6d4b\u8bd5\u56de\u6536\u7ad9\u624b\u52a8\u6e05\u7406\u65f6\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"4179 Operation not allowed now"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5728 sys \u79df\u6237\u4e0b\u8fdb\u884c\u56de\u6536\u7ad9\u64cd\u4f5c\u4e86\uff0csys \u79df\u6237\u4f5c\u4e3a\u7ba1\u7406\u79df\u6237\u5b58\u5728\u4e00\u4e9b\u64cd\u4f5c\u548c\u529f\u80fd\u9650\u5236\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u56de\u6536\u7ad9\u64cd\u4f5c\u5728\u666e\u901a\u79df\u6237\u4e2d\u64cd\u4f5c\uff0csys \u79df\u6237\u4e0d\u5efa\u8bae\u4f7f\u7528\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u505a\u4e86\u78c1\u76d8\u9635\u5217 reid0 \u7684 OB4.1.0 \u7684 observer.log \u6709\u5927\u91cf\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:'Data checksum error(msg="log checksum error", ret=-4103'})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5df2\u7ecf\u548c intel \u5b98\u65b9\u786e\u8ba4\u4e3a\u78c1\u76d8\u9635\u5217\u5361\u4e2d\u7684 bug\u3002\u4f7f\u7528 write through, \u6570\u636e\u76f4\u63a5\u5199\u5230\u78c1\u76d8, \u8bfb\u53d6\u65f6\u4e5f\u4f1a\u4ece\u78c1\u76d8\u4e0a\u8bfb\u53d6, \u89e3\u51b3\u4e86 cache \u810f\u6570\u636e\u7684\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u78c1\u76d8\u9635\u5217 cache \u8bbe\u7f6e\u4e3a write through\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["docker \u73af\u5883\u5b89\u88c5 OB\uff0c\u53ea\u80fd\u4f7f\u7528 localhost \u8fdb\u884c\u94fe\u63a5\uff0c\u4f7f\u7528 IP \u5730\u5740\u8fde\u63a5\u4e0d\u4e0a\uff0c\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"2013 - Lost connection to server at 'handshake\uff1areading initial communication packet',system error\uff1a0\u3002 "})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5bbf\u4e3b\u673a\u4e0a OB \u7684 2881 \u548c 2882 \u7aef\u53e3\u88ab\u5360\u7528\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6740\u6389\u5360\u7528\u7aef\u53e3\u7684\u8fdb\u7a0b\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 mybatis-plus-boot-starter 3.4.2 \u7248\u672c\uff0c\u6279\u91cf\u5220\u9664\u548c\u63d2\u5165\u6570\u636e\u5230 OB4.2\uff0c\u51fa\u73b0\u5220\u9664\u548c\u63d2\u5165\u4e0d\u5b8c\u6574\u73b0\u8c61\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"mybatis-plus-boot-starter 3.4.2 \u7248\u672c\uff0c\u53d6\u51fa\u6765\u7684\u6570\u636e id \u6ca1\u6709\u987a\u5e8f\uff0c\u5bfc\u81f4\u540e\u9762\u7684\u903b\u8f91\u9519\u8bef\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"mybatis-plus-boot-starter 3.5.3 \u7248\u672c\u4fee\u590d\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 mybatis-plus-boot-starter 3.4.2 \u7248\u672c\uff0c\u505a\u5173\u8054\u67e5\u8be2\u65f6\u7ed3\u679c\u96c6\u662f\u65e0\u5e8f\u7684\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"mybatis-plus-boot-starter 3.4.2 \u7248\u672c\uff0c\u53d6\u51fa\u6765\u7684\u6570\u636e id \u6ca1\u6709\u987a\u5e8f\uff0c\u5bfc\u81f4\u540e\u9762\u7684\u903b\u8f91\u9519\u8bef\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"mybatis-plus-boot-starter 3.5.3 \u7248\u672c\u4fee\u590d\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OB4.1.0 \u8bbe\u7f6e\u4e86 max_syslog_file_count \u53c2\u6570\u540e\uff0c\u7cfb\u7edf\u65e5\u5fd7\u672a\u81ea\u52a8\u5220\u9664\uff0c\u91cd\u542f OB \u4e5f\u672a\u6e05\u7406\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"enable_syslog_recycle \u81ea\u52a8\u56de\u6536\u53c2\u6570\u672a\u6253\u5f00\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6253\u5f00\u8be5\u53c2\u6570\uff0c",(0,r.jsx)(e.code,{children:"ALTER SYSTEM SET enable_syslog_recycle='True';"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["TPCC \u6d4b\u8bd5 OB4.2 \u7248\u672c\u65f6\uff0cterminals \u8bbe\u7f6e\u5927\u6d4b\u8bd5\u4f1a\u5931\u8d25\u3002obproxy.log \u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"failed,-4124\u548cfailed to accept con(ret=-10024)"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"accept \u7cfb\u7edf\u8c03\u7528\u65f6\u62a5\u9519\u4e86\uff1aEMFILE\uff0c\u6253\u5f00\u7684 file \u592a\u591a\u4e86\uff0c\u731c\u6d4b\u662f\u7cfb\u7edf fd \u4e0d\u591f\u7528\u4e86\uff0c\u9700\u8981\u68c0\u67e5 ulimit -a \u6253\u5f00\u6587\u4ef6\u6570\u914d\u7f6e\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u8bbe\u7f6e OB \u548c OBProxy \u8282\u70b9\u7684\u6700\u5927\u6587\u4ef6\u6570 open files\uff0c\u5efa\u8bae OB \u7684\u90e8\u7f72\u7528\u6237\u6587\u4ef6\u6570\u8bbe\u7f6e\u4e3a 655350\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["miniOB \u5728 mac M1 \u82af\u7247\u7f16\u8bd1\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"CMake Error at /usr/local/lib/cmake/libevent/LibeventConfig.cmark:172 (message):Can not find any libraries for libevent"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 brew \u5b89\u88c5\u7684 libevent \u65f6\u6ca1\u6709\u751f\u6210 cmake \u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u6b63\u786e\u7684\u5b89\u88c5 libevent \u65b9\u5f0f\u5982\u4e0b\uff1a","\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"git clone https://github.com/libevent/libevent.git"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"mkdir build && cd build"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"cmake .."})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"make"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"make install"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["make install \u540e\u51fa\u73b0\u4ee5\u4e0b\u5185\u5bb9\u5373\u4e3a\u6210\u529f\u3002",(0,r.jsx)(e.br,{}),"\n","-- Installing: /usr/local/lib/cmake/libevent/LibeventConfig.cmake",(0,r.jsx)(e.br,{}),"\n","-- Installing: /usr/local/lib/cmake/libevent/ LibeventConfigVersion.cmake",(0,r.jsx)(e.br,{}),"\n","-- Installing: /usr/local/lib/cmake/libevent/LibeventTargets-static.cmake",(0,r.jsx)(e.br,{}),"\n","-- Installing: /usr/local/lib/cmake/libevent/LibeventTargets-static-release.cmake",(0,r.jsx)(e.br,{}),"\n","-- Installing: /usr/local/lib/cmake/libevent/LibeventTargets-shared.cmake",(0,r.jsx)(e.br,{}),"\n","-- Installing: /usr/local/lib/cmake/libevent/LibeventTargets-shared-release.cmake"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["JDBC \u6279\u91cf\uff08\u4e00\u6b21\u4e00\u4e07\u6761\uff09\u63d2\u5165 OB4.1 \u7248\u672c\u65f6\u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"com.oceanbase.jdbc.internal.util.exceptions.MaxAllowedPacketException:query size (4194308) is >= to max_allowed_packet (4194304)"}),"\n\u8bbe\u7f6e max_allowed_packet \u53c2\u6570\u540e\uff0c\u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"java.sql.SQLNonTransientConnectionException: (conn=2388917) packet sequence mismatch, expected obSeqNo=3, but received obSeqNo=1 at com.oceanbase.jdbc.internal.util.exceptions.ExceptionFactory.createException(ExceptionFactory.java:122) ~[oceanbase-client-2.4.3.jar:?]"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"max_allowed_packet \u62a5\u9519\u6bd4\u8f83\u660e\u663e\uff0c\u9700\u8981\u8c03\u6574 max_allowed_packet \u53c2\u6570\uff0c\u53ef\u4ee5\u6309 5-10 \u500d\u589e\u52a0\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u548c OB \u7684\u9a71\u52a8\u6709\u5173\u7cfb\uff0c\u53ef\u4ee5\u8c03\u6574 jdbc \u53c2\u6570\u89c2\u5bdf\u4e0b\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"SET GLOBAL max_allowed_packet= '';"})," -- \u6839\u636e\u60c5\u51b5\u5b9a\u4e49\uff0c\u5355\u4f4d\u4e3a byte\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u4e24\u79cd\u65b9\u6cd5\uff1a","\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"jdbc \u94fe\u63a5\u589e\u52a0 useOceanBaseProtocolV20=false -- \u4e0d\u4f7f\u7528 ob2.0 \u534f\u8bae\u3002"}),"\n",(0,r.jsx)(e.li,{children:"jdbc \u94fe\u63a5\u589e\u52a0 useServerPrepStmts=true -- \u4f7f\u7528\u670d\u52a1\u5668 prepare\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OB4.2.1 \u7248\u672c 1-1 \u67b6\u6784\u6269\u5bb9\u6210 2-2 \u540e\uff0c\u79df\u6237\u5df2\u7ecf\u8bbe\u7f6e unit_num=2\uff0c\u4f46\u65b0\u63d2\u5165\u7684\u6570\u636e\u4e0d\u4f1a\u81ea\u52a8\u8d1f\u8f7d\u5230\u65b0\u8282\u70b9\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u9700\u8981\u6269\u5bb9\u8282\u70b9\u7248\u672c\u548c\u539f\u96c6\u7fa4\u7248\u672c\u4fdd\u6301\u4e00\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6269\u5bb9\u8282\u70b9\u548c\u539f\u96c6\u7fa4\u7248\u672c\u9700\u8981\u4e00\u6837\uff0c\u53ef\u4ee5\u6574\u4f53\u5347\u7ea7\u6216\u8005\u7f29\u5bb9\u91cd\u65b0\u6269\u5bb9\u76f8\u540c\u7248\u672c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.2.1 \u4f7f\u7528\u817e\u8baf COS \u8fdb\u884c\u505a\u5907\u4efd\u65f6\uff0c\u5f52\u6863\u5907\u4efd\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR 9060 (HY000): COS error"}),"\u3002\n",(0,r.jsx)(e.code,{children:'grep "list_objects.*ob_cos_wrapper.cpp" rootservice.log '}),"\u548c observer.log\uff1a\nstatus->error_code: InvalidRegionName\nstatus->error_msg: The specified region is invalid or unreachable."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"COS \u4f7f\u7528\u59ff\u52bf\u7684\u95ee\u9898\uff0c\u53ef\u80fd host \u8bbe\u7f6e\u9519\u4e86\u6216\u8005\u4e0d\u53ef\u8bbf\u95ee\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"host=obbackup-xxxxxx.cos.xxxx.com \u6539\u4e3a host=cos.xxxx.com \u8def\u5f84\u683c\u5f0f\u4e0d\u6b63\u786e\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["obcdc \u8fde\u63a5 OB4.2 \u65f6\u62a5\u65f6\u533a\u4e0d\u6b63\u786e\uff1a",(0,r.jsx)(e.code,{children:"fail to get get_tz_info_by_name(tz_name=Zulu, ret=-4018)"}),"\u3002\nobserver.log \u62a5\u9519\uff1a",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:'Unexpected internal error happen, please checkout the internal errcode(errcode=-5192, file="ob_log_timezone_info_getter.cpp", line_no=65, info="tz_info_wrap set_time_zone failed")'}),"\u3002\n",(0,r.jsx)(e.code,{children:'[errcode=-5192] tz_info_wrap set_time_zone failed(ret=-5192, ret="OB_ERR_UNKNOWN_TIME_ZONE", timezone_str=Zulu'}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["obcdc \u914d\u7f6e\u7684\u65f6\u533a\u662f Zulu",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:'config.add("timezone","Zulu")'}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["timezone \u652f\u6301 ",(0,r.jsx)(e.code,{children:"'+08:00'"})," \u7684 offset \u5f62\u5f0f\u548c Asia/Shanghai \u7684\u5730\u57df\u5f62\u5f0f\u53d6\u503c\uff0c\u4f46\u4e0d\u652f\u6301\u76f4\u63a5\u914d\u7f6e Zulu \u65b9\u5f0f\uff0c\u53ef\u4ee5\u6539\u5199\u6210 ",(0,r.jsx)(e.code,{children:'config.add("timezone","+00:00:00")'}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OB4.x \u8fc1\u79fb\u5b8c\u540e\u6570\u636e\u5b58\u50a8\u7a7a\u95f4\u51fa\u73b0\u81a8\u80c0\uff0c\u6bd4\u5b9e\u9645\u6570\u636e\u5360\u7528\u7a7a\u95f4\u8981\u5927\u5f88\u591a\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u5b58\u50a8\u51fa\u73b0\u7a7a\u6d1e\u7684\u539f\u56e0\uff1aOceanBase \u7684\u6570\u636e\u6587\u4ef6 SSTABLE \u6309\u7167\u4e3b\u952e\u987a\u5e8f\u8fdb\u884c\u5b58\u50a8\uff0c\u5982\u679c\u4e1a\u52a1\u6570\u636e\u63d2\u5165\u6bd4\u8f83\u79bb\u6563\uff0c\u671f\u95f4\u6709\u5408\u5e76\u65f6\uff0c2M \u5b8f\u5757\u51fa\u73b0\u5206\u88c2\u4f1a\u5bfc\u81f4\u6570\u636e\u7a7a\u6d1e\u7387\u63d0\u5347\uff0c\u8fdb\u800c\u5bfc\u81f4\u5b58\u50a8\u7a7a\u95f4\u5927\u4e8e\u6570\u636e\u6570\u636e\u7a7a\u95f4\uff0c \u8fd9\u79cd\u73b0\u8c61\u591a\u89c1\u4e8e\u4e1a\u52a1\u4e3b\u952e\u975e\u9012\u589e\u63d2\u5165\u7684\u573a\u666f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5bf9\u7a7a\u6d1e\u8f83\u5927\u7684\u8868\u5f3a\u5236\u6267\u884c\u5168\u91cf\u5408\u5e76\u3002\n\u5f3a\u5236\u6267\u884c\u5168\u91cf\u5408\u5e76\uff0c\u4e0d\u6267\u884c\u6e10\u8fdb\u5408\u5e76\u3002\n\u5bf9\u4e8e\u65b0\u5efa\u8868\uff1a",(0,r.jsx)(e.code,{children:"set default_progressive_merge_num=1"}),"\u3002\n\u5bf9\u4e8e\u73b0\u5b58\u8868\uff1a",(0,r.jsx)(e.code,{children:"ALTER TABLE $table SET progressive_merge_num=1;"})," \u8fd9\u6837\u628a\u9700\u8981\u7684\u8868\u8bbe\u7f6e\u4e0a\uff0c\u518d\u8fdb\u884c\u5408\u5e76\u3002\n\u6ce8\u610f\uff1a\u5168\u91cf\u5408\u5e76\u4f1a\u6d88\u8017\u5927\u91cf\u8d44\u6e90\uff0c\u9700\u8981\u8bbe\u7f6e\u5b8c\u4e4b\u540e\u518d\u8bbe\u7f6e\u56de 0\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OB4.2 \u57fa\u4e8e\u65e5\u5fd7\u5f52\u6863\u7684\u4e3b\u5907\u79df\u6237\u540c\u6b65\uff0c\u5ef6\u8fdf 2 \u5206\u949f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8bb0\u5f55\u79df\u6237\u6570\u636e\u53d8\u5316\u7684\u662f\u8fd9\u4e2a/home/admin/back/piece_d1001r1p1/logstream_1001/log/\u4e0b\u7684 .obarc \u6587\u4ef6\uff0c\u5e76\u975e\u662f\u53ea\u6709\u4e1a\u52a1\u6570\u636e\u7684\u53d8\u5316\u3002\u65e5\u5fd7\u5f52\u6863\u5907\u4efd\u9ed8\u8ba4 120s \u63d0\u4ea4\u4e00\u6b21\uff0c\u63a7\u5236\u53c2\u6570 archive_lag_target\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u8c03\u6574 archive_lag_target \u53c2\u6570\u589e\u52a0\u540c\u6b65\u9891\u7387\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u670d\u52a1\u5668\u91cd\u542f\u540e\uff0cOB4.x \u542f\u52a8\u5931\u8d25\u3002\nobserver.log \u62a5\u9519\uff1a",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:'EDIAG [CLOG] renameat_until_success_ (ob_server_log_block_mgr.cpp:1375) [16589][T1007_L0_G0][T1007][YB4A0A000407-00060B310E94B152-0-0] [lt=6][errcode=-9100] ::renameat failed(ret=-9100, this={dir::"/home/admin/oceanbase/store/clog/log_pool",'}),(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:'ERROR issue_dba_error (ob_log.cpp:1866) [2582][T1001_IOWorker][T1001][Y0-0000000000000000-0-0] [lt=12][errcode=-4388] Unexpected internal error happen, please checkout the internal errcode(errcode=-9100, file="ob_server_log_block_mgr.cpp", line_no=1375, info="::renameat failed")'})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u9519\u8bef\u7801\uff1a-9100\uff0c\u662f\u5b58\u50a8\u5c42\u627e\u4e0d\u5230\u5bf9\u5e94\u7684\u76ee\u5f55\u6216\u8005\u6587\u4ef6\uff0c\u7ed3\u5408\u670d\u52a1\u5668\u91cd\u542f\uff0c\u53ef\u80fd\u662f\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u78c1\u76d8\u6302\u8f7d\u5f02\u5e38\uff0c\u4f8b\u5982\u6570\u636e\u6216\u65e5\u5fd7\u76d8\u672a\u6302\u8f7d\u4e0a\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5b58\u50a8\u5c42\u76ee\u5f55\u8bbe\u7f6e\u6587\u4ef6\u7cfb\u7edf\u662f\u4e34\u65f6\u6587\u4ef6\u683c\u5f0f\uff0c\u4f8b\u5982\u5b58\u653e\u5230/tmp \u76ee\u5f55\u4e0b\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u6709\u4eba\u4e3a\u5220\u9664\u8fc7\u5b58\u50a8\u5c42\u6587\u4ef6\u7b49\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u68c0\u67e5\u6302\u8f7d\u4fe1\u606f\uff0c\u6216\u624b\u52a8 mkdir \u6d4b\u8bd5\u521b\u5efa\u76ee\u5f55\u662f\u5426\u6709\u6743\u9650\u76f8\u5173\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.li,{children:"OB \u63a8\u8350\u4f7f\u7528 ext4 \u6216 XFS \u6587\u4ef6\u7cfb\u7edf\u3002"}),"\n",(0,r.jsx)(e.li,{children:"OB \u6570\u636e\u5b58\u50a8\u76ee\u5f55\u6587\u4ef6\u4e0d\u80fd\u5220\u9664\uff0c\u5220\u9664\u65e0\u6cd5\u6062\u590d\uff0c\u53ea\u80fd\u91cd\u88c5\u8be5\u8282\u70b9 ob \u670d\u52a1\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OB4.2 \u67e5\u8be2\u5f52\u6863\u5386\u53f2 CDB_OB_ARCHIVELOG_SUMMARY \u89c6\u56fe\uff0c\u90e8\u5206\u79df\u6237\u53ea\u6709\u4e00\u6761\u8bb0\u5f55\uff0c\u4e14 ROUND_ID=1\uff0c\u6709\u4e9b\u79df\u6237\u591a\u4e2a ROUND_ID\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u79df\u6237\u6709\u591a\u4e2a round_id \u662f\u51fa\u73b0\u8fc7\u65e5\u5fd7\u65ad\u6d41\u6216\u8005\u65e5\u5fd7\u5f52\u6863\u542f\u505c\uff0c\u6bcf\u6b21\u65e5\u5fd7\u5f52\u6863\u91cd\u65b0\u542f\u52a8\u4f1a\u751f\u6210\u6027\u7684 round_id\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5e76\u4e0d\u5f71\u54cd\u4f7f\u7528\uff0c\u53ea\u8981\u65e5\u5fd7\u5f52\u6863\u72b6\u6001\u662f doing\uff0c\u5373\u6b63\u5e38\u72b6\u6001\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP4.0.3 \u4e0a\u4f20\u8f6f\u4ef6\u5305\u5931\u8d25\uff0c\u642d\u5efa\u6709 nginx \u8f6c\u53d1 OCP \u5730\u5740\uff0cnginx \u6709\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"client intended to send too large body: 89964166 bytes"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd\u662f nginx \u7684 client_max_body_size \u53c2\u6570\u9650\u5236\u5bfc\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u8c03\u6574 nginx \u53c2\u6570 client_max_body_size 1024M; \u548c proxy_read_timeout 300s;"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.2 \u5907\u79df\u6237\u6062\u590d\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"Error 4018: No enough log for restore"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6062\u590d\u7684\u5f52\u6863\u65f6\u95f4\u53c2\u6570\u8d85\u51fa\u5907\u4efd\u65f6\u95f4\u8303\u56f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"select * from CDB_OB_BACKUP_SET_FILES where tenant_id=xxx;"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"select * from CDB_OB_ARCHIVELOG where tenant_id=xxx;"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"select * from CDB_OB_RESTORE_HISTORY where tenant_id=xxx;"})}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u9700\u8981\u6ee1\u8db3\uff1a\nrestore_scn ",(0,r.jsx)(e.code,{children:">="})," \u5907\u4efd\u96c6\u7684 min_restore_scn\nrestore_scn ",(0,r.jsx)(e.code,{children:"<="})," \u65e5\u5fd7\u5f52\u6863\u7684 checkpoint_scn"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OB4.2 \u4f7f\u7528\u5e26\u53c2\u6570\u7684\u5b58\u50a8\u8fc7\u7a0b\uff0c\u9996\u6b21\u8c03\u7528\u6162\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd\u662f\u6267\u884c\u8ba1\u5212\u7f13\u5b58\u88ab\u6dd8\u6c70\u4e86\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u8c03\u5927\u79df\u6237\u7684 ob_plan_cache_percentage \u53c2\u6570\uff0c\u589e\u52a0\u6267\u884c\u8ba1\u5212\u7f13\u5b58\u7a7a\u95f4\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.1 \u5408\u5e76\u5361\u4f4f\uff0cobserver.log \u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"ERROR try_recycle_blocks (palf_env_impl.cpp:692) [1042160][T1001_PalfGC][T1001][Y0-0000000000000000-0-0] [lt=16][errcode=-4264] Log out of disk space(msg=\u201clog disk space is almost full\u201d, ret=-4264"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u770b\u62a5\u9519\u662f\u65e5\u5fd7\u78c1\u76d8\u6ee1\uff0c\u5bfc\u81f4\u56de\u653e\u5361\u4f4f\u540e\u65e0\u6cd5\u5408\u5e76\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u589e\u5927 log_disk_size \u6216\u8005\u91cd\u542f\u8be5\u8282\u70b9 ob \u670d\u52a1\u3002\u4f46\u8be5\u6848\u4f8b\u5f15\u53d1 clog \u78c1\u76d8\u6ee1\u7684\u662f\u6839\u56e0\u662f\u78c1\u76d8\u8bbe\u7f6e raid \u7f13\u5b58\u6a21\u5f0f\u662f write back\uff0c\u6b64\u4e3a intel \u7684 cache bug\uff0c\u9700\u8981\u8bbe\u7f6e\u4e3a write through \u89c4\u907f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u90e8\u7f72 OB4.2.0 \u5931\u8d25\uff0cobserver.log \u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:'[errcode=-4388] Unexpected internal error happen, please checkout the internal errcode(errcode=-4009, file="main.cpp", line_no=588, info="observer start fail")'}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["\u62a5\u9519\u7801\uff1a-4009\uff0c\u65e5\u5fd7\u4e2d\u8fd8\u6709\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:'convert sys errno(ret=-4009, errno=27, errmsg="File too large")'}),"\uff0c\u548c\u78c1\u76d8\u7533\u8bf7\u7a7a\u95f4\u76f8\u5173\uff0c\u7528\u6237\u4f7f\u7528 OBD \u767d\u5c4f\u90e8\u7f72\u65f6\u4f7f\u7528\u6700\u5927\u4f7f\u7528\u6a21\u5f0f\u90e8\u7f72\uff0c\u7531\u4e8e\u78c1\u76d8\u89c4\u683c\u8fc7\u5927\uff0c\u4e00\u6b21\u6027\u7533\u8bf7\u5230\u7684\u78c1\u76d8\u8d44\u6e90\u8d85\u51fa\u5185\u5b58\u6570\u500d\u89c4\u683c\u53d1\u751f\u62a5\u9519\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u90e8\u7f72\u65f6\u6307\u5b9a datafile_size \u53c2\u6570\u5927\u5c0f\uff0c\u907f\u514d\u4e00\u6b21\u6027\u7533\u8bf7\u592a\u5927\uff0c\u90e8\u7f72\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u518d\u8c03\u5927\u8be5\u53c2\u6570\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:[".NET framework \u6846\u67b6\u8fde\u63a5 OB4.2 \u7248\u672c\u5931\u8d25\uff0c\u4f7f\u7528 mysql-for-visualstudio-2.0.5 \u9a71\u52a8\uff0c\u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"using method 'mysql_native_password' failed with message\uff1aReading from the stream has failed"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5df2\u77e5\u7684\u9a71\u52a8\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u5c1d\u8bd5\u4e0b\u4f7f\u7528 MySql.Data.MySqlClient .Net Core Class Library 8.0.22 \u7248\u672c\u6765\u89c4\u907f\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u6216\u8005\u4f7f\u7528\u7b2c\u4e09\u65b9 MySqlConnector \u9a71\u52a8\u6765\u8fde\u63a5\u5373\u53ef\u3002\u5b98\u7f51:",(0,r.jsx)(e.code,{children:"https://mysqlconnector.net"}),"\uff0c\u4ee3\u7801\u4e2d\u76f4\u63a5\u5728 nuget \u91cc\u52a0\u8f7d\u7ec4\u4ef6\uff0c\u628a\u539f\u6765\u7684 Mysql.Data \u5378\u8f7d\u6389\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.2.0 \u521b\u5efa\u7528\u6237\u7684\u8bed\u6cd5\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"near 'mysql_native_password'"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OB \u6682\u4e0d\u652f\u6301 mysql_native_password \u8bed\u6cd5\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5efa\u8bae\u624b\u52a8\u4fee\u6539\u521b\u5efa\u8bed\u53e5\u8fdb\u884c\u7528\u6237\u521b\u5efa\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB3.1.5 \u6269\u5bb9\u65b0\u8282\u70b9\u5931\u8d25\uff0cobserver.log \u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"ERROR [LIB] start (thread.cpp:107) [357097][0][Y0-0000000000000000] [lt=14] [dc=0] pthread create failed(pret=11, errno=11)"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u521b\u5efa\u7ebf\u7a0b\u5931\u8d25\uff0c\u53ef\u80fd\u548c\u7528\u6237\u8fdb\u7a0b\u6570\u9650\u5236\u76f8\u5173\u3002\u4f7f\u7528 observer \u7684\u8fdb\u7a0b\u7528\u6237 ulimit -a \u786e\u8ba4 max user processes \u5927\u5c0f\uff0c\u63a8\u8350\u914d\u7f6e\uff1a655360\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5728/etc/security/limits.conf \u914d\u7f6e\u914d\u7f6e\u7528\u6237\u6700\u5927\u8fdb\u7a0b\u6570\u9650\u5236\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OB3.1.3 \u8fdb\u884c replace into \u5927\u6570\u636e\u91cf\u8017\u65f6\u5f88\u957f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"replace \u6682\u65f6\u4e0d\u652f\u6301\u5e76\u53d1\uff0c\u8be5\u7248\u672c\u6267\u884c\u6162\u57fa\u672c\u7b26\u5408\u9884\u671f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u4e1a\u52a1\u4e0a\u6539\u9020\u6210 insert \u65b9\u5f0f\uff0c\u6216\u8005\u540c\u65f6\u5347\u7ea7 OB3.1.4\uff0c\u4f7f\u7528\u5e76\u884c\u5bfc\u5165\u529f\u80fd\u63d0\u5347\u6027\u80fd\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 datagrip \u8fde\u63a5 oceanbase \u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"The server time_zone 'GMT+8:00' defined in the 'serverTimezone' parameter cannot be parsed by java TimeZone implementation. See java.util.TimeZone#getAvailableIDs() for available TimeZone, depending on your JRE implementation"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5de5\u5177\u7684\u65f6\u533a\u548c OB \u4e0d\u4e00\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u4ee5\u53c2\u8003\uff1a",(0,r.jsx)(e.code,{children:"https://blog.csdn.net/ethan__xu/article/details/111149561 "}),"\u8bbe\u7f6e datagrip \u65f6\u533a\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.1.0 \u4f7f\u7528",(0,r.jsx)(e.code,{children:"'01'"}),"\u6570\u636e update \u66f4\u65b0\u8868\u4e2d\u7684 decimal(2,2)\u5b57\u6bb5\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR 1264 (22003): Out of range value for column"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u7b26\u5408 decimal(2,2)\u6709\u6548\u6570\u503c\u8303\u56f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"decimal(2, 2) \u4e2d\u7b2c\u4e00\u4e2a 2 \u7684\u542b\u4e49\u662f\u8bf4\u8fd9\u4e2a decimal \u6574\u6570\u4f4d+\u5c0f\u6570\u4f4d\u4e00\u5171\u6700\u591a\u6709\u4e24\u4f4d\u6709\u6548\u6570\u5b57\uff0c\u7b2c\u4e8c\u4e2a 2 \u7684\u542b\u4e49\u662f\u8bf4\u8fd9\u4e2a decimal \u5c0f\u6570\u70b9\u513f\u540e\u6700\u591a\u6709\u4e24\u4f4d\u6709\u6548\u6570\u5b57\uff0c\u8fd9\u6837\u6574\u6570\u4f4d\u6700\u591a\u5c31\u53ea\u6709 2 - 2 = 0 \u4f4d\u6709\u6548\u6570\u5b57\u3002\u6240\u4ee5\u8fd9\u4e2a decimal(2, 2) \u53ea\u80fd\u5b58\u7edd\u5bf9\u503c\u5c0f\u4e8e 1 \u7684\u5c0f\u6570\uff0c\u4e0d\u80fd\u6709\u6574\u6570\u4f4d\u7684\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["Docker \u90e8\u7f72 OB\uff0c\u5220\u9664\u5bb9\u5668\u540e\u65e0\u6cd5\u542f\u52a8\uff0c\u65e5\u5fd7\u63d0\u793a\uff1a ",(0,r.jsx)(e.code,{children:"cat: /root/obagent/run/ob_mgragent.pid: No such file or directory"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5bb9\u5668\u4f7f\u7528 obd \u90e8\u7f72\u7684 OB\uff0c\u5b58\u5728\u5176\u4ed6\u7ec4\u4ef6\u672a\u6302\u8f7d\u76ee\u5f55\uff0c\u5bfc\u81f4\u65e0\u6cd5\u627e\u5230\u7ec4\u4ef6\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u9664\u4e86\u6302\u8f7d/root/ob \u548c/root/.obd \u5916\uff0c\u8fd8\u8981\u628a/root/obagent \u6302\u8f7d\uff0c\u7136\u540e",(0,r.jsx)(e.code,{children:"rm -rf /root/obagent/run/*"})," \uff0c\u80fd\u6210\u529f\u91cd\u542f\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.1 \u8fdb\u884c TPCC \u538b\u6d4b\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:'"parameter index out of bounds. 38929 is not between valid values of 1 adn 38928"'}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"JDBC \u9700\u8981\u8bbe\u7f6e\u6279\u5904\u7406\u53c2\u6570\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"JDBC \u8bbe\u7f6e allowMultiQueries=true \u53c2\u6570\uff0c\u53ef\u4ee5\u6267\u884c\u6279\u5904\u7406\uff0c\u540c\u65f6\u53d1\u51fa\u591a\u4e2a SQL \u8bed\u53e5\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"obcdc \u8bfb\u53d6 TINYINT \u7c7b\u578b\u7684\u6570\u636e\u62a5\u9519\uff0cSTRING \u7c7b\u578b\u4e0d\u62a5\u9519\uff0c\u4f46\u662f\u4f1a\u8bfb\u53d6\u5230\u6570\u636e\u4e3a true/false\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OB \u4e2d\u5173\u952e\u5b57 BOOL/BOOLEAN \u662f TINYINT \u7684\u540c\u4e49\u8bcd\u3002OB \u4e2d TINYINT(1) \u5bf9\u5e94 flink cdc \u4e2d BOOLEAN \u7c7b\u578b\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u4fee\u6539\u8981\u540c\u6b65\u8868\u7684 TINYINT \u5b57\u6bb5\u957f\u5ea6\uff0c\u5c06 TINYINT(1)\u4fee\u6539\u4e3a TINYINT(2)\uff0c\u8fd9\u6837\u53ef\u4ee5\u4e34\u65f6\u89c4\u907f\u89e3\u51b3\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 mysql \u5ba2\u6237\u7aef\u8fde\u63a5 OB4.2\uff0cload data \u52a0\u8f7d\u6570\u636e\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR 1227 (42501): access denied"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OB4.x load data \u589e\u52a0\u4e86\u5b89\u5168\u7b56\u7565\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 obclient \u5ba2\u6237\u7aef\u901a\u8fc7 socket \u6587\u4ef6\u8fde\u63a5 OBSERVER \u7684\u7528\u6237\u79df\u6237\u3002\u540c\u65f6\u6ce8\u610f\u4fee\u6539\u76ee\u5f55\u6743\u9650\uff1a",(0,r.jsx)(e.code,{children:"set global secure_file_priv = '/path_name';"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["miniob \u7f16\u8bd1\u7684\u65f6\u5019\u62a5\u9519 cmark \u547d\u4ee4\u9519\u8bef\uff0c\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"build.sh: line 83: cmake: command not found"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"cmark \u547d\u4ee4\u5b89\u88c5\u7684\u7528\u6237\u548c\u7f16\u8bd1\u7528\u6237\u4e0d\u4e00\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5c1d\u8bd5\u6dfb\u52a0\u4e00\u4e0b cmake \u5230\u7cfb\u7edf\u7684 PATH \u73af\u5883\u53d8\u91cf\u4e2d\n",(0,r.jsx)(e.code,{children:"sudo admin ~/.bashrc"}),"\n\u6587\u4ef6\u672b\u5c3e\u589e\u52a0\uff1a\n",(0,r.jsx)(e.code,{children:'export PATH="/path/to/cmake/bin:$PATH"'}),"\n\u6267\u884c\uff1a\n",(0,r.jsx)(e.code,{children:"source ~/.bashrc"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OB4.x \u4f7f\u7528 mybatisplus \u7684 updateBatchById \u65b9\u6cd5\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"Cause: java.sql.SQLException: Not supported feature or function"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"jdbc \u8fde\u63a5\u6c60\u914d\u7f6e\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["JDBC \u8fde\u63a5\u6c60\u914d\u7f6e\uff1a\nrewriteBatchedStatements",":true",(0,r.jsx)(e.br,{}),"\n","allowMultiQueries",":true"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"ocp-\u90e8\u7f72\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"OCP \u90e8\u7f72\u95ee\u9898"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u90e8\u7f72 OCP V3.3.0 \u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"1146(42S02)\uff1aTable\u2018meta_database.compute_vpc\u2019 doesn\u2019t exist"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u662f OCP V3.3.0 \u7684\u5df2\u77e5 bug \u95ee\u9898\uff0c\u5df2\u53d1\u5e03 bp \u7248\u672c\u4e2d\u5df2\u7ecf\u4fee\u590d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u5148\u5728 ocp meta \u79df\u6237\u7684\u5e93\u4e2d\u786e\u8ba4\u662f\u5426\u5df2\u7ecf\u5b58\u5728 compute_vpc \u8868\uff0c\u5982\u679c\u5b58\u5728\uff0c\u628a\u5176\u4ed6\u7684\u8868\u5220\u9664\uff0c\u4ec5\u4fdd\u7559 compute_vpc\uff0c\u4e4b\u540e\u91cd\u65b0\u521d\u59cb\u5316 OCP\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u90e8\u7f72 OCP V3.3.0 \u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"resource not enough:memory(Avail:1.6G,Need:8.0G)"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"memory_limit \u9ed8\u8ba4\u4f7f\u7528\u7269\u7406\u603b\u5185\u5b58 80%\uff0c\u4f46\u5982\u679c\u53ef\u7528\u5185\u5b58\u4e0d\u8db3\uff0c\u4f1a\u51fa\u73b0\u521b\u5efa\u79df\u6237\u65f6\u7533\u8bf7\u4e0d\u5230\u8d44\u6e90\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u5728 custom_config \u6a21\u5757\u4e2d\u5c06 memory_limit \u8bbe\u7f6e\u4e3a\u670d\u52a1\u5668\u53ef\u7528\u5185\u5b58\u8303\u56f4\u4ee5\u5185\uff08\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"free -g"})," \u547d\u4ee4\u67e5\u8be2\u5185\u5b58\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u90e8\u7f72 OCP V4.0.0 \u65f6\u62a5\u9519\u9884\u68c0\u6d4b\u5931\u8d25\uff1a",(0,r.jsx)(e.code,{children:"ocp precheck failed"}),"\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(64858).A+"",width:"1072",height:"332"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u9884\u68c0\u6d4b\u4f1a\u68c0\u67e5\u670d\u52a1\u5668\u786c\u4ef6\u8d44\u6e90\u662f\u5426\u7b26\u5408\u751f\u4ea7\u73af\u5883\u6807\u51c6\uff0c\u5982\u679c\u4e0d\u901a\u8fc7\u4f1a\u62a5\u6b64\u9519\u8bef\uff0c\u6d4b\u8bd5\u73af\u5883\u5efa\u8bae\u5173\u95ed\u9884\u68c0\u6d4b\u529f\u80fd\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5173\u95ed\u9884\u68c0\u53c2\u6570\uff0c\u5373\u5c06 precheck_ignore \u8bbe\u7f6e\u4e3a true\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u90e8\u7f72 OCP V3.3.0 \u662f\u62a5\u9519\u65e0\u6cd5\u8fde\u63a5\u5230 metadb\uff1a",(0,r.jsx)(e.code,{children:"2003\uff1aCan't connect to MySQL on 'xx.xx.xx.xx' (111  Connection refused)"}),"\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(56651).A+"",width:"1016",height:"484"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"create_metadb_cluster \u53c2\u6570\u9ed8\u8ba4\u4e3a false\uff0c\u4f1a\u4f7f\u7528\u914d\u7f6e\u4e2d ob_cluster \u6a21\u5757\u4fe1\u606f\u5f53 metadb\uff0c\u53ef\u80fd\u662f\u5b9e\u9645\u64cd\u4f5c\u4e2d metadb \u4e0d\u5b58\u5728\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u914d\u7f6e\u6587\u4ef6 create_metadb_cluster \u8bbe\u7f6e\u4e3a true\uff0c\u9ed8\u8ba4\u5b89\u88c5\u4e2a metadb \u6570\u636e\u5e93\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP V3.3.0 \u90e8\u7f72\u8fc7\u7a0b\u4e2d\uff0ccreate meta user \u9636\u6bb5\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"NameError: name \u2018traceback\u2019 is not defined"}),"\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(91441).A+"",width:"1270",height:"863"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd\u662f\u627e\u4e0d\u5230\u5bf9\u5e94\u7684\u6587\u4ef6\u5bfc\u81f4\uff0c\u5220\u9664\u91cd\u65b0\u90e8\u7f72\u4f1a\u4ea7\u751f\u65b0\u7684\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u68c0\u67e5 ",(0,r.jsx)(e.code,{children:"/tmp"})," \u76ee\u5f55\u4e0b\u662f\u5426\u6709 ",(0,r.jsx)(e.code,{children:"precheck-*.sh"})," \u6587\u4ef6\uff08-*\u662f\u5f53\u65f6\u751f\u6210\u7684 uuid\uff09\uff0c\u5982\u679c\u6709\uff0c\u5220\u9664\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"ocp-\u4f7f\u7528\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"OCP \u4f7f\u7528\u95ee\u9898"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OCP V4.0.0 \u90e8\u7f72 OBProxy \u65f6\uff0ccheck if process not exit \u9636\u6bb5\u5931\u8d25\uff0c\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"status=500 INTERNAL_SERVER_ERROR, errorCode=COMMON_UNEXPECTED, args=process obproxy should not exists on host"}),"\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(49230).A+"",width:"1500",height:"767"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8be5\u8282\u70b9\u5df2\u5b58\u5728 OBProxy \u670d\u52a1\u548c\u8fdb\u7a0b\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u66f4\u6362\u9ed8\u8ba4\u7684 2883 \u7aef\u53e3\uff0c\u6216\u8005\u5378\u8f7d\u8be5\u8282\u70b9\u5df2\u7ecf\u90e8\u7f72\u7684 OBProxy \u670d\u52a1\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OCP \u63a5\u7ba1\u65f6\u62a5\u9519 observer \u8fdb\u7a0b\u5c5e\u4e8e root\uff0c\u9700\u8981\u4f7f\u7528 admin \u8d26\u53f7\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP \u63a5\u7ba1\u9650\u5236\u4e2d\uff0c\u8981\u6c42 observer \u8fdb\u7a0b\u542f\u52a8\u7528\u6237\u5fc5\u987b\u662f admin\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u63a5\u7ba1\u7684\u8be6\u7ec6\u64cd\u4f5c\u53ef\u53c2\u89c1 SOP \u6587\u6863 ",(0,r.jsx)(e.a,{href:"https://ask.oceanbase.com/t/topic/30100012",children:"\u3010SOP \u7cfb\u5217 07\u3011\u5982\u4f55\u4f7f\u7528 OCP \u63a5\u7ba1 OBD \u90e8\u7f72\u7684 OceanBase \u96c6\u7fa4"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP V4.0.0 \u90e8\u7f72\u96c6\u7fa4\u65f6\u5361\u5728 Bootstrap ob \u9636\u6bb5\uff0c\u65e5\u5fd7\u63d0\u793a ",(0,r.jsx)(e.code,{children:"try adjust config \u2018memory_limit\u2019 or \u2018system_memory\u2019"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"system_memory \u9ed8\u8ba4\u662f 30G\uff0cmemory_limit_percentage \u9ed8\u8ba4\u662f\u5360\u7528 80% \u7684\u7269\u7406\u5185\u5b58\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u8fd9\u4e24\u4e2a\u53c2\u6570\u914d\u7f6e\u4fe1\u606f\uff0c\u5c0f\u89c4\u683c\u670d\u52a1\u5668\u914d\u7f6e\u53ef\u80fd\u51fa\u73b0\u7533\u8bf7\u4e0d\u5230\u5185\u5b58\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u8c03\u5c0f memory_limit \u548c system_memory \u53c2\u6570\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP \u90e8\u7f72 OceanBase V3.1.4 \u96c6\u7fa4\u65f6 bootstrap ob \u5931\u8d25\uff0c\u67e5\u770b\u65e5\u5fd7\u663e\u793a ",(0,r.jsx)(e.code,{children:"ERROR [CLOG] update_free_quota (ob_log_file_pool.cpp:465) [77084][0][Y0-0000000000000000] [lt=3] [dc=0] clog disk is almost full(type_=0, total_size=1888745000960, free_quota=-198549053440, warn_percent(%)=80, limit_percent=95, used_percent(%)=90)"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93\u4e2d\u6570\u636e\u6587\u4ef6\u91c7\u7528\u9884\u5360\u7528\u65b9\u5f0f\uff0c\u540c\u76d8\u4f1a\u51fa\u73b0\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\u95ee\u9898\uff0c\u751f\u4ea7\u73af\u5883\u5fc5\u987b\u5206\u76d8\uff0c\u6d4b\u8bd5\u73af\u5883\u53ef\u964d\u4f4e\u5360\u7528\u6bd4\u4f8b\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OCP \u90e8\u7f72\u96c6\u7fa4\u65f6\u5b89\u88c5\u8def\u5f84\u53c2\u6570 home_path \u3001data\u3001redo \u91c7\u7528\u5206\u76d8\u90e8\u7f72\uff0c\u4e0d\u8981\u6df7\u90e8\u5230\u4e00\u5757\u76d8\u4e0a\uff0c\u5982\u679c\u662f\u7b80\u5355\u6d4b\u8bd5\uff0c\u53ef\u4ee5\u628a datafile_size \u6216\u8005 datafile_disk_percentage \u8c03\u5c0f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OCP V3.3.0 \u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u65f6\uff0cPre check for install ob \u9636\u6bb5\u5f02\u5e38\uff0c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ob install pre check failed\uff0cmaybe from another observer"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP \u4e0d\u652f\u6301\u5728\u5df2\u6709 observer \u8fdb\u7a0b\u7684\u96c6\u7fa4\u73af\u5883\u518d\u90e8\u7f72\u4e00\u5957 OceanBase \u96c6\u7fa4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5378\u8f7d OBServer \u8282\u70b9\u4e0a\u7684 observer \u8fdb\u7a0b\uff0c\u6216\u8005\u4f7f\u7528\u672a\u90e8\u7f72\u8fc7 OceanBase \u6570\u636e\u5e93\u7684\u8d44\u6e90\u73af\u5883\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OCP V3.3.0 \u63a5\u7ba1 V3.1.4 OceanBase \u96c6\u7fa4\u65f6\uff0c\u4f7f\u7528 proxy \u8fde\u63a5 OCP \u62a5\u9519 OBProxy proxyro \u7528\u6237\u5bc6\u7801\u4e0e OCP \u8bbe\u7f6e\u4e0d\u76f8\u540c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP \u521d\u59cb\u7684 proxyro \u5bc6\u7801\u662f\u7a7a\uff0c\u5982\u679c OceanBase \u96c6\u7fa4\u4e2d\u8bbe\u7f6e\u4e86 proxyro \u5bc6\u7801\uff0c\u9700\u8981 OCP \u4e5f\u4fdd\u6301\u4e00\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4fee\u6539 OCP \u4e2d proxyro \u5bc6\u7801\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:'curl --user admin:aaAA11__ -X POST "<http://xx.xx.xx.xx:8080/api/v2/obproxy/password>" -H "Content-Type:application/json" -d \'{"username":"proxyro","password":"*****"}\'\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--user"})," \u540e\u9700\u586b\u5199 OCP \u767d\u5c4f\u767b\u5f55\u7528\u6237:\u5bc6\u7801\uff0c"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"xx.xx.xx.xx:8080"})," \u4e3a OCP \u5730\u5740:\u7aef\u53e3"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"*****"})," \u4e3a OBD \u90e8\u7f72\u914d\u7f6e\u6587\u4ef6\u4e2d observer_sys_password \u53c2\u6570\u7684\u5bc6\u7801\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OCP V4.0.3 \u63a5\u7ba1 OBD \u90e8\u7f72\u7684 4.x \u7248\u672c OceanBase \u6570\u636e\u5e93\u65f6\uff0c\u62a5\u9519 OBProxy proxyro \u7528\u6237\u5bc6\u7801\u4e0e OCP \u8bbe\u7f6e\u4e0d\u76f8\u540c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP V4.0.3 \u5e9f\u5f03\u4e86 /api/v2/obproxy/password \u63a5\u53e3\uff0c\u65e0\u6cd5\u901a\u8fc7\u63a5\u53e3\u65b9\u5f0f\u4fdd\u6301\u4e24\u7aef\u5bc6\u7801\u4e00\u81f4\u3002\u540e\u7eed\u7248\u672c\u4f1a\u4f18\u5316\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u5f0f"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u65b9\u6848 1\uff1a\n\u53ef\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster edit-config \u90e8\u7f72\u540d\u79f0"})," \u547d\u4ee4\u4fee\u6539 proxyro_password \u548c observer_sys_password \u4e00\u81f4\u4e3a ",(0,r.jsx)(e.code,{children:"*********"}),"\uff0c\u4fdd\u5b58\u4fee\u6539\u540e\u518d\u6267\u884c ",(0,r.jsx)(e.code,{children:"obd cluster reload \u90e8\u7f72\u540d\u79f0"})," \u547d\u4ee4\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u65b9\u6848 2\uff1a"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["proxy \u91cc\u9762\u6539\uff082883 \u7aef\u53e3\uff0croot@proxysys\uff09\n",(0,r.jsx)(e.code,{children:"alter proxyconfig set observer_sys_password = '*********';"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u76f4\u8fde observer\uff0csys \u79df\u6237\u6539 proxyro \u7528\u6237\u7684\u5bc6\u7801\u8ddf\u4e0a\u9762\u4e00\u81f4\n",(0,r.jsx)(e.code,{children:"set password for proxyro=password('********* ');"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 V3.1.4 \u5728\u4e1a\u52a1\u79df\u6237\u6709\u6279\u91cf\u6216\u8005\u624b\u5de5\u5bfc\u6570\u671f\u95f4\uff0c\u5076\u7136\u6027\u4f1a\u6709\u544a\u8b66 ",(0,r.jsx)(e.code,{children:"plan cache memory used reach limit"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u79df\u6237\u5185\u5b58\u8bbe\u7f6e\u592a\u5c0f\uff0c\u6216\u8005\u6279\u91cf\u5bfc\u6570\u6761\u6570\u4e0d\u4e00\u81f4\u53ef\u80fd\u51fa\u73b0\u6b64\u7c7b\u62a5\u9519\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6269\u5bb9\u79df\u6237\u5185\u5b58\u6216\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u8c03\u6574 ob_plan_cache_percentage \u9608\u503c\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"show variables like'%ob_plan_cache_percentage%'; set global  ob_plan_cache_percentage =10;\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OCP \u63a5\u7ba1 OceanBase V4.0.0 \u96c6\u7fa4\u65f6\u62a5\u9519\u6240\u5728 IDC \u4e0e\u76ee\u6807 OBServer \u7684 IDC \u4e0d\u5339\u914d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u56e0\u4e3a\u63a5\u7ba1\u524d\u5df2\u7ecf\u4eba\u4e3a\u5c06\u8282\u70b9\u6dfb\u52a0\u5230\u4e3b\u673a\u5217\u8868\u4e2d\uff0c\u5217\u8868\u4e2d\u7684 IDC \u673a\u623f\u548c Region \u5730\u533a\u4fe1\u606f\u548c\u63a5\u7ba1\u7684\u96c6\u7fa4\u9ed8\u8ba4\u4fe1\u606f\u4e0d\u4e00\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e3b\u673a\u5217\u8868\u5220\u6389\u5bf9\u5e94\u7684\u8282\u70b9\u4fe1\u606f\uff0c\u91cd\u65b0\u63a5\u7ba1\u3002\u4e5f\u53ef\u4ee5\u767b\u5f55 OceanBase \u6570\u636e\u5e93\u901a\u8fc7 SQL \u4fee\u6539 IDC \u548c Region \u4fe1\u606f\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"alter system alter zone 'zone1' set idc = 'xx;alter system alter zone 'zone1' set region = 'xx';\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OCP \u4e0a\u521b\u5efa\u7684 unit \u89c4\u683c\u914d\u7f6e\u4e0d\u663e\u793a\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5c0f\u4e8e 5G \u7684 Unit \u89c4\u683c\u5728\u524d\u7aef\u5c55\u793a\u7684\u65f6\u5019\u4f1a\u88ab\u8fc7\u6ee4\u6389\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8fde\u63a5 OCP \u7684 meta \u79df\u6237\uff0c\u67e5\u770b\u8be5\u9650\u5236\u7684\u63a7\u5236\u53c2\u6570\uff1a",(0,r.jsx)(e.code,{children:"select * from config_properties where key like \u2018%small%\u2019 \\G"}),"\u3002\u5728\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u6bd4\u5982 demo \u6f14\u793a\u7b49\u975e\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u53ef\u4ee5\u5c06\u5176\u6539\u4e3a true\uff0c\u5c31\u4f1a\u53d6\u6d88\u8fd9\u4e2a\u9650\u5236\uff0c\u547d\u4ee4\u5982\u4e0b\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"UPDATE config_properties SET value='true' WHERE `key` = 'ocp.operation.ob.tenant.allow-small-unit';\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP V4.0.3 \u4e2d\u6dfb\u52a0\u4e3b\u673a\uff0c\u65e0\u6cd5\u5b89\u88c5 ocp agent \u670d\u52a1\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(58258).A+"",width:"1500",height:"411"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"args:/tmp/8c76f061414e4d6/pos.py uninstall_package ^t-oceanbase-ocp-agent, return code:2, output:failed to call pos: func=uninstall_package, args=['^t-oceanbase-ocp-agent'], code=2, output=/tmp/a463f6de-fde4-11ed-8e6e-fefcfeb8fb: line 1: unexpected EOF while looking for matching "}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u793a\u4f8b\u4e2d\u4f7f\u7528\u7684\u662f Centos7 \u7cfb\u7edf\uff0c\u5b89\u88c5 ocp-agent \u524d\u4f1a\u505a\u64cd\u4f5c\u7cfb\u7edf\u68c0\u67e5\uff0c\u53ef\u80fd\u56e0\u4e3a dpkg \u547d\u4ee4\u4f1a\u9519\u8bef\u7684\u5224\u65ad\u73b0\u573a\u64cd\u4f5c\u7cfb\u7edf\u7c7b\u578b\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5378\u8f7d dpkg \u547d\u4ee4\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"rpm -qa|grep dpkg , rpm -e --nodeps $dpkg\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OCP V4.0 \u6dfb\u52a0\u4e3b\u673a\u62a5\u9519\uff0c\u767d\u5c4f\u9875\u9762\u663e\u793a\u6ca1\u6709\u627e\u5230\u6307\u5b9a OCP Agent \u7c7b\u578b\u7684\u8bb0\u5f55\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(18449).A+"",width:"1238",height:"220"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u62a5\u9519\uff1aNo route to host (Host unreachable)\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(48378).A+"",width:"1930",height:"200"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5f85\u6dfb\u52a0\u7684\u4e3b\u673a\u9632\u706b\u5899\u5f00\u542f\uff0c\u5b89\u88c5\u7a0b\u5e8f\u8def\u7531\u4e0d\u5230\u8be5\u8282\u70b9\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5173\u95ed\u5f85\u6dfb\u52a0\u4e3b\u673a\u7684\u9632\u706b\u5899\u5373\u53ef\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OCP \u90e8\u7f72 OceanBase \u6570\u636e\u5e93 V3.1.2\uff0c\u4f7f\u7528 root \u7528\u6237\u540e\u53f0\u542f\u52a8 observer \u540e\uff0c\u518d\u91cd\u65b0\u4f7f\u7528 admin \u7528\u6237\u542f\u52a8\u5931\u8d25\u3002\u3002\u67e5\u770b\u65e5\u5fd7\u62a5\u9519\u5982\u4e0b\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:'ERROR [COMMON] inner_open_fd (ob_log_disk_manager.cpp:1043) [5889][0][Y0-0000000000000000] [lt=5] [dc=0] open file fail(ret=-4009, fname="/home/admin/oceanbase/store/lzq/slog/4", flag=1069122, errno=13, errmsg="Permission denied")\nERROR [SERVER] init (ob_server.cpp:172) [4195][0][Y0-0000000000000000] [lt=2] init config fail(ret=-4009)\n'})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"image.png",src:s(7120).A+"",width:"1500",height:"329"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP \u90e8\u7f72\u6216\u63a5\u7ba1\u7684 OceanBase \u96c6\u7fa4\u5747\u662f admin \u7528\u6237\u6743\u9650\uff0c\u4f7f\u7528 root \u542f\u7528\u540e\u4f1a\u5bfc\u81f4 observer.conf.bin \u6587\u4ef6\u548c redo \u65e5\u5fd7\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u6743\u9650\u53d8\u66f4\uff0c\u65e0\u6cd5\u518d\u4f7f\u7528 admin \u542f\u52a8\u6210\u529f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4fee\u6539\u6240\u6709 OBServer \u8282\u70b9\u76ee\u5f55\u7684\u6743\u9650\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"chown -R admin.admin /home/admin/oceanbase/\nchown -R admin.admin /data/1\nchown -R admin.admin /data/log1\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OCP V3.3.0 \u90e8\u7f72 OceanBase \u6570\u636e\u5e93\u65f6\u5b89\u88c5\u8def\u5f84\u68c0\u6d4b\u5931\u8d25\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b89\u88c5\u76ee\u5f55\u548c\u6570\u636e\u76ee\u5f55\u6ca1\u6709 admin \u7528\u6237\u6743\u9650\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u4e3a\u5b89\u88c5\u76ee\u5f55\u548c\u6570\u636e\u76ee\u5f55\u8d4b\u4e88 admin \u7528\u6237\u6743\u9650\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"chown -R admin:admin /data &&  chown -R admin:admin /redo && chown -R admin:admin /home/admin\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OCP V3.3.0 \u63a5\u7ba1\u4f7f\u7528 OBD \u90e8\u7f72\u7684 OceanBase V4.0.0 \u96c6\u7fa4\u65f6\u5931\u8d25\uff0c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"(conn=10) Table 'oceanbase.v$ob_cluster' doesn't exist"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OceanBase \u6570\u636e\u5e93 4.0.0.0 \u7248\u672c\u76f8\u8f83 3.x \u7248\u672c\u67b6\u6784\u53d8\u52a8\u8f83\u5927\uff0c\u90e8\u5206\u7cfb\u7edf\u8868\u8fdb\u884c\u8c03\u6574\uff0c\u4f7f\u7528\u4e0d\u914d\u5957\u7684 OCP \u7248\u672c\u65e0\u6cd5\u63a5\u7ba1\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u5347\u7ea7 OCP \u7248\u672c\u5230 V4.0.0\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u65e0\u6cd5\u4f7f\u7528 OCP \u628a\u7ba1\u7406\u7684 OceanBase \u6570\u636e\u5e93\u79fb\u9664\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u9002\u7528\u7248\u672c"})}),"\n",(0,r.jsx)(e.p,{children:"OCP 3.x\u30014.x \u7248\u672c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP \u6682\u4e0d\u652f\u6301\u8fc1\u51fa\u90e8\u7f72\u548c\u63a5\u7ba1\u7684\u96c6\u7fa4\uff0c\u4f46\u53ef\u4ee5\u4f7f\u7528\u63a5\u53e3\u5b9e\u73b0\uff0c\u5e76\u4e14\u8fc1\u51fa\u7684\u96c6\u7fa4\u4e0d\u7ba1\u662f\u4f7f\u7528 OBD \u90e8\u7f72\u7684\u8fd8\u662f\u4f7f\u7528 OCP \u90e8\u7f72\u7684\uff0c\u5747\u652f\u6301\u518d\u6b21\u63a5\u7ba1\u3002\u540e\u7eed\u7248\u672c\u4f1a\u589e\u52a0\u8fc1\u51fa\u96c6\u7fa4\u529f\u80fd\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528\u540e\u7aef restful api \u7684\u65b9\u5f0f\u6765\u8fc1\u51fa OceanBase \u6570\u636e\u5e93\u96c6\u7fa4\u3002\u547d\u4ee4\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:'curl -X POST --user {user}:{password} -H "Content-Type:application/json" -d \'{}\' "http://{ocp-url}\uff1a{port}/api/v2/ob/clusters/{cluster_id}/moveOut"\n# example\ncurl -X POST --user admin:aaAA11__ -H "Content-Type:application/json" -d \'{}\' "<http://10.10.10.1:8080/api/v2/ob/clusters/2/moveOut>"\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u9700\u6ce8\u610f\u7684\u662f\uff0c\u547d\u4ee4\u4e2d\u7684 cluster_id \u6307\u7684\u662f OCP \u6d4f\u89c8\u5668\u5730\u5740\u4e2d\u7684\u96c6\u7fa4 ID\uff0c\u4f8b\u5982 xx.xx.xx.xx:8080/cluster/2\uff0c\u8868\u793a cluster_id \u662f 2\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OCP V3.3.0 \u91cd\u542f OceanBase\uff08V3.1.4\uff09\u96c6\u7fa4\u88ab\u5361\u4f4f\uff0c\u8be5\u96c6\u7fa4\u4f7f\u7528 OBD \u53ef\u6b63\u5e38\u91cd\u542f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"image.png",src:s(65306).A+"",width:"1500",height:"475"})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b\u65e5\u5fd7\u62a5\u9519\uff1aConnect to xx.xx.xx.xx:62888 [/xx.xx.xx.xx] failed: Connection refused (Connection refused\uff09"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"ocp-agent \u670d\u52a1\u7684\u7aef\u53e3\u4e3a 62888\uff0c\u67e5\u770b\u65e5\u5fd7\u663e\u793a\u62a5\u9519\u8fde\u63a5\u88ab\u62d2\u7edd\uff0c\u57fa\u672c\u4e3a ocp-agent \u670d\u52a1\u5f02\u5e38\u65e0\u6cd5\u901a\u8fc7 agent \u670d\u52a1\u4e0b\u53d1\u6307\u4ee4\u5bfc\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u91cd\u542f\u4e3b\u673a\u8282\u70b9\u7684 ocp-agent \u670d\u52a1\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OCP V4.0 \u5173\u95ed\u96c6\u7fa4\u9875\u9762\u62a5\u9519\uff1a\u96c6\u7fa4 obcluster \u4e0d\u5141\u8bb8\u8fdb\u884c\u64cd\u4f5c\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(73771).A+"",width:"1306",height:"680"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP \u7684 metadb \u88ab OCP \u81ea\u8eab\u63a5\u7ba1\uff0c\u5982\u679c\u4f7f\u7528 OCP \u7ba1\u7406\u8be5\u96c6\u7fa4\u4f1a\u5bfc\u81f4 OCP \u670d\u52a1\u4e0d\u53ef\u7528\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e0d\u80fd\u4f7f\u7528 OCP \u505c\u6b62\u63a5\u7ba1\u7684 metadb\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OCP 4.x \u7248\u672c\u5220\u9664\u79df\u6237\u4e0b\u7684 test1 \u5e93\uff0c\u63d0\u793a\u4e0d\u5141\u8bb8\u8fdb\u884c\u8be5\u64cd\u4f5c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"image.png",src:s(54348).A+"",width:"1510",height:"735"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6b64\u96c6\u7fa4\u548c metadb \u5171\u7528\uff0cOCP metadb \u9ed8\u8ba4\u662f\u4e0d\u5141\u8bb8\u901a\u8fc7 OCP \u505a\u8fd0\u7ef4\u64cd\u4f5c\u7684\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"OCP meta \u79df\u6237\u4e0b\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5c06\u9ed1\u540d\u5355\u5bf9\u5e94\u7684 value \u7f6e\u7a7a\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"update config_properties set value='' where `key`='ocp.ob.cluster.ops.blacklist';\n"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u5c06 OCP \u4ece V3.1.1 \u5347\u7ea7\u81f3 V3.3.0 \u65f6\u5931\u8d25\uff0c\u62a5\u9519 yaml \u683c\u5f0f\u4e0d\u6b63\u786e\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"image.png",src:s(34435).A+"",width:"1189",height:"580"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP V3.1.1 \u548c V3.3.0 \u7684\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u5dee\u5f02\u8f83\u5927\uff0c\u5347\u7ea7\u9700\u8981\u4f7f\u7528 V3.3.0 \u7684\u914d\u7f6e\u683c\u5f0f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6309 OCP V3.3.0 \u7684\u914d\u7f6e\u6a21\u7248\u6587\u4ef6\u6539\u5199\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5c06 OCP \u4ece V3.1.1 \u5347\u7ea7\u81f3 V3.3.0 \u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Can't connect to MySQL server on xx.xx.xx.xx:2881(-2 Name or server not know)"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"image.png",src:s(76884).A+"",width:"1500",height:"282"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP V3.1.1 \u914d\u7f6e\u662f\u76f4\u8fde\u65b9\u6848\uff0cV3.3.0 \u914d\u7f6e\u662f proxy \u8fde\u63a5\u65b9\u6848\uff0c\u5347\u7ea7\u9700\u8981\u4fdd\u6301\u539f\u65b9\u6848\uff0c\u76f4\u8fde\u65f6\u7528\u6237\u540d\u4e0d\u80fd\u5e26\u96c6\u7fa4\u540d\u79f0\uff0c\u5426\u5219\u4f1a\u88ab\u8bef\u628a \u201c\u79df\u6237#\u96c6\u7fa4\u540d\u79f0\u201d \u89e3\u6790\u6210\u79df\u6237\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 yaml \u914d\u7f6e\u6587\u4ef6 metadb \u6a21\u5757\u4f7f\u7528\u76f4\u8fde\u65b9\u5f0f\uff0c\u53bb\u6389\u79df\u6237\u7684 ",(0,r.jsx)(e.code,{children:"#\u96c6\u7fa4\u540d\u79f0"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5c06 OCP \u4ece V3.3.0 \u5347\u7ea7\u5230 V4.0.0 \u62a5\u9519 ",(0,r.jsx)(e.code,{children:"KeyError: 'buildVersion'"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"image.png",src:s(81115).A+"",width:"1282",height:"462"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7\u9700\u8981\u8c03\u7528\u63a5\u53e3\u8fde\u63a5 OCP\uff0c\u4f7f\u7528\u7684\u8d26\u6237\u4e3a\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 auth \u6a21\u5757\u4fe1\u606f\uff0cauth \u6a21\u5757\u914d\u7f6e\u53ea\u6709\u5347\u7ea7\u8fc7\u7a0b\u4f1a\u7528\u5230\u3002\u5982\u679c\u901a\u8fc7 OCP \u767d\u5c4f\u4fee\u6539\u8fc7\u767b\u5f55\u5bc6\u7801\uff0c\u8be5\u914d\u7f6e\u4e2d\u4e5f\u9700\u540c\u6b65\u4fee\u6539\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"cinfig.yaml \u6587\u4ef6 auth \u6a21\u5757\u7684\u4fe1\u606f\u6539\u4e3a OCP \u767d\u5c4f\u767b\u5f55\u7528\u6237\u548c\u5bc6\u7801\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP4.0.3 \u4e0a\u6269\u5bb9 OB4.0 \u8282\u70b9\uff0c\u5728\u542f\u52a8 OB \u9636\u6bb5 start observer process with param \u5931\u8d25\uff0cobsever.log \u65e5\u5fd7\u62a5\u9519",(0,r.jsx)(e.code,{children:"server available memory is little than unit min memory, can not create sys tenant. try adjust config 'memory_limit' or 'system_memory'.(ret=-4147, ret=\"OB_INVALID_CONFIG\", unit_min_memory=1073741824, server_avail_memory=-5372854272, system_memory=32212254720, server_memory_limit=26839400448) "})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u62a5\u9519\u5728\u521b\u5efa\u6269\u5bb9\u8282\u70b9\u7684 sys \u79df\u6237\u65f6 system_memory \u8fc7\u5927\uff0c\u8d85\u51fa\u4e86 memory_limit \u5185\u5b58\u603b\u91cf\u3002\n\u4e3b\u8981\u662f\u5185\u5b58\u8d44\u6e90\u5206\u914d\u6709\u95ee\u9898\uff0c\u53ef\u80fd\u662f\u6269\u5bb9\u8282\u70b9\u7684\u8d44\u6e90\u914d\u7f6e\u548c\u539f\u96c6\u7fa4\u4e0d\u4e00\u81f4\u6216\u5dee\u5f02\u8f83\u5927\u3002\u4e5f\u53ef\u80fd\u662f\u6269\u5bb9\u65f6 OCP \u4f20\u53c2\u7684\u8d44\u6e90\u53c2\u6570\u4e0d\u6b63\u786e\u5bfc\u81f4\u3002\nmeta \u79df\u6237\u767b\u5f55 metadb \u67e5\u8be2 mate_database \u5e93\u4e0b\u7684 ob_cluster \u8868\u7684 startup_parameters \u5b57\u6bb5\uff0c\u5373\u539f\u96c6\u7fa4\u9996\u6b21\u90e8\u7f72\u65f6\u521d\u59cb\u5316\u8d44\u6e90\u914d\u7f6e\uff0c\u67e5\u770b\u8d44\u6e90\u548c\u5f53\u524d\u96c6\u7fa4\u662f\u5426\u4fdd\u6301\u4e00\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u7ecf\u8fc7\u786e\u8ba4\u4e3a OCP \u90e8\u7f72 OB \u540e\uff0c\u91cd\u65b0\u8c03\u6574\u4e86\u8d44\u6e90\u53c2\u6570\uff0c\u4fee\u6539\u4e0a\u8ff0 ob_cluster \u8868\u4fe1\u606f\u548c\u5b9e\u9645\u96c6\u7fa4\u8d44\u6e90\u4e00\u81f4\u5373\u53ef\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP4.0.3 \u7248\u672c metadb \u7684\u8fde\u63a5\u6c60\u5360\u6ee1\uff0cocp.log \u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"active 100\uff0cmaxActive 100"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"1\uff09ocp \u7684 metadb \u8d44\u6e90\u5b58\u5728\u74f6\u9888\u5bfc\u81f4\u67e5\u8be2\u6027\u80fd\u6162\uff0c\u9020\u6210\u8fde\u63a5\u963b\u585e\u3002\u4f8b\u5982\u4f7f\u7528 sata \u78c1\u76d8\uff0ccpu \u5206\u914d\u592a\u5c0f\u7b49\u3002\n2\uff09ocp \u7ba1\u7406\u4e0a\u767e\u4e2a\u79df\u6237\uff0c\u9020\u6210\u91c7\u96c6\u6570\u636e\u8f83\u591a\uff0c\u8d44\u6e90\u548c\u6570\u636e\u4e0d\u6210\u6b63\u6bd4\u3002\u9700\u8981\u589e\u52a0\u914d\u7f6e\u6216\u964d\u4f4e\u76d1\u63a7\u6570\u636e\u4fdd\u7559\u5468\u671f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u65b9\u6cd5 1\uff1a\nmeta \u79df\u6237\u8bbe\u7f6e spring.datasource.druid.maxActive \u8fde\u63a5\u6c60\u8c03\u5927\n",(0,r.jsx)(e.code,{children:"update config_properties set value = '200' where key = 'spring.datasource.druid.maxActive';"})]}),"\n",(0,r.jsx)(e.li,{children:"\u65b9\u6cd5 2\uff1a\nocp \u7684\u7cfb\u7edf\u53c2\u6570\u4e2d\u8c03\u6574\u5386\u53f2\u76d1\u63a7\u6570\u636e\u4fdd\u7559\u5468\u671f ocp.monitor.data.retention-days\uff0c\u964d\u4f4e\u6570\u636e\u91cf\uff0cocp_metric_data_1 \u5c31\u662f\u79d2\u7ea7\u6570\u636e\u7684\u4fdd\u7559\u65f6\u95f4\uff0c\u9ed8\u8ba4\u662f 8 \u5929\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP4.0.3BP1 \u4f7f\u7528 ocp-installer \u547d\u4ee4\u505c\u6b62 ocp \u670d\u52a1\u5931\u8d25\uff0c\u62a5\u9519",(0,r.jsx)(e.code,{children:"[ERROR] Running Error\uff1a'oceanbase-ce'"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"ocp-installer \u547d\u4ee4\u7f3a\u9677\uff0c\u751f\u6210\u7684\u914d\u7f6e\u7f3a\u5c11\u8054\u52a8\uff0c\u63a8\u8350\u90e8\u7f72\u6216\u5347\u7ea7 OCP \u6700\u65b0\u7248\u672c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"ocp-installer cluster list \u67e5\u770b ocp \u670d\u52a1\u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e configuration path\u3002"}),"\n",(0,r.jsx)(e.li,{children:"ocpmetadb-OCP \u670d\u52a1\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u4e0b\u6709\u4e2a.date \u6587\u4ef6\u8bb0\u5f55\u72b6\u6001\u6570\u636e\uff0c\u5220\u9664\u5176\u4e2d oceanbase-ce \u6a21\u5757\u5185\u5bb9\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u91cd\u65b0\u6267\u884c\u505c\u6b62\u547d\u4ee4\u5373\u53ef\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP4.0.3 \u7248\u672c\u63a5\u7ba1 OB \u65f6\u6267\u884c clockdiff \u547d\u4ee4\u5931\u8d25\uff0c\u62a5\u9519",(0,r.jsx)(e.code,{children:'Cannot run program "clockdiff"\uff08in directory "."\uff09'})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u90e8\u5206\u64cd\u4f5c\u7cfb\u7edf \u666e\u901a\u7528\u6237\u662f\u6ca1\u6709\u6267\u884c clockdiff \u547d\u4ee4\u6743\u9650\u7684\uff0c\u5373\u4f7f\u666e\u901a\u7528\u6237\u6709 sudo \u6743\u9650\uff0cOCP \u5f53\u524d\u7248\u672c\u5e76\u4f7f\u7528 sudo \u65b9\u5f0f\u53bb\u6267\u884c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u64cd\u4f5c\u7cfb\u7edf root \u6267\u884c ",(0,r.jsx)(e.code,{children:"setcap cap_net_raw+ep /usr/sbin/clockdiff"})," \u8d4b\u6743\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OCP4.0.3 \u7248\u672c\uff0c\u60f3\u5220\u9664\u8fd0\u7ef4\u4e2d\u72b6\u6001\u7684 OBProxy \u96c6\u7fa4\u5931\u8d25\uff0c\u63d0\u793a\uff1aOBProxy \u96c6\u7fa4[xxxx]\u7684\u72b6\u6001\u4e0d\u5408\u6cd5:[LOCK],\u4e0d\u5141\u8bb8\u8be5\u64cd\u4f5c"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd0\u7ef4\u4e2d\u72b6\u6001\u662f\u4e0d\u5141\u8bb8\u505a\u5220\u9664\u64cd\u4f5c\u7684\uff0c\u9632\u6b62\u6b63\u5728\u6267\u884c\u7684\u4efb\u52a1\u53d7\u5f71\u54cd\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u786e\u8ba4\u5220\u9664\u7ec4\u4ef6\u65e0\u5f71\u54cd\uff0c\u53ef\u4ee5\u767b\u5f55 ocp \u7684 meta \u79df\u6237\u67e5\u770b\u5728 meta_database \u5e93\u4e0b\u7684 obporxy_cluster \u8868\uff0c\u5c06 status \u5b57\u6bb5 lock\uff0c\u6539 unlock\uff0c\u7136\u540e ocp \u4e0a\u4efb\u52a1\u5220\u6389 obproxy\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP \u5347\u7ea7\u5230 4.2.0 \u540e\u90e8\u7f72 OB\uff0c\u5728 refresh ocp agent config \u9636\u6bb5\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"key ocp.agent.snapshot.maxsize is not found in config properties"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"ocp420 \u5347\u7ea7\u672a\u628a\u4e3b\u673a\u7684 ocp-agent \u7248\u672c\u5347\u7ea7\u4e0a\u6765\uff0cocp421 \u7248\u672c\u4fee\u590d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7 ocp-agent \u7248\u672c\u548c ocp \u7248\u672c\u4fdd\u6301\u4e00\u81f4"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP \u5347\u7ea7\u5230 4.2.0 \u540e\u518d\u90e8\u7f72 OBProxy\uff0c\u5728 install rpm by package and version \u9636\u6bb5\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"http request is failed, response:Bad request: 404 not found"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"ocp420 \u5347\u7ea7\u672a\u628a\u4e3b\u673a\u7684 ocp-agent \u7248\u672c\u5347\u7ea7\u4e0a\u6765\uff0cocp421 \u7248\u672c\u4fee\u590d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7 ocp-agent \u7248\u672c\u548c ocp \u7248\u672c\u4fdd\u6301\u4e00\u81f4"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP \u5347\u7ea7\u5230 4.2.0 \u540e\u518d\u90e8\u7f72 OBProxy\uff0c\u5728 install rpm by package and version \u9636\u6bb5\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"message=InvalidKeyException: lllegal key size or default parameters"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5bc6\u94a5\u957f\u5ea6\u53d7\u9650\u5236\uff0cjava \u8fd0\u884c\u65f6\u73af\u5883\u8bfb\u5230\u7684\u662f\u53d7\u9650\u5236\u7684 policy \u6587\u4ef6\uff0c\u540e\u7eed\u7248\u672c\u4f1a\u505a\u9884\u68c0\u67e5\u3002\n",(0,r.jsx)(e.code,{children:"https://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7 jre \u7248\u672c\uff0c\u6ce8\u610f\u9700\u8981\u548c JDK \u7248\u672c\u5bf9\u5e94"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP4.0.3 \u7248\u672c\u544a\u8b66 OB \u65e5\u5fd7\u6709 ERROR \u7ea7\u522b\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"the hold of observer tenant is over the system_memory"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["system_memory \u662f\u96c6\u7fa4\u7684 500 \u79df\u6237\u5185\u5b58\uff0c\u6b64\u5185\u5b58\u4e5f\u662f\u5171\u4eab\u5185\u5b58\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u5185\u5b58\u5360\u6ee1\u95ee\u9898\u3002",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"select tenant_id,svr_ip,sum(hold),sum(used) from __all_virtual_memory_info where tenant_id=500;"}),"\n\u67e5\u770b\u5230 hold \u548c used \u63a5\u8fd1\u4e0a\u9650\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u8c03\u5927\u96c6\u7fa4 system_memory \u53c2\u6570\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP \u5347\u7ea7\u5230 4.2.0 \u540e\u63a5\u7ba1 OB \u5728 Wait observer accessible \u9636\u6bb5\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR 1045 (42000): Access denied for user 'ocp_monitor'@'xxx.xxx.xxx.xxx' (using password: NO)"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"mysql client \u5982\u679c\u662f 8.0.21 \u7248\u672c\u4e0d\u914d\u7f6e--default-auth=mysql_native_password \u65e0\u6cd5\u8ba4\u8bc1\u767b\u5f55\u3002\u8be5\u95ee\u9898\u5df2\u7ecf\u5728 OCP421 \u7248\u672c\u89e3\u51b3\uff0c\u540e\u7eed OCP \u5c06\u4e0d\u4f9d\u8d56 mysql \u5ba2\u6237\u7aef\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"OB \u8282\u70b9 mysql \u5ba2\u6237\u7aef\u5347\u7ea7\u5230 8.0.28 \u7248\u672c\uff0c\u91cd\u8bd5\u5347\u7ea7\u5373\u53ef"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP4.2.0 \u544a\u8b66",(0,r.jsx)(e.code,{children:"call web service failed\uff0cret=-4216"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u4e2a\u62a5\u9519\u662f AWR \u529f\u80fd\u4f9d\u8d56\uff0c\u793e\u533a\u7248\u4e0d\u652f\u6301\u8be5\u529f\u80fd\uff0cOCP421 \u4f1a\u5173\u95ed\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5ffd\u7565\u544a\u8b66\u6216\u8005\u5347\u7ea7 OCP421 \u7248\u672c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OCP4.2.1 \u521b\u5efa obproxy \u65f6\u5173\u8054 oceanbase \u62a5\u9519\uff1a\u96c6\u7fa4 xxx \u4e0d\u5141\u8bb8\u8fdb\u884c\u8be5\u64cd\u4f5c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["metadb \u9ed8\u8ba4\u4e0d\u652f\u6301\u88ab OCP \u8fd0\u7ef4\u64cd\u4f5c\u7684\uff0c\u9632\u6b62\u9ad8\u5371\u64cd\u4f5c(\u4f8b\u5982\uff1a\u91cd\u542f metadb)\uff0c\u51fa\u73b0 OCP \u4e0d\u53ef\u7528\u3002\n\u5f3a\u5236\u652f\u6301 metadb \u8fd0\u7ef4\u65b9\u5f0f\uff08\u4e0d\u63a8\u8350\uff0c\u4ec5\u4f9b\u6d4b\u8bd5\uff09\uff1ametadb \u4e0b\u7684 meta \u79df\u6237 meta_database \u5e93\u4e0b\u66f4\u65b0\u64cd\u4f5c\uff1a\n",(0,r.jsx)(e.code,{children:"update config_properties set value='' where key='ocp.ob.cluster.ops.blacklist';"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e0d\u80fd\u5173\u8054 OCP \u7684 metadb\uff0c\u5176\u4ed6\u4e1a\u52a1 OB \u96c6\u7fa4\u53ef\u5173\u8054\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP \u90e8\u7f72 OB4.2.1 \u521d\u59cb\u5316\u5931\u8d25\uff0c",(0,r.jsx)(e.code,{children:"ret=-9102\uff0cprepare_dir_and_create_meta_ failed"}),"\u3002\nobserver.log \u62a5\u9519",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:'ERROR issue_dba_error (ob_log.cpp:1866) [2604157][observer][T0][Y0-0000000000000000-0-0] [lt=7][errcode=-4388] Unexpected internal error happen, please checkout the internal errcode(errcode=-9102, file="ob_server_log_block_mgr.cpp", line_no=506, info="prepare_dir_and_create_meta_ failed")'})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u76ee\u5f55\u6743\u9650\u76f8\u5173\uff0c\u65e5\u5fd7\u53ef\u4ee5\u770b\u51fa\u6765\u548c mkdir \u76ee\u5f55\u64cd\u4f5c\u76f8\u5173\uff0c\u5efa\u8bae\u68c0\u67e5\u76ee\u5f55\u6743\u9650\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u624b\u52a8\u6267\u884c ",(0,r.jsx)(e.code,{children:"mkdir -p /home/admin/oceanbase/store/xxx/clog"})," \u521b\u5efa\u76ee\u5f55\u4f1a\u63d0\u793a\u65e0\u8bbf\u95ee\u6743\u9650\u3002\u56e0\u6b64\u9700\u8981\u68c0\u67e5\u78c1\u76d8\u8bbf\u95ee\u6216\u76ee\u5f55\u6302\u8f7d\u95ee\u9898\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OCP4.2.1 \u4fee\u6539 ocp.site.url \u53c2\u6570\u4e4b\u540e\u91cd\u542f\u4e0d\u751f\u6548\uff0c\u800c\u4e14\u91cd\u542f\u540e\u53c2\u6570\u88ab\u8fd8\u539f\u4e86\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u7248\u672c\u7f3a\u9677\uff0c\u540e\u7eed OBD250 \u4fee\u590d\uff0c--without_ocp_parameter \u53c2\u6570\u4f1a\u8df3\u8fc7 ocp.site.url \u53c2\u6570\u7684\u521d\u59cb\u5316\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4fee\u6539 ocp.site.url \u53c2\u6570\u540e\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u91cd\u542f OCP\uff0c",(0,r.jsx)(e.code,{children:"obd cluster start xxx --skip-create_tenant "})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP4.2.1 \u91cd\u88c5 ocp-agent \u5931\u8d25\uff0cmgragent.log \u65e5\u5fd7\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"error=sudo\uff1aunknown  user\uff1aadmin"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP4.2.2 \u7248\u672c\u624d\u4f1a\u89e3\u9664 ocp-agent \u5bf9 admin \u7528\u6237\u7684\u5f3a\u4f9d\u8d56\u95ee\u9898\u3002\u4e4b\u524d\u7684\u7248\u672c admin \u7528\u6237\u4e3a ocp-agent \u521b\u5efa\uff0c\u4f46\u5b58\u5728\u73af\u5883\u53d8\u91cf\u7b49\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["1\uff09\u9700\u8981\u5728\u6240\u6709\u673a\u5668\u4e0a\u521b\u5efa\u4e00\u4e0b admin \u64cd\u4f5c\u7cfb\u7edf\u7528\u6237\n2\uff09",(0,r.jsx)(e.code,{children:"cd /home/admin/ocp_agent/bin && ./ocp_agentctl stop"}),"\n3\uff09\u8df3\u8fc7\u4e4b\u524d\u5347\u7ea7\u81ea\u52a8\u89e6\u53d1\u7684 reinstall ocp agent \u4efb\u52a1\n4\uff09\u5728 ocp \u4e3b\u673a\u7ba1\u7406\u770b\u5230\u5bf9\u5e94\u7684\u673a\u5668\u53d8\u6210\u79bb\u7ebf\n5\uff09\u5728 ocp \u4e3b\u673a\u7ba1\u7406\u5904\u70b9\u51fb\u5b89\u88c5\u65b0\u7248\u672c ocp-agent"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP \u5347\u7ea7 OB4.2.1 \u65f6\u5361\u5728 execute upgrade post script \u9636\u6bb5\uff0c\u754c\u9762\u62a5\u9519\u8d85\u65f6\uff1a",(0,r.jsx)(e.code,{children:'"UPGRADE_ALL",timeout'}),"\u3002\nobserver.log \u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"clog disk hang event"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"clog \u78c1\u76d8\u5199\u7684\u6162\uff0cclog \u548c data \u5171\u7528\uff0c\u4f7f\u7528\u7684\u673a\u68b0\u76d8\uff0c\u5347\u7ea7\u8fc7\u7a0b\u4e2d\uff0crs \u4e0d\u65ad\u5207\u6362\uff0c\u5bfc\u81f4\u5347\u7ea7\u8d85\u65f6\u5931\u8d25\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 SSD \u78c1\u76d8\u4e14\u6570\u636e\u76d8\u548c\u65e5\u5fd7\u76d8\u5206\u76d8\u90e8\u7f72\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OCP4.2.1 \u4e0d\u65ad\u544a\u8b66\u670d\u52a1\u5668\u65f6\u949f\u540c\u6b65\u670d\u52a1\u4e0d\u5b58\u5728\uff0c\u544a\u8b66\u4fe1\u606f\uff1a\u670d\u52a1\u5668\u65f6\u949f\u540c\u6b65\u670d\u52a1\uff08ntp \u6216 chrony\uff09\u4e0d\u5b58\u5728\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u672a\u5b89\u88c5\u540c\u6b65\u5de5\u5177 ntp/chrony\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5f00\u542f\u4e86 ipv6 \u670d\u52a1\uff0cipv6 \u5f00\u542f\u540e\uff0c\u6267\u884c ntpq -pn \u547d\u4ee4\u4f1a\u8fd4\u56de tomeout \u8d85\u65f6\uff0cOCP \u68c0\u6d4b ntp \u670d\u52a1\u5931\u8d25\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"OB \u5bf9\u65f6\u95f4\u5ef6\u8fdf\u6bd4\u8f83\u654f\u611f\uff0c\u8d85\u8fc7 100ms \u5ef6\u8fdf\u4f1a\u5c06\u8282\u70b9\u8e22\u51fa\u96c6\u7fa4\uff0c\u56e0\u6b64\u9700\u8981\u65f6\u949f\u540c\u6b65\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5173\u95ed ipv6\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP \u544a\u8b66 OB4.1.0 \u6570\u636e\u5907\u4efd\u4efb\u52a1\u5931\u8d25\uff0c\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ERROR 9031 (HY000) : Cannot backup ob replica"}),"\uff0c\u9519\u8bef\u7801\uff1a9031\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8be5 Replica \u6b63\u5728\u8fc1\u79fb\u590d\u5236\u6216\u8005\u662f\u65e5\u5fd7\u526f\u672c\u65f6\uff0c\u65e0\u6cd5\u63d0\u4f9b\u6570\u636e\u5907\u4efd\u7684\u80fd\u529b\uff0cOB4.2 \u5df2\u4f18\u5316\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7 OB \u5230 4.2 \u7248\u672c\u6216\u4ee5\u4e0a\u7248\u672c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OCP421 \u4e0d\u663e\u793a OB \u96c6\u7fa4\u76d1\u63a7\u4fe1\u606f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd\u662f\u505a\u8fc7\u538b\u6d4b\uff0c\u5e76\u5bf9\u96c6\u7fa4\u505a\u8fc7\u538b\u6d4b\u4f18\u5316\uff0c\u628a enable_perf_event \u53c2\u6570\u5173\u95ed\u4e86\u3002\u8be5\u53c2\u6570\u9ed8\u8ba4\u662f\u5f00\u542f\u7684\uff0c\u7528\u4e8e\u6027\u80fd\u4e8b\u4ef6\u7684\u4fe1\u606f\u6536\u96c6\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"OCP \u96c6\u7fa4\u53c2\u6570\u4e2d\u5c06 enable_perf_event \u8bbe\u7f6e\u4e3a true\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OCP4.2.0 \u7248\u672c\uff0c\u9ed1\u5c4f\u624b\u52a8\u6740\u6389 OB \u7684\u8fdb\u7a0b\u540e\u4f1a\u88ab\u81ea\u52a8\u62c9\u8d77\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OCP420 \u7248\u672c\u65b0\u589e\u529f\u80fd\uff0c\u4f1a\u76d1\u63a7\u5b88\u62a4 OB \u8fdb\u7a0b\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u7ef4\u62a4\u60f3\u5173\u95ed\u8be5\u529f\u80fd\uff0c\u767b\u5f55 ocp_meta \u5143\u79df\u6237\uff0c\u5c06 selfcure_contingency_config \u8868\u5bf9\u5e94\u7684 enabled \u6539\u6210 0 \u5373\u53ef\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OCP4.2.1 \u7248\u672c\u505a\u6570\u636e\u6062\u590d\u65f6\uff0c\u4e0d\u663e\u793a\u6e90\u79df\u6237\u4fe1\u606f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"OCP \u63a5\u7ba1 OBD \u90e8\u7f72\u7684 OB\uff0cOB \u7684 bin \u76ee\u5f55\u4e0b\u7f3a\u5c11\u8fd0\u7ef4\u7a0b\u5e8f ob_admin\u3002"}),"\n",(0,r.jsx)(e.li,{children:"OB \u8282\u70b9 admin \u7528\u6237\u73af\u5883\u53d8\u91cf\u6709\u95ee\u9898\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5b98\u7f51\u4e0b\u8f7d\u5de5\u5177\u96c6\u6210\u5305(OceanBase Utils)\uff0c\u89e3\u538b\u540e\u5c06 ob_admin \u6587\u4ef6\u4e0a\u4f20\u81f3 observer \u5b89\u88c5\u76ee\u5f55\u7684 bin \u76ee\u5f55\u4e0b\uff0c\u5e76\u8d4b\u4e88\u540c\u7ea7 observer \u6587\u4ef6\u76f8\u540c\u6743\u9650\u5373\u53ef\u3002"}),"\n",(0,r.jsx)(e.li,{children:"OCP4.2.2 \u7248\u672c\u4f1a\u4fee\u590d ocp-agent \u4f9d\u8d56 admin \u7528\u6237\u95ee\u9898\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OCP4.2.1 \u5347\u7ea7 OB \u65f6\u5728 Install dependencies \u9636\u6bb5\u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"message = Install software package failed, reason: previous installed package oceanbase-ce-libs prefix not matched. prev: /home, new: /home/admin/observer"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"ocp-agent \u672c\u5730\u6587\u4ef6\u53ef\u80fd\u6709\u95ee\u9898\uff0c\u540e\u7eed\u7248\u672c\u5c06\u4f18\u5316\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b\u6bcf\u4e2a ob \u8282\u70b9\u7684/home/admin/ocp-agent \u76ee\u5f55\u4e0b\u7684 task_store\u3001pkg_store\uff0c\u6e05\u7406\u6389 pkg_store \u76ee\u5f55\u4e0b\u7684 oceanbase-ce-libs \u5305\u4ee5\u540e\uff0c\u91cd\u65b0\u6267\u884c\u4efb\u52a1\u5373\u53ef\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5bb9\u5668\u90e8\u7f72\u7684 OCP4.2.1 \u63a5\u7ba1 OB \u65f6\u754c\u9762\u62a5\u9519\uff1a",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"Unhandled exception, type=IllegalArgumentException, message=Illegal Connect-User '%s': missing '@'"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fde\u63a5 metadb \u65f6\u7684\u914d\u7f6e\u53ef\u80fd\u4e0d\u6b63\u786e\uff0c\u5bfc\u81f4\u63a5\u7ba1\u65f6\u9a8c\u8bc1\u53c2\u6570\u89e3\u6790\u9519\u8bef\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"OCP \u5bb9\u5668\u5c06 OCP_METADB_USER \u53c2\u6570\u589e\u52a0\u5b8c\u6574\u79df\u6237\u4fe1\u606f\u3002\n\u5199\u6cd5\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7528\u6237\u540d@\u79df\u6237\u540d#\u96c6\u7fa4\u540d\u79f0\uff08\u4f7f\u7528 obproxy \u8fde\u63a5 metadb \u65f6\uff09\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u7528\u6237\u540d@\u79df\u6237\u540d\uff08\u4f7f\u7528\u76f4\u8fde metadb \u65f6\uff09\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OCP4.2.0 \u754c\u9762\u4f1a\u63d0\u793a\u9519\u8bef\u4fe1\u606f\uff1a\n",(0,r.jsx)(e.code,{children:"Out of range value for column 'MAX_IOPS' : value 2.7670116110564327E19 is not in class java.lang.Long range"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OB \u96c6\u7fa4\u7684 sys \u79df\u6237\u8d44\u6e90\u914d\u7f6e\u7684 max_iops \u53d6\u503c\u8d8a\u754c\u7f3a\u9677\uff0c\u540e\u7eed\u7248\u672c\u4f1a\u4fee\u590d\uff0c\u4e0d\u5f71\u54cd\u4f7f\u7528\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["sys \u79df\u6237\u767b\u5f55 ",(0,r.jsx)(e.code,{children:"select * from oceanbase.gv$ob_units;"})," \u5982\u679c MAX_IOPS \u503c\u5f02\u5e38\u5927(9223372936854775807)\uff0c\u53ef\u4ee5\u4fee\u6539 sys \u79df\u6237\u7684 unit \u914d\u7f6e\u3002\n",(0,r.jsx)(e.code,{children:"alter resource unit sys_unit MIN_IOPS=10000,MAX_IOPS=10000;"})," \u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OCP4.0.3 \u5220\u9664\u4e3b\u673a\u5931\u8d25\uff0c\u653e\u5f03\u4efb\u52a1\u6b63\u5e38\uff0c\u4f46\u4e3b\u673a\u72b6\u6001\u663e\u793a\uff1a\u5220\u9664\u4e2d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u4efb\u52a1\u56de\u6eda\u4fe1\u606f\u5199\u5165\u5143\u6570\u636e\u5e93\u53ef\u80fd\u5931\u8d25\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u624b\u52a8\u66f4\u65b0 metadb \u4e2d ocp_meta \u79df\u6237\u7684\u7ec4\u4ef6\u72b6\u6001\u3002\n",(0,r.jsx)(e.code,{children:"update compute_host set status = 'AVAILABLE' where id='xx';"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"oms-\u4f7f\u7528\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"OMS \u4f7f\u7528\u95ee\u9898"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OMS V3.3.1 \u5728\u8fc1\u79fb\u591a\u5f20\u5927\u8868\u5230 OceanBase \u6570\u636e\u5e93\u65f6\uff0cchecker \u7ec4\u4ef6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"NNER_ERROR[CM-RESONF000003]: no enough host resource for a CHECKER, reason [host: IP unavailable cause: current memory usage 0.8573829 exceed limited 0.85]"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fc1\u79fb\u5927\u8868\u8f83\u591a\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7684 checker \u7ec4\u4ef6\u8d44\u6e90\u8fc7\u5c0f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8fc1\u79fb\u9879\u76ee\u8be6\u60c5\u9875\u70b9\u51fb ",(0,r.jsx)(e.strong,{children:"\u67e5\u770b\u7ec4\u4ef6\u76d1\u63a7"}),"\uff0c\u66f4\u65b0 checker \u914d\u7f6e\u4e2d\u7684 ",(0,r.jsx)(e.code,{children:"task.checker_jvm_param"})," \u8c03\u6574 jvm \u53c2\u6570\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OMS V3.3.0 \u542f\u52a8\u589e\u91cf\u540c\u6b65\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"INVALID_STATUS_ERROR [INVALID_STATUS_ERROR] {\u201cmessage\u201d:\u201cNot found ocp name from connectInfo: jdbc:oceanbase://xx.xx.xx.xx:2883?allowLoadLocalInfile=false&autoDeserialize=false&allowLocalInfile=false&allowUrlInLocalInfile=false&useSSL=false\u201d}"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 OMS \u542f\u52a8\u589e\u91cf\u4efb\u52a1\u65f6\u6ca1\u627e\u5230 OCP \u6216\u8005 configUrl\uff0c\u68c0\u67e5\u4e00\u4e0b\u6570\u636e\u6e90\u91cc\u6709\u6ca1\u6709\u914d\u7f6e OCP \u6216\u8005 configUrl\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u6570\u636e\u6e90\u7684\u9ad8\u7ea7\u9009\u9879\u91cc\u914d\u7f6e configUrl\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OMS4.x \u7248\u672c\u589e\u91cf\u540c\u6b65 OB3.x \u5230 OB3.x \u7684\u94fe\u8def\u5931\u8d25\uff0cDDL \u65e5\u5fd7\u62a5\u9519",(0,r.jsx)(e.code,{children:"event source process failed: [ not support create table select as option, origin sql:CREATE TABLE AA AS SELECT a,b FROM BB"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OMS \u4e0d\u652f\u6301\u540c\u6b65 create table as select \u8bed\u53e5\uff0c\u56e0\u4e3a\u5176\u64cd\u4f5c\u521b\u5efa\u4e34\u65f6\u8868\uff0c\u540c\u6b65\u6570\u636e\u91cf\u65e0\u6cd5\u89c4\u8303\uff0c\u5bf9 OMS \u6027\u80fd\u5f71\u54cd\u8f83\u5927\uff0c\u672a\u6765\u4e5f\u4e0d\u8003\u8651\u652f\u6301\u8be5\u8bed\u6cd5\u3002"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),"\n\u5982\u679c\u53ea\u91c7\u53d6\u8df3\u8fc7\u65b9\u5f0f\u53ea\u80fd\u89c4\u907f\u8be5 sql \u8bed\u53e5\uff0c\u540e\u7eed\u8be5\u8868\u53ef\u80fd\u6d89\u53ca\u5176\u4ed6\u7684 dml \u64cd\u4f5c\u540c\u6b65\u65f6\uff0c\u4f1a\u62a5\u9519\u8868\u4e0d\u5b58\u5728\u95ee\u9898\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u5c06\u8868\u7eb3\u5165\u9ed1\u540d\u5355\u5373\u53ef\u3002\n\u67e5\u770b\u7ec4\u4ef6\u76d1\u63a7->\u589e\u91cf\u540c\u6b65\u7ec4\u4ef6->\u66f4\u65b0\uff0c\u5c06 BB \u8868\u52a0\u5165\u9ed1\u540d\u5355\uff0c",(0,r.jsx)(e.code,{children:"https://www.oceanbase.com/docs/community-oms-cn-1000000000425982"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OMS4.1 \u7248\u672c\u8868\u7ed3\u6784\u8fc1\u79fb\u5931\u8d25\uff0c\u62a5\u9519",(0,r.jsx)(e.code,{children:"Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: interrupt"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8868\u7ed3\u6784\u4e00\u6b21\u6027\u8fc1\u79fb\u592a\u591a\u5bfc\u81f4\uff0c\u540c\u65f6\u4e5f\u548c\u8d44\u6e90\u73af\u5883\u6709\u4e00\u5b9a\u5173\u7cfb\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5206\u591a\u4e2a\u94fe\u8def\u5206\u6279\u8fc1\u79fb\u8868\u7ed3\u6784\uff0c\u6216\u8005\u5355\u94fe\u8def\u8fc1\u79fb\u8868\u6570\u5efa\u8bae\u4e0d\u8981\u592a\u591a\uff0c\u5efa\u8bae\u5c11\u4e8e 400 \u4e2a\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u91cd\u88c5 OMS4.1.1 \u7248\u672c\u540e\u4f7f\u7528\u9ed8\u8ba4\u7528\u6237\u548c\u5bc6\u7801\u767b\u5f55\u5931\u8d25\uff0c\u754c\u9762\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"OMS_USER_NOT_ACTIVE"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6d4f\u89c8\u5668\u7f13\u5b58\u767b\u5f55\u4fe1\u606f\u548c\u91cd\u88c5\u7684 OMS \u6709\u51b2\u7a81\u5bfc\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u6e05\u7406\u6d4f\u89c8\u5668\u7f13\u5b58\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OMS4.1.0 \u5347\u7ea7\u5230 OMS4.1.1 \u540e\uff0c\u767b\u5f55\u62a5\u9519\u9274\u6743\u9519\u8bef\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OMS4.1.1 \u4e4b\u524d\u7684\u7248\u672c\u4e0d\u652f\u6301\u5347\u7ea7\u5230 OMS4.1.1 \u4ee5\u53ca\u4ee5\u4e0a\u7248\u672c\uff0c\u56e0\u4e3a OMS4.1.1 \u7248\u672c\u5f00\u59cb\u7531\u793e\u533a\u7248\u72ec\u7acb\u5206\u652f\uff0c\u5143\u8868\u7ed3\u6784\u505a\u4e86\u8f83\u5927\u6539\u52a8\uff0c\u540e\u7eed OMS4.2 \u7248\u672c\u4f1a\u505a\u5347\u7ea7\u4e0d\u652f\u6301\u62e6\u622a\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u91cd\u65b0\u90e8\u7f72 OMS4.1.1 \u7248\u672c\u6216\u65b0\u7248\u672c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OMS4.0 \u589e\u91cf\u540c\u6b65\u5931\u8d25\uff0cJDBCWriter \u7ec4\u4ef6\u72b6\u6001\u505c\u6b62\u3002\u754c\u9762\u62a5\u9519\uff1aCM-SCHEOR000021\uff0cjdbcwriter \u65e5\u5fd7\u62a5\u9519\u6267\u884c replace into \u8bed\u53e5\u65f6\u8d85\u65f6\u65ad\u5f00\u8fde\u63a5 Broken pipe\uff08Write failed\uff09"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"replace into \u8bed\u6cd5\u64cd\u4f5c\u7684\u76ee\u6807\u8868\u5f88\u5927\u4e8b\u540e\uff0c\u4f1a\u51fa\u73b0\u5199\u5165\u6162\u7684\u73b0\u8c61\uff0c\u5bfc\u81f4\u540c\u6b65\u8d85\u65f6\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4fee\u6539 OMS \u589e\u91cf\u7ec4\u4ef6\u53c2\u6570 ",(0,r.jsx)(e.code,{children:"JDBCWriter.sinkFile.isMysqlReplaceMode=false"})," \uff0c\u91cd\u542f JDBCWriter \u589e\u91cf\u7ec4\u4ef6\u3002\u8bbe\u7f6e\u8fd9\u4e2a\u4e4b\u540e\uff0c\u4f18\u5316 replace into \u8bed\u6cd5\u4e3a insert \uff0c\u52a0\u901f\u5199\u5165\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"\u505a OMS HA \u9ad8\u53ef\u7528\u4e2d\u7684 store\u3001jdbcWriter \u65e0\u6cd5\u5207\u6362\u4e86\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OMS \u9ad8\u53ef\u7528\u8282\u70b9\u4e2d\u5b58\u5728\u8d44\u6e90\u4f7f\u7528\u6bd4\u4f8b\u8d85\u8fc7 80%\uff0c\u5305\u62ec\u78c1\u76d8\u3001cpu\u3001\u5185\u5b58\u7b49\uff0c\u53ef\u4ee5\u5728 OMS \u673a\u5668\u8d44\u6e90\u4e2d\u786e\u8ba4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u91ca\u653e\u5176\u4ed6\u94fe\u8def\u6216\u8005\u6269\u5bb9\u673a\u5668\u8d44\u6e90\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OMS4.1 \u8fc1\u79fb\u9884\u68c0\u67e5\u5931\u8d25\uff0c\u754c\u9762\u62a5\u9519\uff1aTIME_EXCEPTION\uff0c\u64cd\u4f5c PreCheckAction doRunningAction timeout.projectld xxx1 \u8d85\u65f6\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["\u67e5\u8be2 ",(0,r.jsx)(e.code,{children:"select gmt_modified from oms_step where project_id='xxx1';"})," \u53d1\u73b0\u548c\u672c\u5730\u65f6\u95f4\u4e0d\u4e00\u81f4\uff0c\u5dee 8 \u5c0f\u65f6\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"OMS \u5143\u6570\u636e\u5e93\u548c OMS \u8282\u70b9\u9700\u8981\u65f6\u95f4\u4fdd\u6301\u4e00\u81f4\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OMS4.2.0 \u8868\u7ed3\u6784\u8fc1\u79fb\u62a5\u9519\u83b7\u53d6 DDL \u5931\u8d25\u3002\n\u9519\u8bef\u7801\uff1aCHANA-MIGRAT000201\u3002\n\u9519\u8bef\u4fe1\u606f\uff1a",(0,r.jsx)(e.code,{children:"OBSCHEMA_ERROR\uff1aFailed to migrate the tables\uff0cWe recommend status filtering under the structure migration step for more information"}),"\u3002\n\u9519\u8bef\u539f\u56e0\uff1a\u5e93\u3001\u8868\u6216\u8005\u89c6\u56fe\u8fc1\u79fb\u5931\u8d25\u3002\n/home/admin/logs/ghana/Ghana/dbcat.log \u65e5\u5fd7\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"Unknow column 'EXPRESSION' in 'field list' "})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OB420_BETA_HF1 \u7248\u672c\u7684\u7cfb\u7edf\u89c6\u56fe\u7f3a\u5c11 EXPRESSION \u5b57\u6bb5\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"OB \u6e90\u7aef\u5347\u7ea7\u5230 OB421 \u6216\u4ee5\u4e0a\u7248\u672c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OMS4.1.1 \u5168\u91cf\u8fc1\u79fb mysql \u4ece\u5e93\u5230 ob \u94fe\u8def\uff0c\u4ece\u5e93\u5f00\u542f binlog\uff0c\u4f46\u62a5\u9519\uff1a\u8bfb\u53d6 binlog \u6570\u636e\u5305\u65f6\u51fa\u9519\u3002\n\u9519\u8bef\u539f\u56e0\uff1a\u63d0\u793a",(0,r.jsx)(e.code,{children:"please see the master's error log or the manual for GTID_SUBTRACT."})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u770b\u62a5\u9519\u548c Gtid \u53c2\u6570\u76f8\u5173\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u7ec4\u4ef6\u76d1\u63a7\uff0c\u4fee\u6539 store \u7ec4\u4ef6\u7684\u914d\u7f6e\uff1amysql2store.useGtid=false\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5b89\u88c5 OMS4.2\uff0c\u542f\u52a8\u6d4f\u89c8\u5668\u8bbf\u95ee\u62a5\u9519\uff1a\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef\u3002\n/home/admin/logs/ghana/Ghana/oms-web.log \u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"Conversion not supported for type java.time.LocalDateTime"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u62a5\u9519\u662f metadb \u5143\u6570\u636e\u5e93\u7684\u65f6\u95f4\u7c7b\u578b\u8f6c\u6362\u4e0d\u652f\u6301\uff0c\u5982\u679c\u662f metadb \u662f ob \u662f\u6ca1\u95ee\u9898\u3002OMS \u6682\u65f6\u53ea\u652f\u6301 mysql8 \u548c oceanbase \u4f5c\u4e3a metadb\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u66ff\u6362 metadb\uff0c\u4f7f\u7528 mysql8 \u6216\u8005 ob \u6570\u636e\u5e93\uff0c\u4e0d\u652f\u6301 mysql5.x\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OMS \u591a\u6b21\u767b\u5f55\u5931\u8d25\uff0c\u63d0\u793a\uff1a\u5bc6\u7801\u5df2\u9501\u5b9a\uff0c\u5f53\u524d\u7528\u6237\u89d2\u8272\uff1aADMIN\uff0c\u8bf7\u8054\u7cfb\u66f4\u9ad8\u6743\u9650\u7528\u6237\u534f\u52a9\u4fee\u6539\u5bc6\u7801\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"OMS \u5bc6\u7801\u8f93\u5165 5 \u6b21\u4e0d\u6b63\u786e\u4f1a\u9501\u767b\u5f55\u7528\u6237\uff0c\u534a\u5c0f\u65f6\u540e\u53ef\u80fd\u91cd\u8bd5\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u767b\u5f55 OMS \u7684 metadb \u5143\u6570\u636e\u5e93\uff0c\u4fee\u6539 rm \u5e93\u7684 oms_user \u8868\uff0c\u5c06 login_failure_times \u548c is_locked \u90fd\u8bbe\u7f6e\u6210 0\u3002\n\u6216\u8005\u8fdb\u5165 oms \u5bb9\u5668\uff1asupervisorctl restart oms_console\uff0c\u91cd\u7f6e\u767b\u5f55\u4fe1\u606f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"OMS4.1 \u64cd\u4f5c \u6dfb\u52a0\u5173\u8054 OCP \u5931\u8d25\uff0c\u63d0\u793a\uff1a\u67e5\u8be2 ocp \u7248\u672c\u5931\u8d25\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u76f8\u5173 OB \u6570\u636e\u6e90\u6ca1\u6709\u4f7f\u7528 OCP \u7ba1\u7406\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u4f7f\u7528 OCP \u7ba1\u7406\uff0c\u4f46 OCP \u66f4\u65b0\u5143\u6570\u636e\u53ef\u80fd\u4e0d\u6b63\u786e\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4f7f\u7528 OCP \u63a5\u7ba1\u6570\u636e\u6e90\u6216\u8005\u90e8\u7f72 config-server \u670d\u52a1\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u53ef\u4ee5\u624b\u52a8\u62fc\u5199 ocp config_url \u4fe1\u606f\uff0cObRegion \u662f\u96c6\u7fa4\u540d\u79f0\uff0c\u5176\u4ed6\u53c2\u6570\u662f\u56fa\u5b9a\u5199\u6cd5\uff1a\n",(0,r.jsx)(e.code,{children:"http://xx.xx.xx.xx:8080/services?Action=ObRootServiceInfo&User_ID=alibaba&UID=ocpmaster&ObRegion=xxxx "})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OMS4.2.0 \u7248\u672c\u521b\u5efa\u6570\u636e\u6e90\u62a5\u9519\u65e0\u6cd5\u8fde\u63a5\uff0c\u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"ERROR 1045 (42000): Access denied for user 'xxx'@'xxx.xxx.xxx.xxx' (using password: YES)"}),"\u3002\n\u4f46\u4f7f\u7528\u76f8\u540c\u914d\u7f6e\u9ed1\u5c4f\u6216\u8005 navicat \u53ef\u4ee5\u8fde\u63a5\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd\u662f OMS \u6570\u636e\u6e90\u672a\u4f7f\u7528 obproxy \u8fde\u63a5\u914d\u7f6e\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"OMS \u914d\u7f6e\u7684\u6570\u636e\u6e90\u53ea\u80fd\u7528 obproxy \u8fde\u63a5\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"obproxy-\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"OBProxy \u95ee\u9898"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBProxy 4.x \u7248\u672c\u505a\u5927\u6279\u91cf\u63d2\u5165\u65f6\u5019\uff0c\u5e94\u7528\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Connection reset by peer"}),"\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["OBProxy \u65e5\u5fd7\u4e2d\u770b\u5230\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"obproxy's memroy is out of limit's 80% !!!"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u8fc7\u62a5\u9519\u4fe1\u606f\u770b\u662f OBProxy \u7684\u5185\u5b58\u8d85\u51fa\u4e86\uff0c\u4f46\u6700\u7ec8\u95ee\u9898\u662f\u73b0\u573a\u63d2\u5165\u662f\u672a\u505a\u8fde\u63a5\u56de\u6536\u5f15\u53d1\u591a\u79cd\u95ee\u9898\uff0c\u53ef\u4ee5\u501f\u9274\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 root@proxysys \u8d26\u53f7 2883 \u7aef\u53e3\u8fde\u63a5\u5230 OBProxy\uff0c\u4fee\u6539\u5185\u5b58\u5927\u5c0f\uff1a",(0,r.jsx)(e.code,{children:"ALTER proxyconfig SET proxy_mem_limited = 6G;"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["obproxy3.2.3 \u65ad\u5f00\u8fde\u63a5\uff0cobproxy.log \u65e5\u5fd7\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"fail to produce(expected size=0, actual size=2, ret=-4016)"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"server \u8fd4\u56de\u7ed9 obproxy \u7684\u5305\u592a\u5927\u65f6\uff0c\u4f1a\u5bfc\u81f4\u65e0\u6cd5\u8bfb\u53d6\u5b8c\u6574\uff0cproduce \u51fd\u6570\u62a5\u9519\uff0cobproxy4.1 \u7248\u672c\u4fee\u590d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7 obproxy \u7248\u672c\u5230 4.1 \u6216\u4ee5\u4e0a\u7248\u672c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"odc-\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"ODC \u95ee\u9898"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 MAC \u5b89\u88c5 ODC V3.3.2 \u62a5\u9519 ",(0,r.jsx)(e.code,{children:"[com.alipay.odc.config.BeanCreateFailedAnalyzer][21]: bean create failed"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u6709\u53ef\u80fd\u662f JAVA \u7248\u672c\u7684\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u63a8\u8350\u4f7f\u7528\u81ea\u5e26 JDK \u7684\u7248\u672c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["ODC \u65b0\u5efa\u8fde\u63a5\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"BadRequest exception, type=IllegalArgumentException, message=Not a valid secret key"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u9002\u7528\u7248\u672c"})}),"\n",(0,r.jsx)(e.p,{children:"ODC 3.x \u7248\u672c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd\u7531\u4e8e JRE \u7248\u672c\u8fc7\u4f4e\uff0c\u51fa\u73b0\u52a0\u5bc6\u5931\u8d25\u5bfc\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u4e0b\u8f7d\u6700\u65b0 ODC \u7248\u672c\uff0c\u63a8\u8350\u4f7f\u7528\u5185\u7f6e jre \u7684 ODC \u7248\u672c"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"ODC V3.2.3 \u5ba2\u6237\u7aef\u62a5 Query timed out \u9519\u8bef\u3002"}),"\n",(0,r.jsxs)(e.p,{children:["\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"ErrorCode = 1317, SQLState = 70100, Details = (conn=405741) Query timed out"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"ODC \u5de5\u5177\u81ea\u8eab\u6709\u4e2a \u201cSQL \u67e5\u8be2\u8d85\u65f6\u65f6\u95f4\u201d \u8bbe\u7f6e\uff0c\u8fd9\u91cc\u662f SQL \u7684\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u4e86 ODC \u5728\u9a71\u52a8\u5c42\u8bbe\u5b9a\u7684\u8d85\u65f6\u65f6\u95f4\u5bfc\u81f4\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u9700\u8981\u5728 ",(0,r.jsx)(e.strong,{children:"\u8fde\u63a5\u8be6\u60c5"})," \u754c\u9762\u66f4\u6539 \u201cSQL \u67e5\u8be2\u8d85\u65f6\u65f6\u95f4\u201d\uff0c\u4f7f\u5176\u5927\u4e8e SQL \u7684\u5b9e\u9645\u6267\u884c\u65f6\u95f4\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u521a\u90e8\u7f72\u7684 ODC\uff08V3.2.3\uff09 \u6253\u5f00\u4fdd\u5b58 Java \u8fdb\u7a0b\u5f02\u5e38\u9000\u51fa\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(18502).A+"",width:"750",height:"377"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:"Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.h2.jdbc.JdbcSQLNonTransientException: General error: \"java.lang.IllegalStateException: Chunk 3233 not found [1.4.200/9]\" [50000-200]"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"ODC \u684c\u9762\u7248\u4f7f\u7528\u7684\u662f h2 \u4f5c\u4e3a\u5185\u7f6e\u6570\u636e\u6e90\uff0c\u4f46\u662f h2 bug \u6bd4\u8f83\u591a\uff0c\u4e0d\u5927\u7a33\u5b9a\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u6570\u636e\u635f\u574f\u7684\u95ee\u9898\uff0c\u8fd9\u5c31\u4f1a\u5bfc\u81f4 ODC \u65e0\u6cd5\u6253\u5f00\uff0c\u51fa\u73b0\u622a\u56fe\u4e2d\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u5e38\u6765\u8bf4 h2 \u6570\u636e\u6587\u4ef6\u635f\u574f\u662f\u7531\u4e8e\u4e0d\u6b63\u5e38\u5173\u95ed\u8f6f\u4ef6\u5bfc\u81f4\uff0c\u6bd4\u5982 ODC \u6ca1\u6709\u9000\u51fa\u5c31\u76f4\u63a5\u5173\u673a\uff0c\u4efb\u52a1\u7ba1\u7406\u5668\u76f4\u63a5\u7ec8\u6b62\u8fdb\u7a0b\u7b49\u7b49\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5728 ODC \u5b89\u88c5\u76ee\u5f55\u4e0b\u5220\u9664 odc2.x.mv.db\uff0codc2.0.trace.db\uff0c\u4e4b\u540e\u91cd\u542f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["ODC4.2.2 \u8fde\u63a5 OB \u5931\u8d25\uff0c\u63d0\u793a\u8bbf\u95ee\u5143\u6570\u636e\u5e93\u9519\u8bef\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u3002\n\u65e5\u5fd7\u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"java.sql.SQLException: Data too long for column 'client_ip_address' at row 1,perfLevel=P1,response=ErrorResponse(error=Error(code=DataAccessError, message=\u8bbf\u95ee\u5143\u6570\u636e\u5e93\u9519\u8bef\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458, details=[]), code=DataAccessError, message=\u8bbf\u95ee\u5143\u6570\u636e\u5e93\u9519\u8bef\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458)"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u80fd odc \u672a\u4f7f\u7528 obproxy \u8fde\u63a5 ob\u3002\u56e0\u4e3a odc \u53ea\u652f\u6301\u901a\u8fc7 obproxy \u8fde\u63a5 OB \u6570\u636e\u5e93\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fde\u63a5\u4e32\u4f7f\u7528 obproxy \u7684 IP \u548c\u7aef\u53e3\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["ODC4.2.2 \u8fde\u63a5\u539f\u751f mysql \u5931\u8d25\uff0c\u754c\u9762\u62a5\u9519\uff1a",(0,r.jsx)(e.code,{children:'for input string\uff1a"32-78"'})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5185\u90e8\u7f3a\u9677\uff0cODC423 \u4fee\u590d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7 ODC4.2.3 \u7248\u672c\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"obdumperobloader-\u4f7f\u7528\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"OBDUMPER/OBLOADER \u4f7f\u7528\u95ee\u9898"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1a\u5982\u4f55\u89e3\u51b3\u4f7f\u7528 OBLOADER \u5bfc\u5165\u65f6\u9047\u5230 OOM \u9519\u8bef\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u9996\u5148\u4fee\u6539 bin/obloader \u811a\u672c\u4e2d\u7684 JAVA \u865a\u62df\u673a\u5185\u5b58\u53c2\u6570\u3002\u5176\u6b21\u6392\u9664 OpenJDK GC Bug\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1a\u5982\u4f55\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u8fd0\u884c OBLOADER \u6392\u67e5\u95ee\u9898\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u76f4\u63a5\u8fd0\u884c bin/obloader-debug \u8fdb\u884c\u5bfc\u5165\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1a\u5982\u4f55\u4f7f\u7528 OBLOADER \u5bfc\u5165\u4e0e\u8868\u4e0d\u540c\u540d\u7684\u6570\u636e\u6587\u4ef6\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u547d\u4ee4\u884c\u4e2d\u7684 ",(0,r.jsx)(e.code,{children:"-f"})," \u9009\u9879\u6307\u5b9a\u4e3a\u6570\u636e\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:"--table 'test' -f '/output/hello.csv'"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1a\u4e3a\u8868\u914d\u7f6e\u4e86\u63a7\u5236\u6587\u4ef6\uff0c\u5bfc\u5165\u7684\u6570\u636e\u4e3a\u4ec0\u4e48\u6ca1\u6709\u751f\u6548\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u8981\u6c42\u63a7\u5236\u6587\u4ef6\u7684\u540d\u79f0\u4e0e\u8868\u540d\u76f8\u540c\u4e14\u5927\u5c0f\u5199\u4e00\u81f4\u3002MySQL \u9ed8\u8ba4\u8868\u540d\u4e3a\u5c0f\u5199\uff0cOracle \u9ed8\u8ba4\u8868\u540d\u4e3a\u5927\u5199\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1a\u8fd0\u884c OBLOADER \u811a\u672c\u65f6\uff0c\u547d\u4ee4\u884c\u9009\u9879\u672a\u88ab\u6b63\u5e38\u89e3\u6790\u7684\u539f\u56e0\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u53ef\u80fd\u662f\u547d\u4ee4\u884c\u53c2\u6570\u503c\u4e2d\u5b58\u5728\u7279\u6b8a\u7b26\u53f7\u3002\u4f8b\u5982\uff1aLinux \u5e73\u53f0\u4e0a\u8fd0\u884c\u5bfc\u6570\u5de5\u5177\uff0c\u5bc6\u7801\u4e2d\u5b58\u5728\u5927\u4e8e\u53f7\uff08\u6ce8\uff1a> \u662f\u91cd\u5b9a\u5411\u7b26\uff09\uff0c\u5bfc\u81f4\u8fd0\u884c\u7684\u65e5\u5fd7\u90fd\u4f1a\u51fa\u73b0\u4e22\u5931\u3002\u56e0\u6b64\u5728\u4e0d\u540c\u7684\u8fd0\u884c\u5e73\u53f0\u4f7f\u7528\u6b63\u786e\u7684\u5f15\u53f7\u8fdb\u884c\u5904\u7406\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Windows \u5e73\u53f0\u53c2\u6570\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:'--table "*"'}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u7c7b Linux \u5e73\u53f0\u53c2\u6570\u4f7f\u7528\u5355\u5f15\u53f7\u3002\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:"--table '*'"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1a\u8fd0\u884c OBLOADER \u811a\u672c\u65f6\uff0c\u4f55\u65f6\u9700\u8981\u5bf9\u53c2\u6570\u52a0\u5355\u5f15\u53f7\u6216\u8005\u53cc\u5f15\u53f7\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u5efa\u8bae\u7528\u6237\u5728\u4e00\u4e9b\u5b57\u7b26\u4e32\u7684\u53c2\u6570\u503c\u5de6\u53f3\u52a0\u4e0a\u76f8\u5e94\u7684\u5f15\u53f7\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Windows \u5e73\u53f0\u53c2\u6570\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:'--table "*"'}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u7c7b Linux \u5e73\u53f0\u53c2\u6570\u4f7f\u7528\u5355\u5f15\u53f7\u3002\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:"--table '*'"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1a\u5916\u90e8\u6587\u4ef6\u683c\u5f0f\u4e0d\u7b26\u5408\u8981\u6c42\u5bfc\u81f4\u5bfc\u5165\u5931\u8d25\uff0c\u5e94\u8be5\u5982\u4f55\u89e3\u51b3\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u5bfc\u5165\u5916\u90e8\u6587\u4ef6\u65f6\u5bf9\u683c\u5f0f\u6709\u4ee5\u4e0b\u8981\u6c42\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5916\u90e8\u6587\u4ef6\u5982\u679c\u4e3a SQL \u6587\u4ef6\uff0c\u8981\u6c42 SQL \u6587\u4ef6\u4e2d\u4e0d\u80fd\u6709\u6ce8\u91ca\u548c SET \u5f00\u5173\u8bed\u53e5\u7b49\uff0c\u5e76\u4e14\u6587\u4ef6\u4e2d\u53ea\u80fd\u6709 INSERT \u8bed\u53e5\uff0c\u6bcf\u6761\u8bed\u53e5\u4e0d\u53ef\u4ee5\u6362\u884c\u3002\u9664\u6b64\u4ee5\u5916\uff0c\u6587\u4ef6\u4e2d\u5b58\u5728 DDL \u6216\u8005 DML \u8bed\u53e5\uff0c\u5efa\u8bae\u4f7f\u7528 MySQL source \u547d\u4ee4\u5bfc\u5165\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5916\u90e8\u6587\u4ef6\u5982\u679c\u4e3a CSV \u6587\u4ef6\uff0cCSV \u6587\u4ef6\u9700\u7b26\u5408\u6807\u51c6\u5b9a\u4e49\u3002\u8981\u6c42\u6709\u8f6c\u4e49\u7b26\u3001\u5b9a\u754c\u7b26\u3001\u5217\u5206\u9694\u7b26\u548c\u884c\u5206\u9694\u7b26\u3002\u6570\u636e\u4e2d\u5b58\u5728\u5b9a\u754c\u7b26\u9700\u8981\u6307\u5b9a\u8f6c\u4e49\u7b26\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBLOADER \u542f\u52a8\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Access denied for user 'root'@'xxx.xxx.xxx.xxx'"}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u5bfc\u6570\u5de5\u5177\u9ed8\u8ba4\u4f9d\u8d56 root@sys \u7528\u6237\u548c\u5bc6\u7801\u3002\u5982\u679c\u96c6\u7fa4\u4e2d\u5df2\u4e3a root@sys \u7528\u6237\u8bbe\u7f6e\u7684\u5bc6\u7801\uff0c\u8bf7\u5728\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a ",(0,r.jsx)(e.code,{children:"--sys-password"})," \u9009\u9879\u7684\u53c2\u6570\u503c\u4e3a root@sys \u7528\u6237\u8bbe\u7f6e\u7684\u5bc6\u7801\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBLOADER \u8fd0\u884c\u62a5\u9519 Over tenant memory limits \u6216\u8005 No memory or reach tenant memory limit\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u8c03\u5927\u5168\u5c40 SQL \u5de5\u4f5c\u533a\u7684\u5185\u5b58\u6bd4\u4f8b\u6216\u8005\u51cf\u5c11 --thread \u5e76\u53d1\u6570\uff0c\u4f8b\u5982\u3002",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"set global ob_sql_work_area_percentage=30;"})," -- Default 5"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBLOADER \u8fd0\u884c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:'No tables are exists in the schema: "xxx"'}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a",(0,r.jsx)(e.code,{children:"--table 't1,t2'"})," \u9009\u9879\u6307\u5b9a\u7684\u8868\u540d\u4e00\u5b9a\u662f\u6570\u636e\u5e93\u4e2d\u5df2\u7ecf\u5b9a\u4e49\u7684\u8868\u540d\uff0c\u4e14\u5927\u5c0f\u5199\u9700\u8981\u4fdd\u6301\u4e00\u81f4\u3002MySQL \u6a21\u5f0f\u4e0b\u9ed8\u8ba4\u8868\u540d\u4e3a\u5c0f\u5199\uff0cOracle \u6a21\u5f0f\u4e0b\u9ed8\u8ba4\u8868\u540d\u4e3a\u5927\u5199\u3002\u5982\u679c Oracle \u4e2d\u5b9a\u4e49\u7684\u8868\u540d\u4e3a\u5c0f\u5199\uff0c\u8868\u540d\u5de6\u53f3\u9700\u8981\u4f7f\u7528\u4e2d\u62ec\u53f7\u3002\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:"--table '[t1]'"})," \u8868\u793a\u5c0f\u5199\u7684\u8868\u540d\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBLOADER \u8fd0\u884c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:'The xxx files are not found in the path: "xxx"'}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u8981\u6c42 ",(0,r.jsx)(e.code,{children:"-f"})," \u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\u7684\u6570\u636e\u6587\u4ef6\u7684\u540d\u79f0\u4e0e\u8868\u540d\u76f8\u540c\u4e14\u5927\u5c0f\u5199\u4e00\u81f4\u3002MySQL \u6a21\u5f0f\u4e0b\u9ed8\u8ba4\u8868\u540d\u4e3a\u5c0f\u5199\uff0cOracle \u6a21\u5f0f\u4e0b\u9ed8\u8ba4\u8868\u540d\u4e3a\u5927\u5199\u3002\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:"--table 't1'"}),"\u76ee\u5f55\u4e2d\u7684\u6570\u636e\u6587\u4ef6\u987b\u4e3a t1.csv \u6216\u8005 t1.sql\uff0c\u4e0d\u80fd\u662f T1.csv \u6216\u8005\u5176\u5b83\u7684\u6587\u4ef6\u540d\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBLOADER \u8fd0\u884c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:'The manifest file: "xxx" is missing'}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u5143\u6570\u636e\u6587\u4ef6 MANIFEST.bin \u662f OBDUMPER \u5bfc\u51fa\u65f6\u4ea7\u751f\u7684\u3002\u4f7f\u7528\u5176\u5b83\u5de5\u5177\u5bfc\u51fa\u65f6\u6ca1\u6709\u5143\u6570\u636e\u6587\u4ef6\u3002\u901a\u8fc7\u6307\u5b9a ",(0,r.jsx)(e.code,{children:"--external-data"})," \u9009\u9879\u53ef\u8df3\u8fc7\u68c0\u67e5\u5143\u6570\u636e\u6587\u4ef6\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBLOADER \u5bfc\u5165 Delimited Text \u683c\u5f0f\u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Index\uff1a0\uff0cSize\uff1a0"}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u51fa\u73b0\u8fd9\u79cd\u9519\u8bef\u7684\u539f\u56e0\u662f\u6570\u636e\u4e2d\u5b58\u5728\u56de\u8f66\u7b26/\u6362\u884c\u7b26\uff0c\u8bf7\u5148\u4f7f\u7528\u811a\u672c\u5220\u9664\u6570\u636e\u4e2d\u7684\u56de\u8f66\u7b26/\u6362\u884c\u7b26\u540e\u518d\u5bfc\u5165\u6570\u636e\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOceanBase \u6570\u636e\u5e93 MySQL \u6a21\u5f0f\u4e0b\uff0c\u8fde\u63a5 ODP (Sharding) \u903b\u8f91\u5e93\u5bfc\u5165 KEY \u5206\u533a\u8868\u6570\u636e\u65f6\uff0cOceanBase Database Proxy (ODP) \u663e\u793a\u5185\u5b58\u4e0d\u8db3\u4e14 OBLOADER \u8fd0\u884c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"socket was closed by server"}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u8bbe\u7f6e proxy_mem_limited \u53c2\u6570\u7684\u6743\u9650\uff0c\u786e\u8ba4\u662f\u5426\u6709\u5916\u90e8\u4f9d\u8d56\uff0cODP \u9ed8\u8ba4\u5185\u5b58\u9650\u5236\u4e3a 2GB\u3002\u8fde\u63a5 ODP (Sharding) \u903b\u8f91\u5e93\u4e14\u901a\u8fc7 OBLOADER \u5bfc\u5165\u6570\u636e\u65f6\u9700\u8981\u4f7f\u7528 root@proxysys \u8d26\u53f7\u6743\u9650\uff0c\u4fee\u6539\u903b\u8f91\u5e93\u5185\u5b58\u9650\u5236\u8bed\u53e5\u5982\u4e0b\u3002",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"ALTER proxyconfig SET proxy_mem_limited = xxg;"})]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1a\u5982\u4f55\u89e3\u51b3\u4f7f\u7528 OBDUMPER \u5bfc\u51fa\u65f6\u9047\u5230 OOM \u9519\u8bef\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u9996\u5148\u4fee\u6539 bin/obdumper \u811a\u672c\u4e2d\u7684 JAVA \u865a\u62df\u673a\u5185\u5b58\u53c2\u6570\uff0c\u5176\u6b21\u6392\u9664 OpenJDK GC Bug\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1a\u5982\u4f55\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u8fd0\u884c OBDUMPER \u6392\u67e5\u95ee\u9898\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u76f4\u63a5\u8fd0\u884c bin \u76ee\u5f55\u4e0b\u7684\u8c03\u8bd5\u811a\u672c\uff0c\u4f8b\u5982\uff1aobdumper-debug\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1a\u4e3a\u8868\u914d\u7f6e\u4e86\u63a7\u5236\u6587\u4ef6\uff0c\u5bfc\u5165\u6216\u8005\u5bfc\u51fa\u7684\u6570\u636e\u4e3a\u4ec0\u4e48\u6ca1\u6709\u751f\u6548\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u8981\u6c42\u63a7\u5236\u6587\u4ef6\u7684\u540d\u79f0\u4e0e\u8868\u540d\u76f8\u540c\u4e14\u5927\u5c0f\u5199\u4e00\u81f4\u3002MySQL \u9ed8\u8ba4\u8868\u540d\u4e3a\u5c0f\u5199\uff0cOracle \u9ed8\u8ba4\u8868\u540d\u4e3a\u5927\u5199\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBDUMPER \u5bfc\u51fa\u6570\u636e\u65f6\uff0c\u4e3a\u4ec0\u4e48\u7a7a\u8868\u672a\u4ea7\u751f\u7a7a\u6570\u636e\u6587\u4ef6\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u9ed8\u8ba4\u7a7a\u8868\u4e0d\u4f1a\u4ea7\u751f\u5bf9\u5e94\u7684\u7a7a\u6587\u4ef6\u3002",(0,r.jsx)(e.code,{children:"--retain-empty-files"})," \u9009\u9879\u53ef\u4fdd\u7559\u7a7a\u8868\u6240\u5bf9\u5e94\u7684\u7a7a\u6587\u4ef6\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBDUMPER \u8fd0\u884c\u811a\u672c\u65f6\uff0c\u547d\u4ee4\u884c\u53c2\u6570\u672a\u88ab\u6b63\u5e38\u89e3\u6790\u7684\u539f\u56e0\u662f\u4ec0\u4e48\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u53ef\u80fd\u662f\u547d\u4ee4\u884c\u53c2\u6570\u4e2d\u5b58\u5728\u7279\u6b8a\u7b26\u53f7\u3002Linux \u5e73\u53f0\u4e0a\u8fd0\u884c OBDUMPER\uff0c\u5bc6\u7801\u4e2d\u5b58\u5728\u5927\u4e8e\u53f7\uff08> \u662f\u91cd\u5b9a\u5411\u7b26\uff09\uff0c\u5bfc\u81f4\u8fd0\u884c\u7684\u65e5\u5fd7\u51fa\u73b0\u4e22\u5931\u3002\u56e0\u6b64\u5728\u4e0d\u540c\u7684\u8fd0\u884c\u5e73\u53f0\u8bf7\u4f7f\u7528\u6b63\u786e\u7684\u5f15\u53f7\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Windows \u5e73\u53f0\u53c2\u6570\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:'--table "*"'}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u7c7b Linux \u5e73\u53f0\u53c2\u6570\u4f7f\u7528\u5355\u5f15\u53f7\u3002\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:"--table '*'"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBDUMPER \u6307\u5b9a --query-sql '\u5927\u67e5\u8be2\u8bed\u53e5' \u5bfc\u51fa\u6570\u636e\u8fc7\u7a0b\u4e2d\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Connection reset"}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u767b\u5165 sys \u79df\u6237\uff0c\u5c06 OBProxy \u914d\u7f6e\u53c2\u6570 ",(0,r.jsx)(e.code,{children:"client_tcp_user_timeout"})," \u548c ",(0,r.jsx)(e.code,{children:"server_tcp_user_timeout"})," \u8bbe\u7f6e\u4e3a 0\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBDUMPER \u542f\u52a8\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Access denied for user 'root'@'xxx.xxx.xxx.xxx'"}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1aOBDUMPER \u9ed8\u8ba4\u4f9d\u8d56 root@sys \u7528\u6237\u548c\u5bc6\u7801\u3002\u5982\u679c\u96c6\u7fa4\u4e2d\u5df2\u4e3a root@sys \u7528\u6237\u8bbe\u7f6e\u5bc6\u7801\uff0c\u8bf7\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 ",(0,r.jsx)(e.code,{children:"--sys-password"})," \u9009\u9879\u5e76\u6307\u5b9a\u6b63\u786e\u7684 root@sys \u7528\u6237\u7684\u5bc6\u7801\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBDUMPER \u8fd0\u884c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:'The target directory: "xxx" is not empty'}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u4e3a\u9632\u6b62\u6570\u636e\u8986\u76d6\uff0c\u5bfc\u51fa\u6570\u636e\u524d\uff0cOBDUMPER \u4f1a\u68c0\u67e5\u8f93\u51fa\u76ee\u5f55\u662f\u5426\u4e3a\u7a7a\uff08\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"--skip-check-dir"})," \u9009\u9879\u53ef\u8df3\u8fc7\u6b64\u68c0\u67e5\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBDUMPER \u8fd0\u884c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Request to read too old versioned data"}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u5f53\u524d\u67e5\u8be2\u6240\u4f9d\u8d56\u7684\u6570\u636e\u7248\u672c\u5df2\u7ecf\u88ab\u56de\u6536\uff0c\u7528\u6237\u9700\u8981\u6839\u636e\u67e5\u8be2\u8bbe\u7f6e UNDO \u7684\u4fdd\u7559\u65f6\u95f4\u3002\n\u4f8b\u5982\uff1a",(0,r.jsx)(e.code,{children:"set global undo_retention=xxx"}),"\u3002\u9ed8\u8ba4\u5355\u4f4d\uff1a\u79d2\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBDUMPER \u8fd0\u884c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"ChunkServer out of disk space"}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u7531\u4e8e _temporary_file_io_area_size \u53c2\u6570\u503c\u8fc7\u5c0f\u5f15\u8d77\u5b58\u50a8\u5757\u6ea2\u51fa\u9519\u8bef\uff0c\u53ef\u4fee\u6539\u8be5\u7cfb\u7edf\u914d\u7f6e\u53c2\u6570\uff0c\u4f8b\u5982\u3002",(0,r.jsx)(e.br,{}),"\n","\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"SELECT * FROM oceanbase.__all_virtual_sys_parameter_stat WHERE name='_temporary_file_io_area_size';"})," \u547d\u4ee4\u67e5\u8be2\u8be5\u53c2\u6570\u503c\uff0c\u5e76\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"ALTER SYSTEM SET _temporary_file_io_area_size = 20;"})," \u547d\u4ee4\u4fee\u6539\u8be5\u53c2\u6570\u503c\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aOBDUMPER \u67e5\u8be2\u89c6\u56fe\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"SELECT command denied to user 'xxx'@'%' for table SYS.XXX"}),"\u3002",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u7531\u4e8e\u7528\u6237\u65e0\u8bbf\u95ee\u5185\u90e8\u8868\u6216\u8005\u89c6\u56fe\u7684\u6743\u9650\uff0c\u9700\u8981\u8fd0\u884c\u8bed\u53e5 ",(0,r.jsx)(e.code,{children:"GRANT SELECT SYS.XXX TO xxx;"})," \u4e3a\u7528\u6237\u8fdb\u884c\u6388\u6743\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Q\uff1aobloader \u600e\u4e48\u4e00\u6b21\u6027\u52a0\u8f7d\u591a\u4e2a\u6587\u4ef6\u5bfc\u5165\uff1f",(0,r.jsx)(e.br,{}),"\n","A\uff1a\u6570\u636e\u6587\u4ef6\u653e\u7f6e\u4e00\u4e2a\u6587\u4ef6\u5939\u5185\uff0c",(0,r.jsx)(e.code,{children:"-f"})," \u53c2\u6570\u6307\u5b9a\u6587\u4ef6\u5939\u5373\u53ef\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Q\uff1aload data \u600e\u4e48\u5bfc\u5165\u591a\u4e2a\u6587\u4ef6\uff1f\nA\uff1aINFILE \u53c2\u6570\u540e\u9762\u8ddf\u591a\u4e2a\u6587\u4ef6\u8def\u5f84\uff0c\u9017\u53f7\u5206\u9694\uff0c\u6682\u65f6\u4e0d\u652f\u6301\u901a\u914d\u7b26\u591a\u5339\u914d\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Q\uff1aobdumper \u5bfc\u51fa\u6570\u636e\u4e0d\u80fd\u5408\u5e76\u6210\u5355\u6587\u4ef6\uff1f\nA\uff1a\u591a\u4e2a\u8868\u7684\u6570\u636e\u6216\u8005\u662f\u591a\u4e2a\u8868\u7684\u8868\u7ed3\u6784 \u4e0d\u80fd\u5408\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\u3002--file-name \u53c2\u6570\u662f\u9488\u5bf9\u5355\u8868\u5408\u5e76\u7684\uff0c\u4e00\u5f20\u8868\u5bf9\u5e94\u7684\u5b50\u6587\u4ef6\u6307\u7684\u662f \u6bd4\u5982\u5206\u533a\u8868\uff0c\u6216\u8005\u5206\u533a\u5927\u8868\u88ab\u5207\u5206 \u4f1a\u5bfc\u51fa\u591a\u4e2a\u5b50\u6587\u4ef6\uff0c\u5408\u5e76\u662f\u9488\u5bf9\u8fd9\u4e2a\u573a\u666f\u7684\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 obloader V3.0.0 \u6267\u884c ",(0,r.jsx)(e.code,{children:"obdumper --version"})," \u547d\u4ee4\u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Invalid usage long options max width 60. Value must not exceed width"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5df2\u77e5\u7684\u547d\u4ee4\u884c\u6846\u67b6 bug\uff0cobloader V4.0.0 \u5df2\u4fee\u590d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u56fe\u6240\u793a\uff0c\u7f16\u8f91 obdumper \u811a\u672c\uff0c\u589e\u52a0\u53c2\u6570 ",(0,r.jsx)(e.code,{children:"-Dpicocli.usage.width=180"}),"\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(29786).A+"",width:"1380",height:"326"})]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 obloader V3.0.0 \u6267\u884c obloader \u5bfc\u5165\u65f6\u9047\u5230\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"Invalid usage long options max width 60. Value must not exceed width(55) - 20"}),"\u3002\n",(0,r.jsx)(e.img,{alt:"image.png",src:s(68376).A+"",width:"1170",height:"180"})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5df2\u77e5\u7684\u547d\u4ee4\u884c\u6846\u67b6 bug\uff0cobloader V4.0.0 \u5df2\u4fee\u590d\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u5728\u8fd0\u884c\u811a\u672c\u4e2d\u6dfb\u52a0 jvm \u542f\u52a8\u53c2\u6570 ",(0,r.jsx)(e.code,{children:"-Dpicocli.usage.width=180"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBLoader4.2.6 \u5728 openEuler \u7cfb\u7edf\u4e0a\u6267\u884c\u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"The stack size specified is too small, Specify at least 456k"})," > ",(0,r.jsx)(e.code,{children:"Error: Could not create the Java Virtual Machine."})," > ",(0,r.jsx)(e.code,{children:"Error: A fatal exception has occurred. Program will exit."})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u5217\u4e3e JVM -Xss \u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u7684\u6700\u5c0f\u503c\uff1a\n\u64cd\u4f5c\u7cfb\u7edf \u53c2\u6570 \u6700\u5c0f\u503c\nCentOS -Xss 228k\nArm -Xss 352k\nEuler -Xss 456k"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u5728\u5176\u5b83\u7cfb\u7edf\u4e0a\u8fd0\u884c obloader/obdumper \u62a5\u9519\nvim \u7f16\u8f91 obloader/obdumper \u8fd0\u884c\u811a\u672c\uff0c\u4fee\u6539 JVM -Xss \u6808\u5927\u5c0f\u5373\u53ef\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 obloader \u62a5\u9519\uff0c\u63d0\u793a\uff1a",(0,r.jsx)(e.code,{children:"reason:'gbk'"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"obloader \u9ed8\u8ba4\u91c7\u7528 UTF-8 \u7f16\u7801\u5904\u7406\u6570\u636e\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u68c0\u67e5\u6570\u636e\u6587\u4ef6\u7684\u7f16\u7801\u662f\u4e0d\u662f UTF-8\uff0c\u547d\u4ee4\u884c\u9009\u9879\u4e2d\u6709 ",(0,r.jsx)(e.code,{children:"--file-encoding 'UTF-8'"})," \u9009\u9879\uff0c\u6307\u5b9a\u6587\u4ef6\u5185\u5bb9\u7684\u8bfb\u53d6\u7f16\u7801\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["OBloader4.2.5 \u5bfc\u5165\u5931\u8d25\uff0c\u544a\u8b66\uff1a\n",(0,r.jsx)(e.code,{children:'[INFO] File: "/data/xxx/x1.sql" is not contained, ignore it'})," > ",(0,r.jsx)(e.code,{children:'[INFO] Find 0 resources in local path: "/data/xxx/data" success. Elapsed: 204.5 ms '})," > ",(0,r.jsx)(e.code,{children:"[WARN] No subfiles are generated from path: /data/xxx/data"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"Find 0 resources in local path"})," \u8bf4\u660e\u672a\u627e\u5230\u5bfc\u5165\u6587\u4ef6\u3002\u5728\u4e0d\u663e\u5f0f\u6307\u5b9a ",(0,r.jsx)(e.code,{children:"'-f'"})," \u4e3a\u5177\u4f53\u6587\u4ef6\u8def\u5f84\u65f6\uff08-f \u4e3a\u76ee\u5f55\uff09\uff0cobloader \u5c06\u901a\u8fc7\u6587\u4ef6\u540d\u89c4\u5219\u5339\u914d\u7684\u65b9\u5f0f\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"-f \u6307\u5b9a\u4e3a\u76ee\u5f55\u8def\u5f84\uff0c\u6216\u901a\u8fc7 --file-regular-expression \u6307\u5b9a\u9700\u5bfc\u5165\u6587\u4ef6\u540d\u7684\u6b63\u5219\u5339\u914d\u89c4\u5219\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["obdumper4.2.5 \u7248\u672c\u5bfc\u51fa\u8868\u5b57\u6bb5\u65f6\u95f4\u4e3a",(0,r.jsx)(e.code,{children:"'0000-00-00'"}),"\u6216",(0,r.jsx)(e.code,{children:"'0000-00-00 00:00:00.000'"}),"\u7684\u6570\u636e\u5bfc\u51fa\u4e3a null\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"obdumper \u9ed8\u8ba4\u884c\u4e3a\uff0c\u56e0\u4e3a'0000-00-00'\u975e\u6b63\u5e38\u65f6\u95f4\u683c\u5f0f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u5bfc\u51fa\u589e\u52a0 --preserve-zero-datetime \u53c2\u6570\uff0c\u4fdd\u7559\u65f6\u95f4\u6570\u636e\u539f\u6709\u683c\u5f0f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"obdumper4.2.5 \u81ea\u52a8-D\uff0c--table \u9009\u9879\u4e0d\u751f\u6548\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u548c--all \u53c2\u6570\u4e92\u65a5\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"--all \u9009\u9879\u4e0e\u4efb\u610f\u7684\u6570\u636e\u5e93\u5bf9\u8c61\u9009\u9879\u4e4b\u95f4\u90fd\u662f\u4e92\u65a5\u7684\uff0c\u4e0d\u53ef\u540c\u65f6\u6307\u5b9a\uff0c\u5982\u679c\u540c\u65f6\u6307\u5b9a --all \u9009\u9879\u4e0e\u4efb\u610f\u7684\u6570\u636e\u5e93\u5bf9\u8c61\u9009\u9879\uff0c\u5219\u4f1a\u4f18\u5148\u6267\u884c --all \u9009\u9879\u547d\u4ee4\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"\u5176\u4ed6",children:(0,r.jsx)(e.strong,{children:"\u5176\u4ed6"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 OBD V1.5.0 \u7248\u672c\u6267\u884c mysqltest \u5931\u8d25\uff0c\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"mysqltest: At line 85: Version format 4 has not yet been implemented"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u83b7\u53d6\u7684 mysqltest \u7684\u4e8c\u8fdb\u5236\u7248\u672c\u4e0d\u662f\u6700\u65b0\u7684\uff0c\u53ef\u4ee5\u66f4\u65b0 OBClient\uff0c\u83b7\u53d6\u6700\u65b0\u7684 mysqltest \u53ef\u6267\u884c\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u66f4\u65b0\u4e3a\u6700\u65b0\u7684 OBClient\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 dbcat \u8fc1\u79fb\u6570\u636e\u5230 OceanBase \u6570\u636e\u5e93\uff083.1.x \u7248\u672c\uff09\u65f6\u62a5\u9519 ",(0,r.jsx)(e.code,{children:"The table charset: ''latin1\" is unsupported in OBMYSQL_2.2.50(2.2.50). Object: test.t2"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsxs)(e.p,{children:["OceanBase \u6570\u636e\u5e93 3.x \u793e\u533a\u7248\u672c\u652f\u6301\u7684\u5b57\u7b26\u96c6\u975e\u5e38\u6709\u9650\uff0c\u5f53\u4ece MySQL \u4e2d\u5bfc\u51fa\u6570\u636e\u65f6\uff0c\u8981\u786e\u4fdd\u6570\u636e\u5e93\u91cc\u7684\u5b57\u7b26\u90fd\u80fd\u6b63\u786e\u8f93\u51fa\u5230\u6587\u4ef6\u4e2d\u3002\u901a\u8fc7 vim \u547d\u4ee4\u4e0b\u7684 ",(0,r.jsx)(e.code,{children:":set fileencoding"})," \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u6587\u4ef6\u7684\u7f16\u7801\uff0c\u4e00\u822c\u5efa\u8bae\u90fd\u662f utf-8\u3002 \u8fd9\u6837\u901a\u8fc7\u6587\u4ef6\u8fc1\u79fb MySQL \u6570\u636e\u65f6\u5c31\u4e0d\u4f1a\u51fa\u73b0\u4e71\u7801\u73b0\u8c61\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u793e\u533a\u7248 4.x \u7248\u672c\u540e\u5e38\u89c1\u7684\u5b57\u7b26\u96c6\u57fa\u672c\u4e0a\u90fd\u652f\u6301\u4e86\uff0c\u53ef\u4f7f\u7528\u6700\u65b0\u7684 OceanBase \u6570\u636e\u5e93 4.x \u793e\u533a\u7248\u672c\uff0c\u6216\u8005\u4fdd\u8bc1\u5b57\u7b26\u96c6\u4fdd\u6301\u4e00\u81f4\u3002\u53ef\u4fee\u6539 /etc/my.cnf \u6587\u4ef6\uff0c\u53c2\u8003\u6587\u6863\uff1a",(0,r.jsx)(e.a,{href:"https://www.cnblogs.com/onepixel/p/9154884.html",children:"centos \u4fee\u6539 mysql \u5b57\u7b26\u96c6 - \u4e00\u50cf\u7d20 - \u535a\u5ba2\u56ed"}),"\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u4e0a\u8ff0\u65e0\u6cd5\u89e3\u51b3\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u53ea\u4fee\u6539\u4e86\u6570\u636e\u5e93\u7f16\u7801\uff0c\u800c\u8868\u7684\u9ed8\u8ba4\u7f16\u7801\u6ca1\u6709\u4fee\u6539\uff0c\u53ef\u518d\u6267\u884c ",(0,r.jsx)(e.code,{children:"alter table t1 convert to charset uft8;"})," \u547d\u4ee4\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u4ecd\u65e0\u6cd5\u89e3\u51b3\u53ef\u91cd\u65b0\u521b\u5efa\u6570\u636e\u5e93\uff0c\u521b\u5efa\u65f6\u5c31\u6307\u5b9a\u597d\u7f16\u7801\uff0c\u6d89\u53ca\u547d\u4ee4\uff1a",(0,r.jsx)(e.code,{children:"create database test character set utf8 collate utf8_general_ci;"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsx)(e.p,{children:"oblogproxy \u8fd0\u884c\u540e\u5728/usr/local/oblogproxy/run \u76ee\u5f55\u4e0b\u751f\u6210\u5927\u91cf\u6587\u4ef6\u6587\u4ef6\uff0c\u9020\u6210\u78c1\u76d8\u7206\u6ee1"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"\u8be5\u65e5\u5fd7\u9ed8\u8ba4\u662f\u5f00\u542f\u8f6e\u8f6c\u6e05\u7406\uff0c\u9ed8\u8ba4\u662f 20G \u6216\u8005 40 \u4e2a\u6587\u4ef6\u3002\u53ef\u80fd\u662f\u78c1\u76d8\u592a\u5c0f\u672a\u8fbe\u5230\u6e05\u7406\u9600\u503c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u624b\u52a8\u5220\u9664\u65e5\u5fd7\uff0c\u6216\u8005\u4fee\u6539 obcdc \u7684\u65e5\u5fd7\u4e2a\u6570 max_log_file_count \u53c2\u6570\u914d\u7f6e\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u95ee\u9898\u73b0\u8c61"})}),"\n",(0,r.jsxs)(e.p,{children:["\u90e8\u7f72 oblogproxy \u65f6 out.log \u65e5\u5fd7\u62a5\u9519\uff1a\n",(0,r.jsx)(e.code,{children:"Failed to decrypt(final), ret:0"})," > ",(0,r.jsx)(e.code,{children:"Failed to decrypt: root"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),"\n",(0,r.jsx)(e.p,{children:"conf.json \u4e2d ob_sys_username \u548c ob_sys_password \u9700\u8981\u4f7f\u7528\u52a0\u5bc6\u5b57\u7b26\u4e32\uff0c\u975e\u660e\u6587\u4fe1\u606f\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6267\u884c ",(0,r.jsx)(e.code,{children:"sh run.sh config_sys ${username} ${password}"})," \u81ea\u52a8\u914d\u7f6e\u6216\u8005 ",(0,r.jsx)(e.code,{children:"./bin/logproxy -x ${username}"})," \u5f97\u5230\u52a0\u5bc6\u5b57\u7b26\u4e32\u540e\u624b\u52a8\u914d\u7f6e\u3002"]}),"\n"]})]})}function t(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(h,{...n})}):h(n)}},34435:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1665307305238-ceb2f464-3711-42c4-8ac1-698ef8c880fe-e4849fbc112cf871398ea16006db647c.png"},76884:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1665308040282-69fbfbc7-38cc-4b1b-9ab8-7542921f6f0f-bbf7e064ce280a84d8d02b81bae17dc6.png"},49716:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1668247000430-b1ee6f69-76c1-47de-9490-81703b27afd5-9dcd4a9e6741db929d073a117b6b3834.png"},73827:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1668842141080-38f78b3b-ce4d-4359-b57d-b6ef1efbb0de-a720fda1a117625bb749e35afb2109a2.png"},27001:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1669531503193-3103f39a-b2c1-44e9-8a01-b71323c6f235-294e3e89e738bd8213be5a47d25d8df3.png"},62922:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1669539589485-040e0a5f-16f6-4bff-85e8-2b5d3589924a-ae6e23c95119eeefca8673179102e66b.png"},49230:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1670131241278-78cdfae8-ae76-4960-8b72-c508421880d9-1e514d58a80d9f3d76d248e3d338fcf4.png"},56651:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1670161481022-cbfd877d-fc4c-4d16-8ce4-028e43bbabb7-ea2c71e1527ddc0af0addf2613316cad.png"},7120:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1670653105470-80824e4b-b9d5-4b23-8c53-fbcd928294c4-b30bf3ed8396a58bc8426d4f8a72a6b4.png"},84146:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1670657367060-af9a5525-b9d6-448f-bdb8-a94e93f3ae9d-d210f7a778aaa470810bae584f25cb82.png"},91441:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1670661197103-eb4f28ed-0eb6-4277-b719-417938c4419f-100f17c2e50de835dad2c271f14aa9f8.png"},73706:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1670665435483-e597b7b5-1ade-485a-8b32-bf683933f950-5ce46b36cc147d567812595d3a7e5240.png"},76659:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1670665860175-1f4b8886-409a-41d6-9ecf-c47b579adf8d-c1a4adddd241167df38afb4292807e55.png"},31107:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1670835604707-b526c34a-d51f-482c-8cdb-af4c578cd5f9-39d29e72cec80a23cea02dc0f6b74be8.png"},81115:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1671178876425-4f89a6d7-14e7-4c5f-81a7-7b45d832204b-a35fd7682fb73e78d5dfbac55301150b.png"},65306:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1671330730151-a86d1780-969f-469c-b778-0603e730219e-9c9a1d22e886e6e30b0e27b0cf995a48.png"},68376:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1671345885973-1fddcabc-cd28-4140-a522-d821a9d30843-db987e4081f85bbb6a85b05592d5ccde.png"},29786:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1673161412003-95726b07-dd81-4714-a19d-b91d42b29408-25924a18892c40188c3c63bbec79d08f.png"},73771:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1676864800701-308adf5b-2473-4c80-8219-2e5aa7b50029-713fb9deaabe816174d24ce401f883f1.png"},64858:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1677054083006-45acdf0a-de75-4077-962c-cb64ed224fe1-e1d8a199675569409da1340c74a9e833.png"},18449:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1679294604936-21502072-f996-49b8-a69c-2ea5a9583539-0d59e2894fdb95076fa2fecece20af03.png"},48378:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1679294670666-987ea895-1277-4cb1-bd5d-1761b065e343-8b94a1d30e37ec3b421f78f30310f9a1.png"},95462:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1679833693317-53646c42-6030-4025-9a9e-ef1ae0cdc6a4-829d9fbd3e40ea229b42a7a5b497b5e0.png"},48155:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1679833729438-ff8ed706-d886-4cce-a024-e5677c46fe67-342d7175e39da0b6f5239996c6d2bf1a.png"},83766:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1682389370244-dedd852a-3c9d-487f-96ef-0d69dce7b26f-eab3ec69486de6d2e595917f101e242d.png"},54348:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1684810148859-3d4ebd0c-5c6f-4efb-9c09-e8be5d825fca-e9213a5b19148325f396883e020eac02.png"},58258:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1685439897417-af7f8be4-67bc-4a68-af42-3ddb52ee120f-225e8e4f126dc9d47f1d76de99fc60dc.png"},16434:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1685863518267-caae7175-4423-4415-a508-53517fac19e3-c6d94a4d2c464d651a94e7dbca2f11a2.png"},18502:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1685864534556-2172dfa7-d407-4d33-b8cc-c409a3b2c97d-e3812eeec21b169a5ad4c3284b4034c0.png"},18985:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/1685871560930-10712934-79b6-4810-abc0-546f39cf2899-5c0203aea6fe55771e74714fbee81be5.png"},69506:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/17041707929011-36d808608160d3ff7755796bf6755191.jpg"},9462:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/17041808793823-5201d242a158efd3be7df57548828555.jpg"},34551:(n,e,s)=>{s.d(e,{A:()=>r});const r=s.p+"assets/images/17041809432614-24740d4c5fd136f43b1addbd4d2671c7.jpg"},28453:(n,e,s)=>{s.d(e,{R:()=>i,x:()=>d});var r=s(96540);const c={},l=r.createContext(c);function i(n){const e=r.useContext(l);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:i(n.components),r.createElement(l.Provider,{value:e},n.children)}}}]);